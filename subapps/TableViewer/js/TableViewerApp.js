/*!
 * AMI Web Framework
 *
 * Copyright (c) 2014-XXXX The AMI Team / LPSC / IN2P3
 *
 * This file must be used under the terms of the CeCILL-C:
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-fr.html
 *
 */$AMIClass("TableViewerApp",{$extends:ami.SubApp,onReady:function onReady(userdata){var _this=this;var result=$.Deferred();amiWebApp.loadResources(["subapps/TableViewer/twig/TableViewerApp.twig","ctrl:table"]).done(function(data){amiWebApp.replaceHTML("#ami_main_content",data[0]).done(function(){try{json=JSON.parse(userdata||"{}")}catch(e){json={}}_this.catalog=json.catalog||"";_this.entity=json.entity||"";_this.expression=json.expression||"1=1";_this.primaryField=json.primaryField||"";_this.table=new data[1];result.resolve()})}).fail(function(data){result.reject(data)});return result},onLogin:function onLogin(){$("#A2944C0A_9249_E4D2_3679_494C1A3AAAF0").show();this.table.render("#A2944C0A_9249_E4D2_3679_494C1A3AAAF0","BrowseQuery -catalog=\""+amiWebApp.textToString(this.catalog)+"\" -entity=\""+amiWebApp.textToString(this.entity)+"\" -mql=\"SELECT `*` WHERE "+this.expression+"\"",{showDetails:true,canEdit:amiLogin.hasRole("AMI_ADMIN"),catalog:this.catalog,entity:this.entity,primaryField:this.primaryField,start:1,stop:20,card:true})},onLogout:function onLogout(){$("#A2944C0A_9249_E4D2_3679_494C1A3AAAF0").hide()}});var tableViewerApp=new TableViewerApp;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRhYmxlVmlld2VyQXBwLmVzNi5qcyJdLCJuYW1lcyI6WyIkQU1JQ2xhc3MiLCIkZXh0ZW5kcyIsImFtaSIsIlN1YkFwcCIsIm9uUmVhZHkiLCJ1c2VyZGF0YSIsInJlc3VsdCIsIiQiLCJEZWZlcnJlZCIsImFtaVdlYkFwcCIsImxvYWRSZXNvdXJjZXMiLCJkb25lIiwiZGF0YSIsInJlcGxhY2VIVE1MIiwianNvbiIsIkpTT04iLCJwYXJzZSIsImUiLCJjYXRhbG9nIiwiZW50aXR5IiwiZXhwcmVzc2lvbiIsInByaW1hcnlGaWVsZCIsInRhYmxlIiwicmVzb2x2ZSIsImZhaWwiLCJyZWplY3QiLCJvbkxvZ2luIiwic2hvdyIsInJlbmRlciIsInRleHRUb1N0cmluZyIsInNob3dEZXRhaWxzIiwiY2FuRWRpdCIsImFtaUxvZ2luIiwiaGFzUm9sZSIsInN0YXJ0Iiwic3RvcCIsImNhcmQiLCJvbkxvZ291dCIsImhpZGUiLCJ0YWJsZVZpZXdlckFwcCIsIlRhYmxlVmlld2VyQXBwIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7O0dBYUFBLFNBQVMsQ0FBQyxnQkFBRCxDQUFtQixDQUczQkMsUUFBUSxDQUFFQyxHQUFHLENBQUNDLE1BSGEsQ0FPM0JDLE9BQU8sQ0FBRSxpQkFBU0MsUUFBVCxDQUNULGdCQUNDLEdBQU1DLENBQUFBLE1BQU0sQ0FBR0MsQ0FBQyxDQUFDQyxRQUFGLEVBQWYsQ0FFQUMsU0FBUyxDQUFDQyxhQUFWLENBQXdCLENBQ3ZCLDhDQUR1QixDQUV2QixZQUZ1QixDQUF4QixFQUdHQyxJQUhILENBR1EsU0FBQ0MsSUFBRCxDQUFVLENBRWpCSCxTQUFTLENBQUNJLFdBQVYsQ0FBc0IsbUJBQXRCLENBQTJDRCxJQUFJLENBQUMsQ0FBRCxDQUEvQyxFQUFvREQsSUFBcEQsQ0FBeUQsVUFBTSxDQUU5RCxHQUNBLENBQ0NHLElBQUksQ0FBR0MsSUFBSSxDQUFDQyxLQUFMLENBQVdYLFFBQVEsRUFBSSxJQUF2QixDQUNQLENBQ0QsTUFBTVksQ0FBTixDQUNBLENBQ0NILElBQUksQ0FBRyxFQUNQLENBRUQsS0FBSSxDQUFDSSxPQUFMLENBQWVKLElBQUksQ0FBQ0ksT0FBTCxFQUFnQixFQUEvQixDQUNBLEtBQUksQ0FBQ0MsTUFBTCxDQUFjTCxJQUFJLENBQUNLLE1BQUwsRUFBZSxFQUE3QixDQUNBLEtBQUksQ0FBQ0MsVUFBTCxDQUFrQk4sSUFBSSxDQUFDTSxVQUFMLEVBQW1CLEtBQXJDLENBQ0EsS0FBSSxDQUFDQyxZQUFMLENBQW9CUCxJQUFJLENBQUNPLFlBQUwsRUFBcUIsRUFBekMsQ0FFQSxLQUFJLENBQUNDLEtBQUwsQ0FBYSxHQUFJVixDQUFBQSxJQUFJLENBQUMsQ0FBRCxDQUFyQixDQUVBTixNQUFNLENBQUNpQixPQUFQLEVBQ0EsQ0FuQkQsQ0FxQkEsQ0ExQkQsRUEwQkdDLElBMUJILENBMEJRLFNBQUNaLElBQUQsQ0FBVSxDQUVqQk4sTUFBTSxDQUFDbUIsTUFBUCxDQUFjYixJQUFkLENBQ0EsQ0E3QkQsRUErQkEsTUFBT04sQ0FBQUEsTUFDUCxDQTNDMEIsQ0ErQzNCb0IsT0FBTyxDQUFFLGtCQUNULENBQ0NuQixDQUFDLENBQUMsdUNBQUQsQ0FBRCxDQUEyQ29CLElBQTNDLEdBRUEsS0FBS0wsS0FBTCxDQUFXTSxNQUFYLENBQWtCLHVDQUFsQixDQUEyRCwwQkFBMkJuQixTQUFTLENBQUNvQixZQUFWLENBQXVCLEtBQUtYLE9BQTVCLENBQTNCLENBQWtFLGVBQWxFLENBQWtGVCxTQUFTLENBQUNvQixZQUFWLENBQXVCLEtBQUtWLE1BQTVCLENBQWxGLENBQXdILDZCQUF4SCxDQUFzSixLQUFLQyxVQUEzSixDQUF3SyxJQUFuTyxDQUF3TyxDQUFDVSxXQUFXLENBQUUsSUFBZCxDQUFvQkMsT0FBTyxDQUFFQyxRQUFRLENBQUNDLE9BQVQsQ0FBaUIsV0FBakIsQ0FBN0IsQ0FBNERmLE9BQU8sQ0FBRSxLQUFLQSxPQUExRSxDQUFtRkMsTUFBTSxDQUFFLEtBQUtBLE1BQWhHLENBQXdHRSxZQUFZLENBQUUsS0FBS0EsWUFBM0gsQ0FBeUlhLEtBQUssQ0FBRSxDQUFoSixDQUFtSkMsSUFBSSxDQUFFLEVBQXpKLENBQTZKQyxJQUFJLENBQUUsSUFBbkssQ0FBeE8sQ0FDQSxDQXBEMEIsQ0F3RDNCQyxRQUFRLENBQUUsbUJBQ1YsQ0FDQzlCLENBQUMsQ0FBQyx1Q0FBRCxDQUFELENBQTJDK0IsSUFBM0MsRUFDQSxDQTNEMEIsQ0FBbkIsQ0FBVCxDQW9FQSxHQUFNQyxDQUFBQSxjQUFjLENBQUcsR0FBSUMsQ0FBQUEsY0FBM0IiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEFNSSBXZWIgRnJhbWV3b3JrXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LVhYWFggVGhlIEFNSSBUZWFtIC8gTFBTQyAvIElOMlAzXG4gKlxuICogVGhpcyBmaWxlIG11c3QgYmUgdXNlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIENlQ0lMTC1DOlxuICogaHR0cDovL3d3dy5jZWNpbGwuaW5mby9saWNlbmNlcy9MaWNlbmNlX0NlQ0lMTC1DX1YxLWVuLmh0bWxcbiAqIGh0dHA6Ly93d3cuY2VjaWxsLmluZm8vbGljZW5jZXMvTGljZW5jZV9DZUNJTEwtQ19WMS1mci5odG1sXG4gKlxuICovXG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4kQU1JQ2xhc3MoJ1RhYmxlVmlld2VyQXBwJywge1xuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdCRleHRlbmRzOiBhbWkuU3ViQXBwLFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0b25SZWFkeTogZnVuY3Rpb24odXNlcmRhdGEpXG5cdHtcblx0XHRjb25zdCByZXN1bHQgPSAkLkRlZmVycmVkKCk7XG5cblx0XHRhbWlXZWJBcHAubG9hZFJlc291cmNlcyhbXG5cdFx0XHQnc3ViYXBwcy9UYWJsZVZpZXdlci90d2lnL1RhYmxlVmlld2VyQXBwLnR3aWcnLFxuXHRcdFx0J2N0cmw6dGFibGUnLFxuXHRcdF0pLmRvbmUoKGRhdGEpID0+IHtcblxuXHRcdFx0YW1pV2ViQXBwLnJlcGxhY2VIVE1MKCcjYW1pX21haW5fY29udGVudCcsIGRhdGFbMF0pLmRvbmUoKCkgPT4ge1xuXG5cdFx0XHRcdHRyeVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0anNvbiA9IEpTT04ucGFyc2UodXNlcmRhdGEgfHwgJ3t9Jyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y2F0Y2goZSlcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGpzb24gPSB7LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi99O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhpcy5jYXRhbG9nID0ganNvbi5jYXRhbG9nIHx8ICcnO1xuXHRcdFx0XHR0aGlzLmVudGl0eSA9IGpzb24uZW50aXR5IHx8ICcnO1xuXHRcdFx0XHR0aGlzLmV4cHJlc3Npb24gPSBqc29uLmV4cHJlc3Npb24gfHwgJzE9MSc7XG5cdFx0XHRcdHRoaXMucHJpbWFyeUZpZWxkID0ganNvbi5wcmltYXJ5RmllbGQgfHwgJyc7XG5cblx0XHRcdFx0dGhpcy50YWJsZSA9IG5ldyBkYXRhWzFdKCk7XG5cblx0XHRcdFx0cmVzdWx0LnJlc29sdmUoKTtcblx0XHRcdH0pO1xuXG5cdFx0fSkuZmFpbCgoZGF0YSkgPT4ge1xuXG5cdFx0XHRyZXN1bHQucmVqZWN0KGRhdGEpO1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdG9uTG9naW46IGZ1bmN0aW9uKClcblx0e1xuXHRcdCQoJyNBMjk0NEMwQV85MjQ5X0U0RDJfMzY3OV80OTRDMUEzQUFBRjAnKS5zaG93KCk7XG5cblx0XHR0aGlzLnRhYmxlLnJlbmRlcignI0EyOTQ0QzBBXzkyNDlfRTREMl8zNjc5XzQ5NEMxQTNBQUFGMCcsICdCcm93c2VRdWVyeSAtY2F0YWxvZz1cIicgKyBhbWlXZWJBcHAudGV4dFRvU3RyaW5nKHRoaXMuY2F0YWxvZykgKyAnXCIgLWVudGl0eT1cIicgKyBhbWlXZWJBcHAudGV4dFRvU3RyaW5nKHRoaXMuZW50aXR5KSArICdcIiAtbXFsPVwiU0VMRUNUIGAqYCBXSEVSRSAnICsgdGhpcy5leHByZXNzaW9uICsgJ1wiJywge3Nob3dEZXRhaWxzOiB0cnVlLCBjYW5FZGl0OiBhbWlMb2dpbi5oYXNSb2xlKCdBTUlfQURNSU4nKSwgY2F0YWxvZzogdGhpcy5jYXRhbG9nLCBlbnRpdHk6IHRoaXMuZW50aXR5LCBwcmltYXJ5RmllbGQ6IHRoaXMucHJpbWFyeUZpZWxkLCBzdGFydDogMSwgc3RvcDogMjAsIGNhcmQ6IHRydWV9KTtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdG9uTG9nb3V0OiBmdW5jdGlvbigpXG5cdHtcblx0XHQkKCcjQTI5NDRDMEFfOTI0OV9FNEQyXzM2NzlfNDk0QzFBM0FBQUYwJykuaGlkZSgpO1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG59KTtcblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4vKiBHTE9CQUwgSU5TVEFOQ0UgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5jb25zdCB0YWJsZVZpZXdlckFwcCA9IG5ldyBUYWJsZVZpZXdlckFwcCgpO1xuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbiJdfQ==
