/*!
 * AMI Web Framework
 *
 * Copyright (c) 2014-XXXX The AMI Team / LPSC / IN2P3
 *
 * This file must be used under the terms of the CeCILL-C:
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-fr.html
 *
 */$AMIClass("TableViewerApp",{$extends:ami.SubApp,onReady:function onReady(userdata){var _this=this;var result=$.Deferred();amiWebApp.loadResources(["subapps/TableViewer/twig/TableViewerApp.twig","ctrl:table"]).done(function(data){amiWebApp.replaceHTML("#ami_main_content",data[0]).done(function(){var json;try{json=JSON.parse(userdata||"{}")}catch(e){json={}}_this.command=json.command||"";_this.catalog=json.catalog||"";_this.entity=json.entity||"";_this.expression=json.expression||"1=1";_this.primaryField=json.primaryField||"";_this.table=new data[1];result.resolve()})}).fail(function(data){result.reject(data)});return result},onLogin:function onLogin(){var canEdit=amiLogin.hasRole("AMI_ADMIN")||amiLogin.hasRole("AMI_WRITER");this.table.render("#A2944C0A_9249_E4D2_3679_494C1A3AAAF0",this.command?this.command:"BrowseQuery -catalog=\""+amiWebApp.textToString(this.catalog)+"\" -entity=\""+amiWebApp.textToString(this.entity)+"\" -mql=\"SELECT `*` WHERE "+amiWebApp.textToString(this.expression)+"\"",{showDetails:true,canEdit:canEdit,catalog:this.catalog,entity:this.entity,primaryField:this.primaryField,start:1,stop:20,card:true})},onLogout:function onLogout(){amiWebApp.replaceHTML("#A2944C0A_9249_E4D2_3679_494C1A3AAAF0","Please sign-in.")}});var tableViewerApp=new TableViewerApp;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRhYmxlVmlld2VyQXBwLmVzNi5qcyJdLCJuYW1lcyI6WyIkQU1JQ2xhc3MiLCIkZXh0ZW5kcyIsImFtaSIsIlN1YkFwcCIsIm9uUmVhZHkiLCJ1c2VyZGF0YSIsInJlc3VsdCIsIiQiLCJEZWZlcnJlZCIsImFtaVdlYkFwcCIsImxvYWRSZXNvdXJjZXMiLCJkb25lIiwiZGF0YSIsInJlcGxhY2VIVE1MIiwianNvbiIsIkpTT04iLCJwYXJzZSIsImUiLCJjb21tYW5kIiwiY2F0YWxvZyIsImVudGl0eSIsImV4cHJlc3Npb24iLCJwcmltYXJ5RmllbGQiLCJ0YWJsZSIsInJlc29sdmUiLCJmYWlsIiwicmVqZWN0Iiwib25Mb2dpbiIsImNhbkVkaXQiLCJhbWlMb2dpbiIsImhhc1JvbGUiLCJyZW5kZXIiLCJ0ZXh0VG9TdHJpbmciLCJzaG93RGV0YWlscyIsInN0YXJ0Iiwic3RvcCIsImNhcmQiLCJvbkxvZ291dCIsInRhYmxlVmlld2VyQXBwIiwiVGFibGVWaWV3ZXJBcHAiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7R0FhQUEsU0FBUyxDQUFDLGdCQUFELENBQW1CLENBRzNCQyxRQUFRLENBQUVDLEdBQUcsQ0FBQ0MsTUFIYSxDQU8zQkMsT0FBTyxDQUFFLGlCQUFTQyxRQUFULENBQ1QsZ0JBQ0MsR0FBTUMsQ0FBQUEsTUFBTSxDQUFHQyxDQUFDLENBQUNDLFFBQUYsRUFBZixDQUVBQyxTQUFTLENBQUNDLGFBQVYsQ0FBd0IsQ0FDdkIsOENBRHVCLENBRXZCLFlBRnVCLENBQXhCLEVBR0dDLElBSEgsQ0FHUSxTQUFDQyxJQUFELENBQVUsQ0FFakJILFNBQVMsQ0FBQ0ksV0FBVixDQUFzQixtQkFBdEIsQ0FBMkNELElBQUksQ0FBQyxDQUFELENBQS9DLEVBQW9ERCxJQUFwRCxDQUF5RCxVQUFNLENBRTlELEdBQUlHLENBQUFBLElBQUosQ0FFQSxHQUNBLENBQ0NBLElBQUksQ0FBR0MsSUFBSSxDQUFDQyxLQUFMLENBQVdYLFFBQVEsRUFBSSxJQUF2QixDQUNQLENBQ0QsTUFBTVksQ0FBTixDQUNBLENBQ0NILElBQUksQ0FBRyxFQUNQLENBRUQsS0FBSSxDQUFDSSxPQUFMLENBQWVKLElBQUksQ0FBQ0ksT0FBTCxFQUFnQixFQUEvQixDQUNBLEtBQUksQ0FBQ0MsT0FBTCxDQUFlTCxJQUFJLENBQUNLLE9BQUwsRUFBZ0IsRUFBL0IsQ0FDQSxLQUFJLENBQUNDLE1BQUwsQ0FBY04sSUFBSSxDQUFDTSxNQUFMLEVBQWUsRUFBN0IsQ0FDQSxLQUFJLENBQUNDLFVBQUwsQ0FBa0JQLElBQUksQ0FBQ08sVUFBTCxFQUFtQixLQUFyQyxDQUNBLEtBQUksQ0FBQ0MsWUFBTCxDQUFvQlIsSUFBSSxDQUFDUSxZQUFMLEVBQXFCLEVBQXpDLENBRUEsS0FBSSxDQUFDQyxLQUFMLENBQWEsR0FBSVgsQ0FBQUEsSUFBSSxDQUFDLENBQUQsQ0FBckIsQ0FFQU4sTUFBTSxDQUFDa0IsT0FBUCxFQUNBLENBdEJELENBd0JBLENBN0JELEVBNkJHQyxJQTdCSCxDQTZCUSxTQUFDYixJQUFELENBQVUsQ0FFakJOLE1BQU0sQ0FBQ29CLE1BQVAsQ0FBY2QsSUFBZCxDQUNBLENBaENELEVBa0NBLE1BQU9OLENBQUFBLE1BQ1AsQ0E5QzBCLENBa0QzQnFCLE9BQU8sQ0FBRSxrQkFDVCxDQUNDLEdBQU1DLENBQUFBLE9BQU8sQ0FBR0MsUUFBUSxDQUFDQyxPQUFULENBQWlCLFdBQWpCLEdBRUFELFFBQVEsQ0FBQ0MsT0FBVCxDQUFpQixZQUFqQixDQUZoQixDQUtBLEtBQUtQLEtBQUwsQ0FBV1EsTUFBWCxDQUFrQix1Q0FBbEIsQ0FBMkQsS0FBS2IsT0FBTCxDQUFlLEtBQUtBLE9BQXBCLENBQThCLDBCQUEyQlQsU0FBUyxDQUFDdUIsWUFBVixDQUF1QixLQUFLYixPQUE1QixDQUEzQixDQUFrRSxlQUFsRSxDQUFrRlYsU0FBUyxDQUFDdUIsWUFBVixDQUF1QixLQUFLWixNQUE1QixDQUFsRixDQUF3SCw2QkFBeEgsQ0FBc0pYLFNBQVMsQ0FBQ3VCLFlBQVYsQ0FBdUIsS0FBS1gsVUFBNUIsQ0FBdEosQ0FBZ00sSUFBelIsQ0FBOFIsQ0FDN1JZLFdBQVcsQ0FBRSxJQURnUixDQUU3UkwsT0FBTyxDQUFFQSxPQUZvUixDQUc3UlQsT0FBTyxDQUFFLEtBQUtBLE9BSCtRLENBSTdSQyxNQUFNLENBQUUsS0FBS0EsTUFKZ1IsQ0FLN1JFLFlBQVksQ0FBRSxLQUFLQSxZQUwwUSxDQU03UlksS0FBSyxDQUFFLENBTnNSLENBTzdSQyxJQUFJLENBQUUsRUFQdVIsQ0FRN1JDLElBQUksQ0FBRSxJQVJ1UixDQUE5UixDQVVBLENBbkUwQixDQXVFM0JDLFFBQVEsQ0FBRSxtQkFDVixDQUNDNUIsU0FBUyxDQUFDSSxXQUFWLENBQXNCLHVDQUF0QixDQUErRCxpQkFBL0QsQ0FDQSxDQTFFMEIsQ0FBbkIsQ0FBVCxDQW1GQSxHQUFNeUIsQ0FBQUEsY0FBYyxDQUFHLEdBQUlDLENBQUFBLGNBQTNCIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBBTUkgV2ViIEZyYW1ld29ya1xuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNC1YWFhYIFRoZSBBTUkgVGVhbSAvIExQU0MgLyBJTjJQM1xuICpcbiAqIFRoaXMgZmlsZSBtdXN0IGJlIHVzZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBDZUNJTEwtQzpcbiAqIGh0dHA6Ly93d3cuY2VjaWxsLmluZm8vbGljZW5jZXMvTGljZW5jZV9DZUNJTEwtQ19WMS1lbi5odG1sXG4gKiBodHRwOi8vd3d3LmNlY2lsbC5pbmZvL2xpY2VuY2VzL0xpY2VuY2VfQ2VDSUxMLUNfVjEtZnIuaHRtbFxuICpcbiAqL1xuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuJEFNSUNsYXNzKCdUYWJsZVZpZXdlckFwcCcsIHtcblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQkZXh0ZW5kczogYW1pLlN1YkFwcCxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdG9uUmVhZHk6IGZ1bmN0aW9uKHVzZXJkYXRhKVxuXHR7XG5cdFx0Y29uc3QgcmVzdWx0ID0gJC5EZWZlcnJlZCgpO1xuXG5cdFx0YW1pV2ViQXBwLmxvYWRSZXNvdXJjZXMoW1xuXHRcdFx0J3N1YmFwcHMvVGFibGVWaWV3ZXIvdHdpZy9UYWJsZVZpZXdlckFwcC50d2lnJyxcblx0XHRcdCdjdHJsOnRhYmxlJyxcblx0XHRdKS5kb25lKChkYXRhKSA9PiB7XG5cblx0XHRcdGFtaVdlYkFwcC5yZXBsYWNlSFRNTCgnI2FtaV9tYWluX2NvbnRlbnQnLCBkYXRhWzBdKS5kb25lKCgpID0+IHtcblxuXHRcdFx0XHRsZXQganNvbjtcblxuXHRcdFx0XHR0cnlcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGpzb24gPSBKU09OLnBhcnNlKHVzZXJkYXRhIHx8ICd7fScpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNhdGNoKGUpXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRqc29uID0gey8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovfTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMuY29tbWFuZCA9IGpzb24uY29tbWFuZCB8fCAnJztcblx0XHRcdFx0dGhpcy5jYXRhbG9nID0ganNvbi5jYXRhbG9nIHx8ICcnO1xuXHRcdFx0XHR0aGlzLmVudGl0eSA9IGpzb24uZW50aXR5IHx8ICcnO1xuXHRcdFx0XHR0aGlzLmV4cHJlc3Npb24gPSBqc29uLmV4cHJlc3Npb24gfHwgJzE9MSc7XG5cdFx0XHRcdHRoaXMucHJpbWFyeUZpZWxkID0ganNvbi5wcmltYXJ5RmllbGQgfHwgJyc7XG5cblx0XHRcdFx0dGhpcy50YWJsZSA9IG5ldyBkYXRhWzFdKCk7XG5cblx0XHRcdFx0cmVzdWx0LnJlc29sdmUoKTtcblx0XHRcdH0pO1xuXG5cdFx0fSkuZmFpbCgoZGF0YSkgPT4ge1xuXG5cdFx0XHRyZXN1bHQucmVqZWN0KGRhdGEpO1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdG9uTG9naW46IGZ1bmN0aW9uKClcblx0e1xuXHRcdGNvbnN0IGNhbkVkaXQgPSBhbWlMb2dpbi5oYXNSb2xlKCdBTUlfQURNSU4nKVxuXHRcdCAgICAgICAgICAgICAgICB8fFxuXHRcdCAgICAgICAgICAgICAgICBhbWlMb2dpbi5oYXNSb2xlKCdBTUlfV1JJVEVSJylcblx0XHQ7XG5cblx0XHR0aGlzLnRhYmxlLnJlbmRlcignI0EyOTQ0QzBBXzkyNDlfRTREMl8zNjc5XzQ5NEMxQTNBQUFGMCcsIHRoaXMuY29tbWFuZCA/IHRoaXMuY29tbWFuZCA6ICdCcm93c2VRdWVyeSAtY2F0YWxvZz1cIicgKyBhbWlXZWJBcHAudGV4dFRvU3RyaW5nKHRoaXMuY2F0YWxvZykgKyAnXCIgLWVudGl0eT1cIicgKyBhbWlXZWJBcHAudGV4dFRvU3RyaW5nKHRoaXMuZW50aXR5KSArICdcIiAtbXFsPVwiU0VMRUNUIGAqYCBXSEVSRSAnICsgYW1pV2ViQXBwLnRleHRUb1N0cmluZyh0aGlzLmV4cHJlc3Npb24pICsgJ1wiJywge1xuXHRcdFx0c2hvd0RldGFpbHM6IHRydWUsXG5cdFx0XHRjYW5FZGl0OiBjYW5FZGl0LFxuXHRcdFx0Y2F0YWxvZzogdGhpcy5jYXRhbG9nLFxuXHRcdFx0ZW50aXR5OiB0aGlzLmVudGl0eSxcblx0XHRcdHByaW1hcnlGaWVsZDogdGhpcy5wcmltYXJ5RmllbGQsXG5cdFx0XHRzdGFydDogMSxcblx0XHRcdHN0b3A6IDIwLFxuXHRcdFx0Y2FyZDogdHJ1ZVxuXHRcdH0pO1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0b25Mb2dvdXQ6IGZ1bmN0aW9uKClcblx0e1xuXHRcdGFtaVdlYkFwcC5yZXBsYWNlSFRNTCgnI0EyOTQ0QzBBXzkyNDlfRTREMl8zNjc5XzQ5NEMxQTNBQUFGMCcsICdQbGVhc2Ugc2lnbi1pbi4nKTtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xufSk7XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuLyogR0xPQkFMIElOU1RBTkNFICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuY29uc3QgdGFibGVWaWV3ZXJBcHAgPSBuZXcgVGFibGVWaWV3ZXJBcHAoKTtcblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4iXX0=
