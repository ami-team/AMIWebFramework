/*!
 * AMI Web Framework
 *
 * Copyright (c) 2014-XXXX The AMI Team / LPSC / IN2P3
 *
 * This file must be used under the terms of the CeCILL-C:
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-fr.html
 *
 */$AMIClass("TableViewerApp",{$extends:ami.SubApp,onReady:function onReady(userdata){var _this=this;var result=$.Deferred();amiWebApp.loadResources(["subapps/TableViewer/twig/TableViewerApp.twig","ctrl:table"]).done(function(data){amiWebApp.replaceHTML("#ami_main_content",data[0]).done(function(){try{json=JSON.parse(userdata||"{}")}catch(e){json={}}_this.catalog=json.catalog||"";_this.entity=json.entity||"";_this.expression=json.expression||"1=1";_this.primaryField=json.primaryField||"";_this.table=new data[1];result.resolve()})}).fail(function(data){result.reject(data)});return result},onLogin:function onLogin(){var canEdit=amiLogin.hasRole("AMI_ADMIN")||amiLogin.hasRole("AMI_WRITER");this.table.render("#A2944C0A_9249_E4D2_3679_494C1A3AAAF0","BrowseQuery -catalog=\""+amiWebApp.textToString(this.catalog)+"\" -entity=\""+amiWebApp.textToString(this.entity)+"\" -mql=\"SELECT `*` WHERE "+this.expression+"\"",{showDetails:true,canEdit:canEdit,catalog:this.catalog,entity:this.entity,primaryField:this.primaryField,start:1,stop:20,card:true})},onLogout:function onLogout(){amiWebApp.replaceHTML("#A2944C0A_9249_E4D2_3679_494C1A3AAAF0","Please sign-in.")}});var tableViewerApp=new TableViewerApp;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRhYmxlVmlld2VyQXBwLmVzNi5qcyJdLCJuYW1lcyI6WyIkQU1JQ2xhc3MiLCIkZXh0ZW5kcyIsImFtaSIsIlN1YkFwcCIsIm9uUmVhZHkiLCJ1c2VyZGF0YSIsInJlc3VsdCIsIiQiLCJEZWZlcnJlZCIsImFtaVdlYkFwcCIsImxvYWRSZXNvdXJjZXMiLCJkb25lIiwiZGF0YSIsInJlcGxhY2VIVE1MIiwianNvbiIsIkpTT04iLCJwYXJzZSIsImUiLCJjYXRhbG9nIiwiZW50aXR5IiwiZXhwcmVzc2lvbiIsInByaW1hcnlGaWVsZCIsInRhYmxlIiwicmVzb2x2ZSIsImZhaWwiLCJyZWplY3QiLCJvbkxvZ2luIiwiY2FuRWRpdCIsImFtaUxvZ2luIiwiaGFzUm9sZSIsInJlbmRlciIsInRleHRUb1N0cmluZyIsInNob3dEZXRhaWxzIiwic3RhcnQiLCJzdG9wIiwiY2FyZCIsIm9uTG9nb3V0IiwidGFibGVWaWV3ZXJBcHAiLCJUYWJsZVZpZXdlckFwcCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7OztHQWFBQSxTQUFTLENBQUMsZ0JBQUQsQ0FBbUIsQ0FHM0JDLFFBQVEsQ0FBRUMsR0FBRyxDQUFDQyxNQUhhLENBTzNCQyxPQUFPLENBQUUsaUJBQVNDLFFBQVQsQ0FDVCxnQkFDQyxHQUFNQyxDQUFBQSxNQUFNLENBQUdDLENBQUMsQ0FBQ0MsUUFBRixFQUFmLENBRUFDLFNBQVMsQ0FBQ0MsYUFBVixDQUF3QixDQUN2Qiw4Q0FEdUIsQ0FFdkIsWUFGdUIsQ0FBeEIsRUFHR0MsSUFISCxDQUdRLFNBQUNDLElBQUQsQ0FBVSxDQUVqQkgsU0FBUyxDQUFDSSxXQUFWLENBQXNCLG1CQUF0QixDQUEyQ0QsSUFBSSxDQUFDLENBQUQsQ0FBL0MsRUFBb0RELElBQXBELENBQXlELFVBQU0sQ0FFOUQsR0FDQSxDQUNDRyxJQUFJLENBQUdDLElBQUksQ0FBQ0MsS0FBTCxDQUFXWCxRQUFRLEVBQUksSUFBdkIsQ0FDUCxDQUNELE1BQU1ZLENBQU4sQ0FDQSxDQUNDSCxJQUFJLENBQUcsRUFDUCxDQUVELEtBQUksQ0FBQ0ksT0FBTCxDQUFlSixJQUFJLENBQUNJLE9BQUwsRUFBZ0IsRUFBL0IsQ0FDQSxLQUFJLENBQUNDLE1BQUwsQ0FBY0wsSUFBSSxDQUFDSyxNQUFMLEVBQWUsRUFBN0IsQ0FDQSxLQUFJLENBQUNDLFVBQUwsQ0FBa0JOLElBQUksQ0FBQ00sVUFBTCxFQUFtQixLQUFyQyxDQUNBLEtBQUksQ0FBQ0MsWUFBTCxDQUFvQlAsSUFBSSxDQUFDTyxZQUFMLEVBQXFCLEVBQXpDLENBRUEsS0FBSSxDQUFDQyxLQUFMLENBQWEsR0FBSVYsQ0FBQUEsSUFBSSxDQUFDLENBQUQsQ0FBckIsQ0FFQU4sTUFBTSxDQUFDaUIsT0FBUCxFQUNBLENBbkJELENBcUJBLENBMUJELEVBMEJHQyxJQTFCSCxDQTBCUSxTQUFDWixJQUFELENBQVUsQ0FFakJOLE1BQU0sQ0FBQ21CLE1BQVAsQ0FBY2IsSUFBZCxDQUNBLENBN0JELEVBK0JBLE1BQU9OLENBQUFBLE1BQ1AsQ0EzQzBCLENBK0MzQm9CLE9BQU8sQ0FBRSxrQkFDVCxDQUNDLEdBQU1DLENBQUFBLE9BQU8sQ0FBR0MsUUFBUSxDQUFDQyxPQUFULENBQWlCLFdBQWpCLEdBRUFELFFBQVEsQ0FBQ0MsT0FBVCxDQUFpQixZQUFqQixDQUZoQixDQUtBLEtBQUtQLEtBQUwsQ0FBV1EsTUFBWCxDQUFrQix1Q0FBbEIsQ0FBMkQsMEJBQTJCckIsU0FBUyxDQUFDc0IsWUFBVixDQUF1QixLQUFLYixPQUE1QixDQUEzQixDQUFrRSxlQUFsRSxDQUFrRlQsU0FBUyxDQUFDc0IsWUFBVixDQUF1QixLQUFLWixNQUE1QixDQUFsRixDQUF3SCw2QkFBeEgsQ0FBc0osS0FBS0MsVUFBM0osQ0FBd0ssSUFBbk8sQ0FBd08sQ0FDdk9ZLFdBQVcsQ0FBRSxJQUQwTixDQUV2T0wsT0FBTyxDQUFFQSxPQUY4TixDQUd2T1QsT0FBTyxDQUFFLEtBQUtBLE9BSHlOLENBSXZPQyxNQUFNLENBQUUsS0FBS0EsTUFKME4sQ0FLdk9FLFlBQVksQ0FBRSxLQUFLQSxZQUxvTixDQU12T1ksS0FBSyxDQUFFLENBTmdPLENBT3ZPQyxJQUFJLENBQUUsRUFQaU8sQ0FRdk9DLElBQUksQ0FBRSxJQVJpTyxDQUF4TyxDQVVBLENBaEUwQixDQW9FM0JDLFFBQVEsQ0FBRSxtQkFDVixDQUNDM0IsU0FBUyxDQUFDSSxXQUFWLENBQXNCLHVDQUF0QixDQUErRCxpQkFBL0QsQ0FDQSxDQXZFMEIsQ0FBbkIsQ0FBVCxDQWdGQSxHQUFNd0IsQ0FBQUEsY0FBYyxDQUFHLEdBQUlDLENBQUFBLGNBQTNCIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBBTUkgV2ViIEZyYW1ld29ya1xuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNC1YWFhYIFRoZSBBTUkgVGVhbSAvIExQU0MgLyBJTjJQM1xuICpcbiAqIFRoaXMgZmlsZSBtdXN0IGJlIHVzZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBDZUNJTEwtQzpcbiAqIGh0dHA6Ly93d3cuY2VjaWxsLmluZm8vbGljZW5jZXMvTGljZW5jZV9DZUNJTEwtQ19WMS1lbi5odG1sXG4gKiBodHRwOi8vd3d3LmNlY2lsbC5pbmZvL2xpY2VuY2VzL0xpY2VuY2VfQ2VDSUxMLUNfVjEtZnIuaHRtbFxuICpcbiAqL1xuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuJEFNSUNsYXNzKCdUYWJsZVZpZXdlckFwcCcsIHtcblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQkZXh0ZW5kczogYW1pLlN1YkFwcCxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdG9uUmVhZHk6IGZ1bmN0aW9uKHVzZXJkYXRhKVxuXHR7XG5cdFx0Y29uc3QgcmVzdWx0ID0gJC5EZWZlcnJlZCgpO1xuXG5cdFx0YW1pV2ViQXBwLmxvYWRSZXNvdXJjZXMoW1xuXHRcdFx0J3N1YmFwcHMvVGFibGVWaWV3ZXIvdHdpZy9UYWJsZVZpZXdlckFwcC50d2lnJyxcblx0XHRcdCdjdHJsOnRhYmxlJyxcblx0XHRdKS5kb25lKChkYXRhKSA9PiB7XG5cblx0XHRcdGFtaVdlYkFwcC5yZXBsYWNlSFRNTCgnI2FtaV9tYWluX2NvbnRlbnQnLCBkYXRhWzBdKS5kb25lKCgpID0+IHtcblxuXHRcdFx0XHR0cnlcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGpzb24gPSBKU09OLnBhcnNlKHVzZXJkYXRhIHx8ICd7fScpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNhdGNoKGUpXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRqc29uID0gey8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovfTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMuY2F0YWxvZyA9IGpzb24uY2F0YWxvZyB8fCAnJztcblx0XHRcdFx0dGhpcy5lbnRpdHkgPSBqc29uLmVudGl0eSB8fCAnJztcblx0XHRcdFx0dGhpcy5leHByZXNzaW9uID0ganNvbi5leHByZXNzaW9uIHx8ICcxPTEnO1xuXHRcdFx0XHR0aGlzLnByaW1hcnlGaWVsZCA9IGpzb24ucHJpbWFyeUZpZWxkIHx8ICcnO1xuXG5cdFx0XHRcdHRoaXMudGFibGUgPSBuZXcgZGF0YVsxXSgpO1xuXG5cdFx0XHRcdHJlc3VsdC5yZXNvbHZlKCk7XG5cdFx0XHR9KTtcblxuXHRcdH0pLmZhaWwoKGRhdGEpID0+IHtcblxuXHRcdFx0cmVzdWx0LnJlamVjdChkYXRhKTtcblx0XHR9KTtcblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRvbkxvZ2luOiBmdW5jdGlvbigpXG5cdHtcblx0XHRjb25zdCBjYW5FZGl0ID0gYW1pTG9naW4uaGFzUm9sZSgnQU1JX0FETUlOJylcblx0XHQgICAgICAgICAgICAgICAgfHxcblx0XHQgICAgICAgICAgICAgICAgYW1pTG9naW4uaGFzUm9sZSgnQU1JX1dSSVRFUicpXG5cdFx0O1xuXG5cdFx0dGhpcy50YWJsZS5yZW5kZXIoJyNBMjk0NEMwQV85MjQ5X0U0RDJfMzY3OV80OTRDMUEzQUFBRjAnLCAnQnJvd3NlUXVlcnkgLWNhdGFsb2c9XCInICsgYW1pV2ViQXBwLnRleHRUb1N0cmluZyh0aGlzLmNhdGFsb2cpICsgJ1wiIC1lbnRpdHk9XCInICsgYW1pV2ViQXBwLnRleHRUb1N0cmluZyh0aGlzLmVudGl0eSkgKyAnXCIgLW1xbD1cIlNFTEVDVCBgKmAgV0hFUkUgJyArIHRoaXMuZXhwcmVzc2lvbiArICdcIicsIHtcblx0XHRcdHNob3dEZXRhaWxzOiB0cnVlLFxuXHRcdFx0Y2FuRWRpdDogY2FuRWRpdCxcblx0XHRcdGNhdGFsb2c6IHRoaXMuY2F0YWxvZyxcblx0XHRcdGVudGl0eTogdGhpcy5lbnRpdHksXG5cdFx0XHRwcmltYXJ5RmllbGQ6IHRoaXMucHJpbWFyeUZpZWxkLFxuXHRcdFx0c3RhcnQ6IDEsXG5cdFx0XHRzdG9wOiAyMCxcblx0XHRcdGNhcmQ6IHRydWVcblx0XHR9KTtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdG9uTG9nb3V0OiBmdW5jdGlvbigpXG5cdHtcblx0XHRhbWlXZWJBcHAucmVwbGFjZUhUTUwoJyNBMjk0NEMwQV85MjQ5X0U0RDJfMzY3OV80OTRDMUEzQUFBRjAnLCAnUGxlYXNlIHNpZ24taW4uJyk7XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbn0pO1xuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbi8qIEdMT0JBTCBJTlNUQU5DRSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmNvbnN0IHRhYmxlVmlld2VyQXBwID0gbmV3IFRhYmxlVmlld2VyQXBwKCk7XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuIl19
