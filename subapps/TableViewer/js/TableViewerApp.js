/*!
 * AMI Web Framework
 *
 * Copyright (c) 2014-XXXX The AMI Team / LPSC / IN2P3
 *
 * This file must be used under the terms of the CeCILL-C:
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-fr.html
 *
 */$AMIClass("TableViewerApp",{$extends:ami.SubApp,onReady:function onReady(userdata){var _this=this;var result=$.Deferred();amiWebApp.loadResources(["subapps/TableViewer/twig/TableViewerApp.twig","ctrl:table"]).done(function(data){amiWebApp.replaceHTML("#ami_main_content",data[0]).done(function(){var json;try{json=JSON.parse(userdata||"{}")}catch(e){json={}}_this.catalog=json.catalog||"";_this.entity=json.entity||"";_this.expression=json.expression||"1=1";_this.primaryField=json.primaryField||"";_this.table=new data[1];result.resolve()})}).fail(function(data){result.reject(data)});return result},onLogin:function onLogin(){var canEdit=amiLogin.hasRole("AMI_ADMIN")||amiLogin.hasRole("AMI_WRITER");this.table.render("#A2944C0A_9249_E4D2_3679_494C1A3AAAF0","BrowseQuery -catalog=\""+amiWebApp.textToString(this.catalog)+"\" -entity=\""+amiWebApp.textToString(this.entity)+"\" -mql=\"SELECT `*` WHERE "+this.expression+"\" -disallowBigContent",{showDetails:true,canEdit:canEdit,catalog:this.catalog,entity:this.entity,primaryField:this.primaryField,start:1,stop:20,card:true})},onLogout:function onLogout(){amiWebApp.replaceHTML("#A2944C0A_9249_E4D2_3679_494C1A3AAAF0","Please sign-in.")}});var tableViewerApp=new TableViewerApp;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRhYmxlVmlld2VyQXBwLmVzNi5qcyJdLCJuYW1lcyI6WyIkQU1JQ2xhc3MiLCIkZXh0ZW5kcyIsImFtaSIsIlN1YkFwcCIsIm9uUmVhZHkiLCJ1c2VyZGF0YSIsInJlc3VsdCIsIiQiLCJEZWZlcnJlZCIsImFtaVdlYkFwcCIsImxvYWRSZXNvdXJjZXMiLCJkb25lIiwiZGF0YSIsInJlcGxhY2VIVE1MIiwianNvbiIsIkpTT04iLCJwYXJzZSIsImUiLCJjYXRhbG9nIiwiZW50aXR5IiwiZXhwcmVzc2lvbiIsInByaW1hcnlGaWVsZCIsInRhYmxlIiwicmVzb2x2ZSIsImZhaWwiLCJyZWplY3QiLCJvbkxvZ2luIiwiY2FuRWRpdCIsImFtaUxvZ2luIiwiaGFzUm9sZSIsInJlbmRlciIsInRleHRUb1N0cmluZyIsInNob3dEZXRhaWxzIiwic3RhcnQiLCJzdG9wIiwiY2FyZCIsIm9uTG9nb3V0IiwidGFibGVWaWV3ZXJBcHAiLCJUYWJsZVZpZXdlckFwcCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7OztHQWFBQSxTQUFTLENBQUMsZ0JBQUQsQ0FBbUIsQ0FHM0JDLFFBQVEsQ0FBRUMsR0FBRyxDQUFDQyxNQUhhLENBTzNCQyxPQUFPLENBQUUsaUJBQVNDLFFBQVQsQ0FDVCxnQkFDQyxHQUFNQyxDQUFBQSxNQUFNLENBQUdDLENBQUMsQ0FBQ0MsUUFBRixFQUFmLENBRUFDLFNBQVMsQ0FBQ0MsYUFBVixDQUF3QixDQUN2Qiw4Q0FEdUIsQ0FFdkIsWUFGdUIsQ0FBeEIsRUFHR0MsSUFISCxDQUdRLFNBQUNDLElBQUQsQ0FBVSxDQUVqQkgsU0FBUyxDQUFDSSxXQUFWLENBQXNCLG1CQUF0QixDQUEyQ0QsSUFBSSxDQUFDLENBQUQsQ0FBL0MsRUFBb0RELElBQXBELENBQXlELFVBQU0sQ0FFOUQsR0FBSUcsQ0FBQUEsSUFBSixDQUVBLEdBQ0EsQ0FDQ0EsSUFBSSxDQUFHQyxJQUFJLENBQUNDLEtBQUwsQ0FBV1gsUUFBUSxFQUFJLElBQXZCLENBQ1AsQ0FDRCxNQUFNWSxDQUFOLENBQ0EsQ0FDQ0gsSUFBSSxDQUFHLEVBQ1AsQ0FFRCxLQUFJLENBQUNJLE9BQUwsQ0FBZUosSUFBSSxDQUFDSSxPQUFMLEVBQWdCLEVBQS9CLENBQ0EsS0FBSSxDQUFDQyxNQUFMLENBQWNMLElBQUksQ0FBQ0ssTUFBTCxFQUFlLEVBQTdCLENBQ0EsS0FBSSxDQUFDQyxVQUFMLENBQWtCTixJQUFJLENBQUNNLFVBQUwsRUFBbUIsS0FBckMsQ0FDQSxLQUFJLENBQUNDLFlBQUwsQ0FBb0JQLElBQUksQ0FBQ08sWUFBTCxFQUFxQixFQUF6QyxDQUVBLEtBQUksQ0FBQ0MsS0FBTCxDQUFhLEdBQUlWLENBQUFBLElBQUksQ0FBQyxDQUFELENBQXJCLENBRUFOLE1BQU0sQ0FBQ2lCLE9BQVAsRUFDQSxDQXJCRCxDQXVCQSxDQTVCRCxFQTRCR0MsSUE1QkgsQ0E0QlEsU0FBQ1osSUFBRCxDQUFVLENBRWpCTixNQUFNLENBQUNtQixNQUFQLENBQWNiLElBQWQsQ0FDQSxDQS9CRCxFQWlDQSxNQUFPTixDQUFBQSxNQUNQLENBN0MwQixDQWlEM0JvQixPQUFPLENBQUUsa0JBQ1QsQ0FDQyxHQUFNQyxDQUFBQSxPQUFPLENBQUdDLFFBQVEsQ0FBQ0MsT0FBVCxDQUFpQixXQUFqQixHQUVBRCxRQUFRLENBQUNDLE9BQVQsQ0FBaUIsWUFBakIsQ0FGaEIsQ0FLQSxLQUFLUCxLQUFMLENBQVdRLE1BQVgsQ0FBa0IsdUNBQWxCLENBQTJELDBCQUEyQnJCLFNBQVMsQ0FBQ3NCLFlBQVYsQ0FBdUIsS0FBS2IsT0FBNUIsQ0FBM0IsQ0FBa0UsZUFBbEUsQ0FBa0ZULFNBQVMsQ0FBQ3NCLFlBQVYsQ0FBdUIsS0FBS1osTUFBNUIsQ0FBbEYsQ0FBd0gsNkJBQXhILENBQXNKLEtBQUtDLFVBQTNKLENBQXdLLHdCQUFuTyxDQUE0UCxDQUMzUFksV0FBVyxDQUFFLElBRDhPLENBRTNQTCxPQUFPLENBQUVBLE9BRmtQLENBRzNQVCxPQUFPLENBQUUsS0FBS0EsT0FINk8sQ0FJM1BDLE1BQU0sQ0FBRSxLQUFLQSxNQUo4TyxDQUszUEUsWUFBWSxDQUFFLEtBQUtBLFlBTHdPLENBTTNQWSxLQUFLLENBQUUsQ0FOb1AsQ0FPM1BDLElBQUksQ0FBRSxFQVBxUCxDQVEzUEMsSUFBSSxDQUFFLElBUnFQLENBQTVQLENBVUEsQ0FsRTBCLENBc0UzQkMsUUFBUSxDQUFFLG1CQUNWLENBQ0MzQixTQUFTLENBQUNJLFdBQVYsQ0FBc0IsdUNBQXRCLENBQStELGlCQUEvRCxDQUNBLENBekUwQixDQUFuQixDQUFULENBa0ZBLEdBQU13QixDQUFBQSxjQUFjLENBQUcsR0FBSUMsQ0FBQUEsY0FBM0IiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEFNSSBXZWIgRnJhbWV3b3JrXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LVhYWFggVGhlIEFNSSBUZWFtIC8gTFBTQyAvIElOMlAzXG4gKlxuICogVGhpcyBmaWxlIG11c3QgYmUgdXNlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIENlQ0lMTC1DOlxuICogaHR0cDovL3d3dy5jZWNpbGwuaW5mby9saWNlbmNlcy9MaWNlbmNlX0NlQ0lMTC1DX1YxLWVuLmh0bWxcbiAqIGh0dHA6Ly93d3cuY2VjaWxsLmluZm8vbGljZW5jZXMvTGljZW5jZV9DZUNJTEwtQ19WMS1mci5odG1sXG4gKlxuICovXG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4kQU1JQ2xhc3MoJ1RhYmxlVmlld2VyQXBwJywge1xuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdCRleHRlbmRzOiBhbWkuU3ViQXBwLFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0b25SZWFkeTogZnVuY3Rpb24odXNlcmRhdGEpXG5cdHtcblx0XHRjb25zdCByZXN1bHQgPSAkLkRlZmVycmVkKCk7XG5cblx0XHRhbWlXZWJBcHAubG9hZFJlc291cmNlcyhbXG5cdFx0XHQnc3ViYXBwcy9UYWJsZVZpZXdlci90d2lnL1RhYmxlVmlld2VyQXBwLnR3aWcnLFxuXHRcdFx0J2N0cmw6dGFibGUnLFxuXHRcdF0pLmRvbmUoKGRhdGEpID0+IHtcblxuXHRcdFx0YW1pV2ViQXBwLnJlcGxhY2VIVE1MKCcjYW1pX21haW5fY29udGVudCcsIGRhdGFbMF0pLmRvbmUoKCkgPT4ge1xuXG5cdFx0XHRcdGxldCBqc29uO1xuXG5cdFx0XHRcdHRyeVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0anNvbiA9IEpTT04ucGFyc2UodXNlcmRhdGEgfHwgJ3t9Jyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y2F0Y2goZSlcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGpzb24gPSB7LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi99O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhpcy5jYXRhbG9nID0ganNvbi5jYXRhbG9nIHx8ICcnO1xuXHRcdFx0XHR0aGlzLmVudGl0eSA9IGpzb24uZW50aXR5IHx8ICcnO1xuXHRcdFx0XHR0aGlzLmV4cHJlc3Npb24gPSBqc29uLmV4cHJlc3Npb24gfHwgJzE9MSc7XG5cdFx0XHRcdHRoaXMucHJpbWFyeUZpZWxkID0ganNvbi5wcmltYXJ5RmllbGQgfHwgJyc7XG5cblx0XHRcdFx0dGhpcy50YWJsZSA9IG5ldyBkYXRhWzFdKCk7XG5cblx0XHRcdFx0cmVzdWx0LnJlc29sdmUoKTtcblx0XHRcdH0pO1xuXG5cdFx0fSkuZmFpbCgoZGF0YSkgPT4ge1xuXG5cdFx0XHRyZXN1bHQucmVqZWN0KGRhdGEpO1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdG9uTG9naW46IGZ1bmN0aW9uKClcblx0e1xuXHRcdGNvbnN0IGNhbkVkaXQgPSBhbWlMb2dpbi5oYXNSb2xlKCdBTUlfQURNSU4nKVxuXHRcdCAgICAgICAgICAgICAgICB8fFxuXHRcdCAgICAgICAgICAgICAgICBhbWlMb2dpbi5oYXNSb2xlKCdBTUlfV1JJVEVSJylcblx0XHQ7XG5cblx0XHR0aGlzLnRhYmxlLnJlbmRlcignI0EyOTQ0QzBBXzkyNDlfRTREMl8zNjc5XzQ5NEMxQTNBQUFGMCcsICdCcm93c2VRdWVyeSAtY2F0YWxvZz1cIicgKyBhbWlXZWJBcHAudGV4dFRvU3RyaW5nKHRoaXMuY2F0YWxvZykgKyAnXCIgLWVudGl0eT1cIicgKyBhbWlXZWJBcHAudGV4dFRvU3RyaW5nKHRoaXMuZW50aXR5KSArICdcIiAtbXFsPVwiU0VMRUNUIGAqYCBXSEVSRSAnICsgdGhpcy5leHByZXNzaW9uICsgJ1wiIC1kaXNhbGxvd0JpZ0NvbnRlbnQnLCB7XG5cdFx0XHRzaG93RGV0YWlsczogdHJ1ZSxcblx0XHRcdGNhbkVkaXQ6IGNhbkVkaXQsXG5cdFx0XHRjYXRhbG9nOiB0aGlzLmNhdGFsb2csXG5cdFx0XHRlbnRpdHk6IHRoaXMuZW50aXR5LFxuXHRcdFx0cHJpbWFyeUZpZWxkOiB0aGlzLnByaW1hcnlGaWVsZCxcblx0XHRcdHN0YXJ0OiAxLFxuXHRcdFx0c3RvcDogMjAsXG5cdFx0XHRjYXJkOiB0cnVlXG5cdFx0fSk7XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRvbkxvZ291dDogZnVuY3Rpb24oKVxuXHR7XG5cdFx0YW1pV2ViQXBwLnJlcGxhY2VIVE1MKCcjQTI5NDRDMEFfOTI0OV9FNEQyXzM2NzlfNDk0QzFBM0FBQUYwJywgJ1BsZWFzZSBzaWduLWluLicpO1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG59KTtcblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4vKiBHTE9CQUwgSU5TVEFOQ0UgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5jb25zdCB0YWJsZVZpZXdlckFwcCA9IG5ldyBUYWJsZVZpZXdlckFwcCgpO1xuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbiJdfQ==
