/*!
 * AMI Web Framework
 *
 * Copyright (c) 2014-XXXX The AMI Team / LPSC / IN2P3
 *
 * This file must be used under the terms of the CeCILL-C:
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-fr.html
 *
 */$AMIClass("TableViewerApp",{$extends:ami.SubApp,onReady:function onReady(userdata){var _this=this;var result=$.Deferred();amiWebApp.loadResources(["subapps/TableViewer/twig/TableViewerApp.twig","ctrl:table"]).done(function(data){amiWebApp.replaceHTML("#ami_main_content",data[0]).done(function(){var json;try{json=JSON.parse(userdata||"{}")}catch(e){json={}}_this.command=json.command||"";_this.expression=json.expression||"1=1";_this.catalog=json.catalog||"";_this.entity=json.entity||"";_this.primaryField=json.primaryField||"";_this.rowset=json.rowset||"";_this.start=parseInt(json.start||"1");_this.stop=parseInt(json.stop||"10");_this.orderBy=json.orderBy||"";_this.orderWay=json.orderWay||"";_this.maxCellLength=parseInt(json.maxCellLength||"64");_this.table=new data[1];result.resolve()})}).fail(function(data){result.reject(data)});return result},onLogin:function onLogin(){var canEdit=amiLogin.hasRole("AMI_ADMIN")||amiLogin.hasRole("AMI_WRITER");this.table.render("#A2944C0A_9249_E4D2_3679_494C1A3AAAF0",this.command?this.command:"BrowseQuery -catalog=\""+amiWebApp.textToString(this.catalog)+"\" -entity=\""+amiWebApp.textToString(this.entity)+"\" -mql=\"SELECT `*` WHERE "+amiWebApp.textToString(this.expression)+"\"",{showDetails:true,canEdit:canEdit,catalog:this.catalog,entity:this.entity,primaryField:this.primaryField,rowset:this.rowset,start:this.start,stop:this.stop,orderBy:this.orderBy,orderWay:this.orderWay,maxCellLength:this.maxCellLength,card:true})},onLogout:function onLogout(){amiWebApp.replaceHTML("#A2944C0A_9249_E4D2_3679_494C1A3AAAF0","Please sign-in.")}});var tableViewerApp=new TableViewerApp;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRhYmxlVmlld2VyQXBwLmVzNi5qcyJdLCJuYW1lcyI6WyIkQU1JQ2xhc3MiLCIkZXh0ZW5kcyIsImFtaSIsIlN1YkFwcCIsIm9uUmVhZHkiLCJ1c2VyZGF0YSIsInJlc3VsdCIsIiQiLCJEZWZlcnJlZCIsImFtaVdlYkFwcCIsImxvYWRSZXNvdXJjZXMiLCJkb25lIiwiZGF0YSIsInJlcGxhY2VIVE1MIiwianNvbiIsIkpTT04iLCJwYXJzZSIsImUiLCJjb21tYW5kIiwiZXhwcmVzc2lvbiIsImNhdGFsb2ciLCJlbnRpdHkiLCJwcmltYXJ5RmllbGQiLCJyb3dzZXQiLCJzdGFydCIsInBhcnNlSW50Iiwic3RvcCIsIm9yZGVyQnkiLCJvcmRlcldheSIsIm1heENlbGxMZW5ndGgiLCJ0YWJsZSIsInJlc29sdmUiLCJmYWlsIiwicmVqZWN0Iiwib25Mb2dpbiIsImNhbkVkaXQiLCJhbWlMb2dpbiIsImhhc1JvbGUiLCJyZW5kZXIiLCJ0ZXh0VG9TdHJpbmciLCJzaG93RGV0YWlscyIsImNhcmQiLCJvbkxvZ291dCIsInRhYmxlVmlld2VyQXBwIiwiVGFibGVWaWV3ZXJBcHAiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7R0FhQUEsU0FBUyxDQUFDLGdCQUFELENBQW1CLENBRzNCQyxRQUFRLENBQUVDLEdBQUcsQ0FBQ0MsTUFIYSxDQU8zQkMsT0FBTyxDQUFFLGlCQUFTQyxRQUFULENBQ1QsZ0JBQ0MsR0FBTUMsQ0FBQUEsTUFBTSxDQUFHQyxDQUFDLENBQUNDLFFBQUYsRUFBZixDQUVBQyxTQUFTLENBQUNDLGFBQVYsQ0FBd0IsQ0FDdkIsOENBRHVCLENBRXZCLFlBRnVCLENBQXhCLEVBR0dDLElBSEgsQ0FHUSxTQUFDQyxJQUFELENBQVUsQ0FFakJILFNBQVMsQ0FBQ0ksV0FBVixDQUFzQixtQkFBdEIsQ0FBMkNELElBQUksQ0FBQyxDQUFELENBQS9DLEVBQW9ERCxJQUFwRCxDQUF5RCxVQUFNLENBRTlELEdBQUlHLENBQUFBLElBQUosQ0FFQSxHQUNB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Q0EzRjBCLENBQW5CLENBQVQsQ0FvR0EsR0FBTThCLENBQUFBLGNBQWMsQ0FBRyxHQUFJQyxDQUFBQSxjQUEzQiIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQU1JIFdlYiBGcmFtZXdvcmtcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtWFhYWCBUaGUgQU1JIFRlYW0gLyBMUFNDIC8gSU4yUDNcbiAqXG4gKiBUaGlzIGZpbGUgbXVzdCBiZSB1c2VkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgQ2VDSUxMLUM6XG4gKiBodHRwOi8vd3d3LmNlY2lsbC5pbmZvL2xpY2VuY2VzL0xpY2VuY2VfQ2VDSUxMLUNfVjEtZW4uaHRtbFxuICogaHR0cDovL3d3dy5jZWNpbGwuaW5mby9saWNlbmNlcy9MaWNlbmNlX0NlQ0lMTC1DX1YxLWZyLmh0bWxcbiAqXG4gKi9cblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiRBTUlDbGFzcygnVGFibGVWaWV3ZXJBcHAnLCB7XG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0JGV4dGVuZHM6IGFtaS5TdWJBcHAsXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRvblJlYWR5OiBmdW5jdGlvbih1c2VyZGF0YSlcblx0e1xuXHRcdGNvbnN0IHJlc3VsdCA9ICQuRGVmZXJyZWQoKTtcblxuXHRcdGFtaVdlYkFwcC5sb2FkUmVzb3VyY2VzKFtcblx0XHRcdCdzdWJhcHBzL1RhYmxlVmlld2VyL3R3aWcvVGFibGVWaWV3ZXJBcHAudHdpZycsXG5cdFx0XHQnY3RybDp0YWJsZScsXG5cdFx0XSkuZG9uZSgoZGF0YSkgPT4ge1xuXG5cdFx0XHRhbWlXZWJBcHAucmVwbGFjZUhUTUwoJyNhbWlfbWFpbl9jb250ZW50JywgZGF0YVswXSkuZG9uZSgoKSA9PiB7XG5cblx0XHRcdFx0bGV0IGpzb247XG5cblx0XHRcdFx0dHJ5XG5cdFx0XHRcdHtcblx0XHRcdFx0XHRqc29uID0gSlNPTi5wYXJzZSh1c2VyZGF0YSB8fCAne30nKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjYXRjaChlKVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0anNvbiA9IHsvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL307XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLmNvbW1hbmQgPSBqc29uLmNvbW1hbmQgfHwgJyc7XG5cdFx0XHRcdHRoaXMuZXhwcmVzc2lvbiA9IGpzb24uZXhwcmVzc2lvbiB8fCAnMT0xJztcblx0XHRcdFx0LyoqL1xuXHRcdFx0XHR0aGlzLmNhdGFsb2cgPSBqc29uLmNhdGFsb2cgfHwgJyc7XG5cdFx0XHRcdHRoaXMuZW50aXR5ID0ganNvbi5lbnRpdHkgfHwgJyc7XG5cdFx0XHRcdHRoaXMucHJpbWFyeUZpZWxkID0ganNvbi5wcmltYXJ5RmllbGQgfHwgJyc7XG5cdFx0XHRcdHRoaXMucm93c2V0ID0ganNvbi5yb3dzZXQgfHwgJyc7XG5cdFx0XHRcdC8qKi9cblx0XHRcdFx0dGhpcy5zdGFydCA9IHBhcnNlSW50KGpzb24uc3RhcnQgfHwgJzEnKTtcblx0XHRcdFx0dGhpcy5zdG9wID0gcGFyc2VJbnQoanNvbi5zdG9wIHx8ICcxMCcpO1xuXHRcdFx0XHR0aGlzLm9yZGVyQnkgPSBqc29uLm9yZGVyQnkgfHwgJyc7XG5cdFx0XHRcdHRoaXMub3JkZXJXYXkgPSBqc29uLm9yZGVyV2F5IHx8ICcnO1xuXHRcdFx0XHQvKiovXG5cdFx0XHRcdHRoaXMubWF4Q2VsbExlbmd0aCA9IHBhcnNlSW50KGpzb24ubWF4Q2VsbExlbmd0aCB8fCAnNjQnKTtcblxuXHRcdFx0XHR0aGlzLnRhYmxlID0gbmV3IGRhdGFbMV0oKTtcblxuXHRcdFx0XHRyZXN1bHQucmVzb2x2ZSgpO1xuXHRcdFx0fSk7XG5cblx0XHR9KS5mYWlsKChkYXRhKSA9PiB7XG5cblx0XHRcdHJlc3VsdC5yZWplY3QoZGF0YSk7XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0b25Mb2dpbjogZnVuY3Rpb24oKVxuXHR7XG5cdFx0Y29uc3QgY2FuRWRpdCA9IGFtaUxvZ2luLmhhc1JvbGUoJ0FNSV9BRE1JTicpXG5cdFx0ICAgICAgICAgICAgICAgIHx8XG5cdFx0ICAgICAgICAgICAgICAgIGFtaUxvZ2luLmhhc1JvbGUoJ0FNSV9XUklURVInKVxuXHRcdDtcblxuXHRcdHRoaXMudGFibGUucmVuZGVyKCcjQTI5NDRDMEFfOTI0OV9FNEQyXzM2NzlfNDk0QzFBM0FBQUYwJywgdGhpcy5jb21tYW5kID8gdGhpcy5jb21tYW5kIDogJ0Jyb3dzZVF1ZXJ5IC1jYXRhbG9nPVwiJyArIGFtaVdlYkFwcC50ZXh0VG9TdHJpbmcodGhpcy5jYXRhbG9nKSArICdcIiAtZW50aXR5PVwiJyArIGFtaVdlYkFwcC50ZXh0VG9TdHJpbmcodGhpcy5lbnRpdHkpICsgJ1wiIC1tcWw9XCJTRUxFQ1QgYCpgIFdIRVJFICcgKyBhbWlXZWJBcHAudGV4dFRvU3RyaW5nKHRoaXMuZXhwcmVzc2lvbikgKyAnXCInLCB7XG5cdFx0XHRzaG93RGV0YWlsczogdHJ1ZSxcblx0XHRcdGNhbkVkaXQ6IGNhbkVkaXQsXG5cdFx0XHQvKiovXG5cdFx0XHRjYXRhbG9nOiB0aGlzLmNhdGFsb2csXG5cdFx0XHRlbnRpdHk6IHRoaXMuZW50aXR5LFxuXHRcdFx0cHJpbWFyeUZpZWxkOiB0aGlzLnByaW1hcnlGaWVsZCxcblx0XHRcdHJvd3NldDogdGhpcy5yb3dzZXQsXG5cdFx0XHQvKiovXG5cdFx0XHRzdGFydDogdGhpcy5zdGFydCxcblx0XHRcdHN0b3A6IHRoaXMuc3RvcCxcblx0XHRcdG9yZGVyQnk6IHRoaXMub3JkZXJCeSxcblx0XHRcdG9yZGVyV2F5OiB0aGlzLm9yZGVyV2F5LFxuXHRcdFx0LyoqL1xuXHRcdFx0bWF4Q2VsbExlbmd0aDogdGhpcy5tYXhDZWxsTGVuZ3RoLFxuXHRcdFx0LyoqL1xuXHRcdFx0Y2FyZDogdHJ1ZSxcblx0XHR9KTtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdG9uTG9nb3V0OiBmdW5jdGlvbigpXG5cdHtcblx0XHRhbWlXZWJBcHAucmVwbGFjZUhUTUwoJyNBMjk0NEMwQV85MjQ5X0U0RDJfMzY3OV80OTRDMUEzQUFBRjAnLCAnUGxlYXNlIHNpZ24taW4uJyk7XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbn0pO1xuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbi8qIEdMT0JBTCBJTlNUQU5DRSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmNvbnN0IHRhYmxlVmlld2VyQXBwID0gbmV3IFRhYmxlVmlld2VyQXBwKCk7XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuIl19
