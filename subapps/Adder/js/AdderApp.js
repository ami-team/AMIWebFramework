/*!
 * AMI Web Framework
 *
 * Copyright (c) 2014-XXXX The AMI Team / LPSC / CNRS
 *
 * This file must be used under the terms of the CeCILL-C:
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-fr.html
 *
 */$AMIClass("AdderApp",{$extends:ami.SubApp,onReady:function onReady(userdata){var _this=this;if(userdata){this.qId=[];userdata.split(",").forEach(function(item){_this.qId.push(item.trim())})}var result=$.Deferred();amiWebApp.loadResources(["subapps/Adder/css/AdderApp.css","subapps/Adder/twig/AdderApp.twig","ctrl:adder"],{context:this}).done(function(data){_this.adderCtrl=data[2];amiWebApp.replaceHTML("#ami_main_content",data[1],{context:_this}).done(function(){result.resolve()})}).fail(function(data){result.reject(data)});return result},onExit:function onExit(){},onLogin:function onLogin(){var result=$.Deferred();var enable=amiLogin.hasRole("AMI_ADMIN")===true||amiLogin.hasRole("AMI_WRITER")===true;if(enable){if(this.qId){var catalog=this.qId[0];var entity=this.qId[1];var field=this.qId[2];var adder=new this.adderCtrl;adder.render("#C9BBC18B_2959_A48E_9059_9FC08D667935",{catalog:catalog,entity:entity,field:field}).done(function(){result.resolve()}).fail(function(message){result.reject(message)})}else{result.reject("Missing parameters")}}else{$("#C9BBC18B_2959_A48E_9059_9FC08D667935").empty()}},onLogout:function onLogout(){$("#C9BBC18B_2959_A48E_9059_9FC08D667935").empty()}});var adderApp=new AdderApp;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFkZGVyQXBwLmVzNi5qcyJdLCJuYW1lcyI6WyIkQU1JQ2xhc3MiLCIkZXh0ZW5kcyIsImFtaSIsIlN1YkFwcCIsIm9uUmVhZHkiLCJ1c2VyZGF0YSIsInFJZCIsInNwbGl0IiwiZm9yRWFjaCIsIml0ZW0iLCJwdXNoIiwidHJpbSIsInJlc3VsdCIsIiQiLCJEZWZlcnJlZCIsImFtaVdlYkFwcCIsImxvYWRSZXNvdXJjZXMiLCJjb250ZXh0IiwiZG9uZSIsImRhdGEiLCJhZGRlckN0cmwiLCJyZXBsYWNlSFRNTCIsInJlc29sdmUiLCJmYWlsIiwicmVqZWN0Iiwib25FeGl0Iiwib25Mb2dpbiIsImVuYWJsZSIsImFtaUxvZ2luIiwiaGFzUm9sZSIsImNhdGFsb2ciLCJlbnRpdHkiLCJmaWVsZCIsImFkZGVyIiwicmVuZGVyIiwibWVzc2FnZSIsImVtcHR5Iiwib25Mb2dvdXQiLCJhZGRlckFwcCIsIkFkZGVyQXBwIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7O0dBYUFBLFNBQVMsQ0FBQyxVQUFELENBQWEsQ0FHckJDLFFBQVEsQ0FBRUMsR0FBRyxDQUFDQyxNQUhPLENBT3JCQyxPQUFPLENBQUUsaUJBQVNDLFFBQVQsQ0FDVCxnQkFDTyxHQUFHQSxRQUFILENBQ0EsQ0FDSSxLQUFLQyxHQUFMLENBQVcsRUFBWCxDQUVBRCxRQUFRLENBQUNFLEtBQVQsQ0FBZSxHQUFmLEVBQW9CQyxPQUFwQixDQUE0QixTQUFDQyxJQUFELENBQVUsQ0FFakMsS0FBSSxDQUFDSCxHQUFMLENBQVNJLElBQVQsQ0FBY0QsSUFBSSxDQUFDRSxJQUFMLEVBQWQsQ0FDSixDQUhELENBSUgsQ0FFUCxHQUFNQyxDQUFBQSxNQUFNLENBQUdDLENBQUMsQ0FBQ0MsUUFBRixFQUFmLENBRUFDLFNBQVMsQ0FBQ0MsYUFBVixDQUF3QixDQUN2QixnQ0FEdUIsQ0FFdkIsa0NBRnVCLENBR3ZCLFlBSHVCLENBQXhCLENBSUcsQ0FBQ0MsT0FBTyxDQUFFLElBQVYsQ0FKSCxFQUlvQkMsSUFKcEIsQ0FJeUIsU0FBQ0MsSUFBRCxDQUFVLENBRS9CLEtBQUksQ0FBQ0MsU0FBTCxDQUFpQkQsSUFBSSxDQUFDLENBQUQsQ0FBckIsQ0FFSEosU0FBUyxDQUFDTSxXQUFWLENBQXNCLG1CQUF0QixDQUEyQ0YsSUFBSSxDQUFDLENBQUQsQ0FBL0MsQ0FBb0QsQ0FBQ0YsT0FBTyxDQUFFLEtBQVYsQ0FBcEQsRUFBcUVDLElBQXJFLENBQTBFLFVBQU0sQ0FFL0VOLE1BQU0sQ0FBQ1UsT0FBUCxFQUNBLENBSEQsQ0FLQSxDQWJELEVBYUdDLElBYkgsQ0FhUSxTQUFDSixJQUFELENBQVUsQ0FFakJQLE1BQU0sQ0FBQ1ksTUFBUCxDQUFjTCxJQUFkLENBQ0EsQ0FoQkQsRUFrQkEsTUFBT1AsQ0FBQUEsTUFDUCxDQXhDb0IsQ0E0Q3JCYSxNQUFNLENBQUUsaUJBQ1IsQ0FDQyxDQTlDb0IsQ0FrRHJCQyxPQUFPLENBQUUsa0JBQ1QsQ0FDTyxHQUFNZCxDQUFBQSxNQUFNLENBQUdDLENBQUMsQ0FBQ0MsUUFBRixFQUFmLENBRUEsR0FBTWEsQ0FBQUEsTUFBTSxDQUFHQyxRQUFRLENBQUNDLE9BQVQsQ0FBaUIsV0FBakIsSUFBa0MsSUFBbEMsRUFBMENELFFBQVEsQ0FBQ0MsT0FBVCxDQUFpQixZQUFqQixJQUFtQyxJQUE1RixDQUVBLEdBQUdGLE1BQUgsQ0FDQSxDQUNJLEdBQUcsS0FBS3JCLEdBQVIsQ0FDQSxDQUNJLEdBQU13QixDQUFBQSxPQUFPLENBQUcsS0FBS3hCLEdBQUwsQ0FBUyxDQUFULENBQWhCLENBQ0EsR0FBTXlCLENBQUFBLE1BQU0sQ0FBRyxLQUFLekIsR0FBTCxDQUFTLENBQVQsQ0FBZixDQUNBLEdBQU0wQixDQUFBQSxLQUFLLENBQUcsS0FBSzFCLEdBQUwsQ0FBUyxDQUFULENBQWQsQ0FFQSxHQUFNMkIsQ0FBQUEsS0FBSyxDQUFHLEdBQUksTUFBS2IsU0FBdkIsQ0FFQWEsS0FBSyxDQUFDQyxNQUFOLENBQWEsdUNBQWIsQ0FBcUQsQ0FBQ0osT0FBTyxDQUFFQSxPQUFWLENBQW1CQyxNQUFNLENBQUNBLE1BQTFCLENBQWtDQyxLQUFLLENBQUVBLEtBQXpDLENBQXJELEVBQXNHZCxJQUF0RyxDQUEyRyxVQUFXLENBRWxITixNQUFNLENBQUNVLE9BQVAsRUFFSCxDQUpELEVBSUdDLElBSkgsQ0FJUSxTQUFTWSxPQUFULENBQWtCLENBRXRCdkIsTUFBTSxDQUFDWSxNQUFQLENBQWNXLE9BQWQsQ0FDSCxDQVBELENBUUgsQ0FoQkQsSUFrQkEsQ0FDSXZCLE1BQU0sQ0FBQ1ksTUFBUCxDQUFjLG9CQUFkLENBQ0gsQ0FDSixDQXZCRCxJQXlCQSxDQUNJWCxDQUFDLENBQUMsdUNBQUQsQ0FBRCxDQUEyQ3VCLEtBQTNDLEVBQ0gsQ0FDUCxDQXBGb0IsQ0F3RnJCQyxRQUFRLENBQUUsbUJBQ1YsQ0FDSXhCLENBQUMsQ0FBQyx1Q0FBRCxDQUFELENBQTJDdUIsS0FBM0MsRUFDSCxDQTNGb0IsQ0FBYixDQUFULENBb0dBLEdBQU1FLENBQUFBLFFBQVEsQ0FBRyxHQUFJQyxDQUFBQSxRQUFyQiIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQU1JIFdlYiBGcmFtZXdvcmtcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtWFhYWCBUaGUgQU1JIFRlYW0gLyBMUFNDIC8gQ05SU1xuICpcbiAqIFRoaXMgZmlsZSBtdXN0IGJlIHVzZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBDZUNJTEwtQzpcbiAqIGh0dHA6Ly93d3cuY2VjaWxsLmluZm8vbGljZW5jZXMvTGljZW5jZV9DZUNJTEwtQ19WMS1lbi5odG1sXG4gKiBodHRwOi8vd3d3LmNlY2lsbC5pbmZvL2xpY2VuY2VzL0xpY2VuY2VfQ2VDSUxMLUNfVjEtZnIuaHRtbFxuICpcbiAqL1xuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuJEFNSUNsYXNzKCdBZGRlckFwcCcsIHtcblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQkZXh0ZW5kczogYW1pLlN1YkFwcCxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdG9uUmVhZHk6IGZ1bmN0aW9uKHVzZXJkYXRhKVxuXHR7XG4gICAgICAgIGlmKHVzZXJkYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnFJZCA9IFtdO1xuXG4gICAgICAgICAgICB1c2VyZGF0YS5zcGxpdCgnLCcpLmZvckVhY2goKGl0ZW0pID0+IHtcblxuICAgICAgICAgICAgICAgICB0aGlzLnFJZC5wdXNoKGl0ZW0udHJpbSgpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cblx0XHRjb25zdCByZXN1bHQgPSAkLkRlZmVycmVkKCk7XG5cblx0XHRhbWlXZWJBcHAubG9hZFJlc291cmNlcyhbXG5cdFx0XHQnc3ViYXBwcy9BZGRlci9jc3MvQWRkZXJBcHAuY3NzJyxcblx0XHRcdCdzdWJhcHBzL0FkZGVyL3R3aWcvQWRkZXJBcHAudHdpZycsXG5cdFx0XHQnY3RybDphZGRlcidcblx0XHRdLCB7Y29udGV4dDogdGhpc30pLmRvbmUoKGRhdGEpID0+IHtcblxuXHRcdCAgICB0aGlzLmFkZGVyQ3RybCA9IGRhdGFbMl07XG5cblx0XHRcdGFtaVdlYkFwcC5yZXBsYWNlSFRNTCgnI2FtaV9tYWluX2NvbnRlbnQnLCBkYXRhWzFdLCB7Y29udGV4dDogdGhpc30pLmRvbmUoKCkgPT4ge1xuXG5cdFx0XHRcdHJlc3VsdC5yZXNvbHZlKCk7XG5cdFx0XHR9KTtcblxuXHRcdH0pLmZhaWwoKGRhdGEpID0+IHtcblxuXHRcdFx0cmVzdWx0LnJlamVjdChkYXRhKTtcblx0XHR9KTtcblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRvbkV4aXQ6IGZ1bmN0aW9uKClcblx0e1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0b25Mb2dpbjogZnVuY3Rpb24oKVxuXHR7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9ICQuRGVmZXJyZWQoKTtcblxuICAgICAgICBjb25zdCBlbmFibGUgPSBhbWlMb2dpbi5oYXNSb2xlKCdBTUlfQURNSU4nKSA9PT0gdHJ1ZSB8fCBhbWlMb2dpbi5oYXNSb2xlKCdBTUlfV1JJVEVSJykgPT09IHRydWU7XG5cbiAgICAgICAgaWYoZW5hYmxlKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZih0aGlzLnFJZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYXRhbG9nID0gdGhpcy5xSWRbMF07XG4gICAgICAgICAgICAgICAgY29uc3QgZW50aXR5ID0gdGhpcy5xSWRbMV07XG4gICAgICAgICAgICAgICAgY29uc3QgZmllbGQgPSB0aGlzLnFJZFsyXTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGFkZGVyID0gbmV3IHRoaXMuYWRkZXJDdHJsKCk7XG5cbiAgICAgICAgICAgICAgICBhZGRlci5yZW5kZXIoJyNDOUJCQzE4Ql8yOTU5X0E0OEVfOTA1OV85RkMwOEQ2Njc5MzUnLHtjYXRhbG9nOiBjYXRhbG9nLCBlbnRpdHk6ZW50aXR5LCBmaWVsZDogZmllbGR9KS5kb25lKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5yZXNvbHZlKCk7XG5cbiAgICAgICAgICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uKG1lc3NhZ2UpIHtcblxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucmVqZWN0KG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5yZWplY3QoJ01pc3NpbmcgcGFyYW1ldGVycycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgJCgnI0M5QkJDMThCXzI5NTlfQTQ4RV85MDU5XzlGQzA4RDY2NzkzNScpLmVtcHR5KCk7XG4gICAgICAgIH1cblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdG9uTG9nb3V0OiBmdW5jdGlvbigpXG5cdHtcblx0ICAgICQoJyNDOUJCQzE4Ql8yOTU5X0E0OEVfOTA1OV85RkMwOEQ2Njc5MzUnKS5lbXB0eSgpO1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG59KTtcblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4vKiBHTE9CQUwgSU5TVEFOQ0UgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5jb25zdCBhZGRlckFwcCA9IG5ldyBBZGRlckFwcCgpO1xuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbiJdfQ==
