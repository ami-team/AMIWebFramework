/*!
 * AMI Web Framework
 *
 * Copyright (c) 2014-XXXX The AMI Team / LPSC / CNRS
 *
 * This file must be used under the terms of the CeCILL-C:
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-fr.html
 *
 */

/*-------------------------------------------------------------------------*/
$AMIClass('UserDashboardApp', {
  /*---------------------------------------------------------------------*/
  $extends: ami.SubApp,

  /*---------------------------------------------------------------------*/
  onReady: function onReady(userdata) {
    var _this = this;

    var result = $.Deferred();
    amiWebApp.loadResources(['subapps/UserDashboard/css/UserDashboardApp.css', 'subapps/UserDashboard/twig/UserDashboardApp.twig',
    /**/
    'subapps/UserDashboard/js/jquery-ui.min.js',
    /**/
    amiWebApp.originURL + '/subapps/UserDashboard/js/gridstack.min.css', amiWebApp.originURL + '/subapps/UserDashboard/js/gridstack.all.js']).done(function (data) {
      amiWebApp.replaceHTML('#ami_main_content', data[1]).done(function () {
        /*---------------------------------------------------------*/
        var el = $('#F251696F_D42E_F7FF_86F7_2E6B4F2E8F74');
        /*---------------------------------------------------------*/

        var settings = {
          float: true,
          cellHeight: 36,
          verticalMargin: 12,
          width: 12
        };
        _this.gridstack = el.gridstack(settings).data('gridstack');
        /*---------------------------------------------------------*/

        el.on('change', function (e, items) {
          if (items && !_this.lock) {
            items.forEach(function (item) {
              _this._serialize(item);
            });
          }
        });
        /*---------------------------------------------------------*/

        _this.lock = false;
        /*---------------------------------------------------------*/

        result.resolve();
      });
    }).fail(function (data) {
      result.reject(data);
    });
    return result;
  },

  /*---------------------------------------------------------------------*/
  onLogin: function onLogin() {
    var _this2 = this;

    /*-----------------------------------------------------------------*/
    $('#ami_user_menu_content').html('<div class="dropdown-divider"></div>' + '<a class="dropdown-item" href="javascript:(function() { amiWebApp.lock(); userDashboardApp.reload().done(function() { amiWebApp.unlock(); }).fail(function(message) { amiWebApp.error(message); }); return; })();">Reload Dashboard</a>' + '<a class="dropdown-item" href="' + amiWebApp.webAppURL + '?subapp=dashboardAdmin" target="_blank">Edit Dashboard</a>');
    /*-----------------------------------------------------------------*/

    return this.reload().done(function () {
      _this2.interval = setInterval(function () {
        _this2.refresh();
      }, 5000);
    });
    /*-----------------------------------------------------------------*/
  },

  /*---------------------------------------------------------------------*/
  onLogout: function onLogout() {
    $('#F251696F_D42E_F7FF_86F7_2E6B4F2E8F74').empty();
    clearInterval(this.interval);
    this.controls = [];
  },

  /*---------------------------------------------------------------------*/
  _reload: function _reload(result, rows, idx) {
    var _this3 = this;

    if (idx === rows.length) {
      return result.resolve();
    }
    /*-----------------------------------------------------------------*/


    var row = rows[idx];
    /*-----------------------------------------------------------------*/

    var id = amiWebApp.jspath('..field{.@name==="id"}.$', row)[0] || '';
    var control = amiWebApp.jspath('..field{.@name==="control"}.$', row)[0] || '';
    var params = amiWebApp.jspath('..field{.@name==="params"}.$', row)[0] || '[]';
    var settings = amiWebApp.jspath('..field{.@name==="settings"}.$', row)[0] || '{}';
    var autoRefresh = amiWebApp.jspath('..field{.@name==="autoRefresh"}.$', row)[0] || '1';
    var x = amiWebApp.jspath('..field{.@name==="x"}.$', row)[0] || '0';
    var y = amiWebApp.jspath('..field{.@name==="y"}.$', row)[0] || '0';
    var width = amiWebApp.jspath('..field{.@name==="width"}.$', row)[0] || '0';
    var height = amiWebApp.jspath('..field{.@name==="height"}.$', row)[0] || '0';
    /*-----------------------------------------------------------------*/

    this.gridstack.addWidget($('<div data-gs-id="' + id + '"><div class="grid-stack-item-content" id="EB4DF671_2C31_BED0_6BED_44790525F28F_' + idx + '"></div></div>'), x, y, width, height).promise().done(function () {
      amiWebApp.createControl(_this3, _this3, control, ['#EB4DF671_2C31_BED0_6BED_44790525F28F_' + idx].concat(JSON.parse(params)), JSON.parse(settings)).done(function (control) {
        control.autoRefresh = parseInt(autoRefresh);

        _this3._reload(result, rows, idx + 1);

        _this3.controls.push(control);
      }).fail(function (message) {
        result.reject(message);
      });
    });
    /*-----------------------------------------------------------------*/

    return result;
  },

  /*---------------------------------------------------------------------*/
  reload: function reload() {
    var _this4 = this;

    var result = $.Deferred();
    /*-----------------------------------------------------------------*/

    amiCommand.execute('GetDashboardInfo').done(function (data) {
      /*-------------------------------------------------------------*/
      _this4.gridstack.removeAll();

      _this4.controls = [];
      _this4.lock = true;
      /*-------------------------------------------------------------*/

      _this4._reload($.Deferred(), amiWebApp.jspath('..row', data), 0).done(function () {
        _this4.refresh();

        _this4.lock = false;
        result.resolve();
      }).fail(function (message) {
        _this4.refresh();

        _this4.lock = false;
        result.reject(message);
      });
    }).fail(function (data, message) {
      result.reject(message);
    });
    /*-----------------------------------------------------------------*/

    return result;
  },

  /*---------------------------------------------------------------------*/
  refresh: function refresh() {
    /*-----------------------------------------------------------------*/
    this.controls.forEach(function (control) {
      if (control.autoRefresh !== 0 && control.refresh) {
        control.refresh();
      }
    });
    /*-----------------------------------------------------------------*/

    return $.Deferred().resolve();
    /*-----------------------------------------------------------------*/
  },

  /*---------------------------------------------------------------------*/
  _serialize: function _serialize(item) {
    amiWebApp.lock();
    amiCommand.execute('SetWidgetProperties -id="' + amiWebApp.textToString(item.id) + '" -x="' + item.x + '" -y="' + item.y + '" -width="' + item.width + '" -height="' + item.height + '"').done(function () {
      amiWebApp.unlock();
    }).fail(function (data, message) {
      amiWebApp.error(message);
    });
  }
  /*---------------------------------------------------------------------*/

});
/*-------------------------------------------------------------------------*/

/* GLOBAL INSTANCE                                                         */

/*-------------------------------------------------------------------------*/

var userDashboardApp = new UserDashboardApp();
/*-------------------------------------------------------------------------*/
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXJEYXNoYm9hcmRBcHAuZXM2LmpzIl0sIm5hbWVzIjpbIiRBTUlDbGFzcyIsIiRleHRlbmRzIiwiYW1pIiwiU3ViQXBwIiwib25SZWFkeSIsInVzZXJkYXRhIiwicmVzdWx0IiwiJCIsIkRlZmVycmVkIiwiYW1pV2ViQXBwIiwibG9hZFJlc291cmNlcyIsIm9yaWdpblVSTCIsImRvbmUiLCJkYXRhIiwicmVwbGFjZUhUTUwiLCJlbCIsInNldHRpbmdzIiwiZmxvYXQiLCJjZWxsSGVpZ2h0IiwidmVydGljYWxNYXJnaW4iLCJ3aWR0aCIsImdyaWRzdGFjayIsIm9uIiwiZSIsIml0ZW1zIiwibG9jayIsImZvckVhY2giLCJpdGVtIiwiX3NlcmlhbGl6ZSIsInJlc29sdmUiLCJmYWlsIiwicmVqZWN0Iiwib25Mb2dpbiIsImh0bWwiLCJ3ZWJBcHBVUkwiLCJyZWxvYWQiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwicmVmcmVzaCIsIm9uTG9nb3V0IiwiZW1wdHkiLCJjbGVhckludGVydmFsIiwiY29udHJvbHMiLCJfcmVsb2FkIiwicm93cyIsImlkeCIsImxlbmd0aCIsInJvdyIsImlkIiwianNwYXRoIiwiY29udHJvbCIsInBhcmFtcyIsImF1dG9SZWZyZXNoIiwieCIsInkiLCJoZWlnaHQiLCJhZGRXaWRnZXQiLCJwcm9taXNlIiwiY3JlYXRlQ29udHJvbCIsImNvbmNhdCIsIkpTT04iLCJwYXJzZSIsInBhcnNlSW50IiwicHVzaCIsIm1lc3NhZ2UiLCJhbWlDb21tYW5kIiwiZXhlY3V0ZSIsInJlbW92ZUFsbCIsInRleHRUb1N0cmluZyIsInVubG9jayIsImVycm9yIiwidXNlckRhc2hib2FyZEFwcCIsIlVzZXJEYXNoYm9hcmRBcHAiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7OztBQVdBO0FBRUFBLFNBQVMsQ0FBQyxrQkFBRCxFQUFxQjtBQUM3QjtBQUVBQyxFQUFBQSxRQUFRLEVBQUVDLEdBQUcsQ0FBQ0MsTUFIZTs7QUFLN0I7QUFFQUMs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QUFDLENBQUNDLFFBQUYsR0FBYXFCLE9BQWIsRUFBUDtBQUVBO0FBQ0EsR0E3TjRCOztBQStON0I7QUFFQUQsRUFBQUEsVUFBVSxFQUFFLG9CQUFTRCxJQUFULEVBQ1o7QUFDQ2xCLElBQUFBLFNBQVMsQ0FBQ2dCLElBQVY7QUFFQXdDLElBQUFBLFVBQVUsQ0FBQ0MsT0FBWCxDQUFtQiw4QkFBOEJ6RCxTQUFTLENBQUMyRCxZQUFWLENBQXVCekMsSUFBSSxDQUFDcUIsRUFBNUIsQ0FBOUIsR0FBZ0UsUUFBaEUsR0FBMkVyQixJQUFJLENBQUMwQixDQUFoRixHQUFvRixRQUFwRixHQUErRjFCLElBQUksQ0FBQzJCLENBQXBHLEdBQXdHLFlBQXhHLEdBQXVIM0IsSUFBSSxDQUFDUCxLQUE1SCxHQUFvSSxhQUFwSSxHQUFvSk8sSUFBSSxDQUFDNEIsTUFBekosR0FBa0ssR0FBckwsRUFBMEwzQyxJQUExTCxDQUErTCxZQUFNO0FBRXBNSCxNQUFBQSxTQUFTLENBQUM0RCxNQUFWO0FBRUEsS0FKRCxFQUlHdkMsSUFKSCxDQUlRLFVBQUNqQixJQUFELEVBQU9tRCxPQUFQLEVBQW1CO0FBRTFCdkQsTUFBQUEsU0FBUyxDQUFDNkQsS0FBVixDQUFnQk4sT0FBaEI7QUFDQSxLQVBEO0FBUUE7QUFFRDs7QUEvTzZCLENBQXJCLENBQVQ7QUFrUEE7O0FBQ0E7O0FBQ0E7O0FBRUEsSUFBSU8sZ0JBQWdCLEdBQUcsSUFBSUMsZ0JBQUosRUFBdkI7QUFFQSIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQU1JIFdlYiBGcmFtZXdvcmtcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtWFhYWCBUaGUgQU1JIFRlYW0gLyBMUFNDIC8gQ05SU1xuICpcbiAqIFRoaXMgZmlsZSBtdXN0IGJlIHVzZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBDZUNJTEwtQzpcbiAqIGh0dHA6Ly93d3cuY2VjaWxsLmluZm8vbGljZW5jZXMvTGljZW5jZV9DZUNJTEwtQ19WMS1lbi5odG1sXG4gKiBodHRwOi8vd3d3LmNlY2lsbC5pbmZvL2xpY2VuY2VzL0xpY2VuY2VfQ2VDSUxMLUNfVjEtZnIuaHRtbFxuICpcbiAqL1xuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4kQU1JQ2xhc3MoJ1VzZXJEYXNoYm9hcmRBcHAnLCB7XG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQkZXh0ZW5kczogYW1pLlN1YkFwcCxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0b25SZWFkeTogZnVuY3Rpb24odXNlcmRhdGEpXG5cdHtcblx0XHRjb25zdCByZXN1bHQgPSAkLkRlZmVycmVkKCk7XG5cblx0XHRhbWlXZWJBcHAubG9hZFJlc291cmNlcyhbXG5cdFx0XHQnc3ViYXBwcy9Vc2VyRGFzaGJvYXJkL2Nzcy9Vc2VyRGFzaGJvYXJkQXBwLmNzcycsXG5cdFx0XHQnc3ViYXBwcy9Vc2VyRGFzaGJvYXJkL3R3aWcvVXNlckRhc2hib2FyZEFwcC50d2lnJyxcblx0XHRcdC8qKi9cblx0XHRcdCdzdWJhcHBzL1VzZXJEYXNoYm9hcmQvanMvanF1ZXJ5LXVpLm1pbi5qcycsXG5cdFx0XHQvKiovXG5cdFx0XHRhbWlXZWJBcHAub3JpZ2luVVJMICsgJy9zdWJhcHBzL1VzZXJEYXNoYm9hcmQvanMvZ3JpZHN0YWNrLm1pbi5jc3MnLFxuXHRcdFx0YW1pV2ViQXBwLm9yaWdpblVSTCArICcvc3ViYXBwcy9Vc2VyRGFzaGJvYXJkL2pzL2dyaWRzdGFjay5hbGwuanMnLFxuXHRcdF0pLmRvbmUoKGRhdGEpID0+IHtcblxuXHRcdFx0YW1pV2ViQXBwLnJlcGxhY2VIVE1MKCcjYW1pX21haW5fY29udGVudCcsIGRhdGFbMV0pLmRvbmUoKCkgPT4ge1xuXG5cdFx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0XHRjb25zdCBlbCA9ICQoJyNGMjUxNjk2Rl9ENDJFX0Y3RkZfODZGN18yRTZCNEYyRThGNzQnKTtcblxuXHRcdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRcdFx0Y29uc3Qgc2V0dGluZ3MgPSB7XG5cdFx0XHRcdFx0ZmxvYXQ6IHRydWUsXG5cdFx0XHRcdFx0Y2VsbEhlaWdodDogMzYsXG5cdFx0XHRcdFx0dmVydGljYWxNYXJnaW46IDEyLFxuXHRcdFx0XHRcdHdpZHRoOiAxMixcblx0XHRcdFx0fTtcblxuXHRcdFx0XHR0aGlzLmdyaWRzdGFjayA9IGVsLmdyaWRzdGFjayhzZXR0aW5ncykuZGF0YSgnZ3JpZHN0YWNrJyk7XG5cblx0XHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRcdGVsLm9uKCdjaGFuZ2UnLCAoZSwgaXRlbXMpID0+IHtcblxuXHRcdFx0XHRcdGlmKGl0ZW1zICYmICF0aGlzLmxvY2spXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0aXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuXG5cdFx0XHRcdFx0XHRcdHRoaXMuX3NlcmlhbGl6ZShpdGVtKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRcdHRoaXMubG9jayA9IGZhbHNlO1xuXG5cdFx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0XHRyZXN1bHQucmVzb2x2ZSgpO1xuXHRcdFx0fSk7XG5cblx0XHR9KS5mYWlsKChkYXRhKSA9PiB7XG5cblx0XHRcdHJlc3VsdC5yZWplY3QoZGF0YSk7XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRvbkxvZ2luOiBmdW5jdGlvbigpXG5cdHtcblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdCQoJyNhbWlfdXNlcl9tZW51X2NvbnRlbnQnKS5odG1sKFxuXHRcdFx0JzxkaXYgY2xhc3M9XCJkcm9wZG93bi1kaXZpZGVyXCI+PC9kaXY+J1xuXHRcdFx0K1xuXHRcdFx0JzxhIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiIGhyZWY9XCJqYXZhc2NyaXB0OihmdW5jdGlvbigpIHsgYW1pV2ViQXBwLmxvY2soKTsgdXNlckRhc2hib2FyZEFwcC5yZWxvYWQoKS5kb25lKGZ1bmN0aW9uKCkgeyBhbWlXZWJBcHAudW5sb2NrKCk7IH0pLmZhaWwoZnVuY3Rpb24obWVzc2FnZSkgeyBhbWlXZWJBcHAuZXJyb3IobWVzc2FnZSk7IH0pOyByZXR1cm47IH0pKCk7XCI+UmVsb2FkIERhc2hib2FyZDwvYT4nXG5cdFx0XHQrXG5cdFx0XHQnPGEgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCIgaHJlZj1cIicgKyBhbWlXZWJBcHAud2ViQXBwVVJMICsgJz9zdWJhcHA9ZGFzaGJvYXJkQWRtaW5cIiB0YXJnZXQ9XCJfYmxhbmtcIj5FZGl0IERhc2hib2FyZDwvYT4nXG5cdFx0KTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0cmV0dXJuIHRoaXMucmVsb2FkKCkuZG9uZSgoKSA9PiB7XG5cblx0XHRcdHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG5cblx0XHRcdFx0dGhpcy5yZWZyZXNoKCk7XG5cblx0XHRcdH0sIDUwMDApO1xuXHRcdH0pO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdG9uTG9nb3V0OiBmdW5jdGlvbigpXG5cdHtcblx0XHQkKCcjRjI1MTY5NkZfRDQyRV9GN0ZGXzg2RjdfMkU2QjRGMkU4Rjc0JykuZW1wdHkoKTtcblxuXHRcdGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCk7XG5cblx0XHR0aGlzLmNvbnRyb2xzID0gW107XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdF9yZWxvYWQ6IGZ1bmN0aW9uKHJlc3VsdCwgcm93cywgaWR4KVxuXHR7XG5cdFx0aWYoaWR4ID09PSByb3dzLmxlbmd0aClcblx0XHR7XG5cdFx0XHRyZXR1cm4gcmVzdWx0LnJlc29sdmUoKTtcblx0XHR9XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdGNvbnN0IHJvdyA9IHJvd3NbaWR4XTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0Y29uc3QgaWQgPSBhbWlXZWJBcHAuanNwYXRoKCcuLmZpZWxkey5AbmFtZT09PVwiaWRcIn0uJCcsIHJvdylbMF0gfHwgJyc7XG5cdFx0Y29uc3QgY29udHJvbCA9IGFtaVdlYkFwcC5qc3BhdGgoJy4uZmllbGR7LkBuYW1lPT09XCJjb250cm9sXCJ9LiQnLCByb3cpWzBdIHx8ICcnO1xuXHRcdGNvbnN0IHBhcmFtcyA9IGFtaVdlYkFwcC5qc3BhdGgoJy4uZmllbGR7LkBuYW1lPT09XCJwYXJhbXNcIn0uJCcsIHJvdylbMF0gfHwgJ1tdJztcblx0XHRjb25zdCBzZXR0aW5ncyA9IGFtaVdlYkFwcC5qc3BhdGgoJy4uZmllbGR7LkBuYW1lPT09XCJzZXR0aW5nc1wifS4kJywgcm93KVswXSB8fCAne30nO1xuXHRcdGNvbnN0IGF1dG9SZWZyZXNoID0gYW1pV2ViQXBwLmpzcGF0aCgnLi5maWVsZHsuQG5hbWU9PT1cImF1dG9SZWZyZXNoXCJ9LiQnLCByb3cpWzBdIHx8ICcxJztcblx0XHRjb25zdCB4ID0gYW1pV2ViQXBwLmpzcGF0aCgnLi5maWVsZHsuQG5hbWU9PT1cInhcIn0uJCcsIHJvdylbMF0gfHwgJzAnO1xuXHRcdGNvbnN0IHkgPSBhbWlXZWJBcHAuanNwYXRoKCcuLmZpZWxkey5AbmFtZT09PVwieVwifS4kJywgcm93KVswXSB8fCAnMCc7XG5cdFx0Y29uc3Qgd2lkdGggPSBhbWlXZWJBcHAuanNwYXRoKCcuLmZpZWxkey5AbmFtZT09PVwid2lkdGhcIn0uJCcsIHJvdylbMF0gfHwgJzAnO1xuXHRcdGNvbnN0IGhlaWdodCA9IGFtaVdlYkFwcC5qc3BhdGgoJy4uZmllbGR7LkBuYW1lPT09XCJoZWlnaHRcIn0uJCcsIHJvdylbMF0gfHwgJzAnO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHR0aGlzLmdyaWRzdGFjay5hZGRXaWRnZXQoJCgnPGRpdiBkYXRhLWdzLWlkPVwiJyArIGlkICsgJ1wiPjxkaXYgY2xhc3M9XCJncmlkLXN0YWNrLWl0ZW0tY29udGVudFwiIGlkPVwiRUI0REY2NzFfMkMzMV9CRUQwXzZCRURfNDQ3OTA1MjVGMjhGXycgKyBpZHggKyAnXCI+PC9kaXY+PC9kaXY+JyksIHgsIHksIHdpZHRoLCBoZWlnaHQpLnByb21pc2UoKS5kb25lKCgpID0+IHtcblxuXHRcdFx0YW1pV2ViQXBwLmNyZWF0ZUNvbnRyb2wodGhpcywgdGhpcywgY29udHJvbCwgWycjRUI0REY2NzFfMkMzMV9CRUQwXzZCRURfNDQ3OTA1MjVGMjhGXycgKyBpZHhdLmNvbmNhdChKU09OLnBhcnNlKHBhcmFtcykpLCBKU09OLnBhcnNlKHNldHRpbmdzKSkuZG9uZSgoY29udHJvbCkgPT4ge1xuXG5cdFx0XHRcdGNvbnRyb2wuYXV0b1JlZnJlc2ggPSBwYXJzZUludChhdXRvUmVmcmVzaCk7XG5cblx0XHRcdFx0dGhpcy5fcmVsb2FkKHJlc3VsdCwgcm93cywgaWR4ICsgMSk7XG5cblx0XHRcdFx0dGhpcy5jb250cm9scy5wdXNoKGNvbnRyb2wpO1xuXG5cdFx0XHR9KS5mYWlsKChtZXNzYWdlKSA9PiB7XG5cblx0XHRcdFx0cmVzdWx0LnJlamVjdChtZXNzYWdlKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRyZWxvYWQ6IGZ1bmN0aW9uKClcblx0e1xuXHRcdGNvbnN0IHJlc3VsdCA9ICQuRGVmZXJyZWQoKTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0YW1pQ29tbWFuZC5leGVjdXRlKCdHZXREYXNoYm9hcmRJbmZvJykuZG9uZSgoZGF0YSkgPT4ge1xuXG5cdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHR0aGlzLmdyaWRzdGFjay5yZW1vdmVBbGwoKTtcblxuXHRcdFx0dGhpcy5jb250cm9scyA9IFtdO1xuXG5cdFx0XHR0aGlzLmxvY2sgPSB0cnVlO1xuXG5cdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHR0aGlzLl9yZWxvYWQoJC5EZWZlcnJlZCgpLCBhbWlXZWJBcHAuanNwYXRoKCcuLnJvdycsIGRhdGEpLCAwKS5kb25lKCgpID0+IHtcblxuXHRcdFx0XHR0aGlzLnJlZnJlc2goKTtcblxuXHRcdFx0XHR0aGlzLmxvY2sgPSBmYWxzZTtcblxuXHRcdFx0XHRyZXN1bHQucmVzb2x2ZSgvKi0tLS0qLyk7XG5cblx0XHRcdH0pLmZhaWwoKG1lc3NhZ2UpID0+IHtcblxuXHRcdFx0XHR0aGlzLnJlZnJlc2goKTtcblxuXHRcdFx0XHR0aGlzLmxvY2sgPSBmYWxzZTtcblxuXHRcdFx0XHRyZXN1bHQucmVqZWN0KG1lc3NhZ2UpO1xuXHRcdFx0fSk7XG5cblx0XHR9KS5mYWlsKChkYXRhLCBtZXNzYWdlKSA9PiB7XG5cblx0XHRcdHJlc3VsdC5yZWplY3QobWVzc2FnZSk7XG5cdFx0fSk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdHJlZnJlc2g6IGZ1bmN0aW9uKClcblx0e1xuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0dGhpcy5jb250cm9scy5mb3JFYWNoKChjb250cm9sKSA9PiB7XG5cblx0XHRcdGlmKGNvbnRyb2wuYXV0b1JlZnJlc2ggIT09IDAgJiYgY29udHJvbC5yZWZyZXNoKVxuXHRcdFx0e1xuXHRcdFx0XHRjb250cm9sLnJlZnJlc2goKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0cmV0dXJuICQuRGVmZXJyZWQoKS5yZXNvbHZlKCk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0X3NlcmlhbGl6ZTogZnVuY3Rpb24oaXRlbSlcblx0e1xuXHRcdGFtaVdlYkFwcC5sb2NrKCk7XG5cblx0XHRhbWlDb21tYW5kLmV4ZWN1dGUoJ1NldFdpZGdldFByb3BlcnRpZXMgLWlkPVwiJyArIGFtaVdlYkFwcC50ZXh0VG9TdHJpbmcoaXRlbS5pZCkgKyAnXCIgLXg9XCInICsgaXRlbS54ICsgJ1wiIC15PVwiJyArIGl0ZW0ueSArICdcIiAtd2lkdGg9XCInICsgaXRlbS53aWR0aCArICdcIiAtaGVpZ2h0PVwiJyArIGl0ZW0uaGVpZ2h0ICsgJ1wiJykuZG9uZSgoKSA9PiB7XG5cblx0XHRcdGFtaVdlYkFwcC51bmxvY2soKTtcblxuXHRcdH0pLmZhaWwoKGRhdGEsIG1lc3NhZ2UpID0+IHtcblxuXHRcdFx0YW1pV2ViQXBwLmVycm9yKG1lc3NhZ2UpO1xuXHRcdH0pO1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbn0pO1xuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuLyogR0xPQkFMIElOU1RBTkNFICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbnZhciB1c2VyRGFzaGJvYXJkQXBwID0gbmV3IFVzZXJEYXNoYm9hcmRBcHAoKTtcblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbiJdfQ==
