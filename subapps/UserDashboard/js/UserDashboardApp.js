/*!
 * AMI Web Framework
 *
 * Copyright (c) 2014-XXXX The AMI Team / LPSC / CNRS
 *
 * This file must be used under the terms of the CeCILL-C:
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-fr.html
 *
 */$AMIClass("UserDashboardApp",{$extends:ami.SubApp,onReady:function onReady(){var _this=this;var result=$.Deferred();amiWebApp.loadResources(["subapps/UserDashboard/css/UserDashboardApp.css","subapps/UserDashboard/twig/UserDashboardApp.twig","subapps/UserDashboard/js/jquery-ui.min.js",amiWebApp.originURL+"/subapps/UserDashboard/js/gridstack.min.css",amiWebApp.originURL+"/subapps/UserDashboard/js/gridstack.all.js"]).done(function(data){amiWebApp.replaceHTML("#ami_main_content",data[1]).done(function(){var el=$("#F251696F_D42E_F7FF_86F7_2E6B4F2E8F74");var settings={float:true,cellHeight:36,verticalMargin:12,width:12};_this.gridstack=el.gridstack(settings).data("gridstack");el.on("change",function(e,items){if(items&&!_this.lock){items.forEach(function(item){_this.updateWidget(item)})}});_this.lock=false;result.resolve()})}).fail(function(data){result.reject(data)});return result},onLogin:function onLogin(){var _this2=this;$("#ami_user_menu_content").html("<div class=\"dropdown-divider\"></div>"+"<a class=\"dropdown-item\" href=\"javascript:userDashboardApp.reload2();\">Reload Dashboard</a>"+"<a class=\"dropdown-item\" href=\"javascript:userDashboardApp.refresh2();\">Refresh Dashboard</a>"+"<a class=\"dropdown-item\" href=\""+amiWebApp.webAppURL+"?subapp=dashboardAdmin\" target=\"_blank\">Edit Dashboard</a>");return this.reload().done(function(){_this2.interval=setInterval(function(){_this2.refresh()},10000)})},onLogout:function onLogout(){$("#F251696F_D42E_F7FF_86F7_2E6B4F2E8F74").empty();clearInterval(this.interval);this.controls=[]},_reload:function _reload(result,rows,idx){var _this3=this;if(idx===rows.length){return result.resolve()}var row=rows[idx];var id=amiWebApp.jspath("..field{.@name===\"id\"}.$",row)[0]||"";var control=amiWebApp.jspath("..field{.@name===\"control\"}.$",row)[0]||"";var params=amiWebApp.jspath("..field{.@name===\"params\"}.$",row)[0]||"[]";var settings=amiWebApp.jspath("..field{.@name===\"settings\"}.$",row)[0]||"{}";var transparent=amiWebApp.jspath("..field{.@name===\"transparent\"}.$",row)[0]||"0";var autoRefresh=amiWebApp.jspath("..field{.@name===\"autoRefresh\"}.$",row)[0]||"1";var x=amiWebApp.jspath("..field{.@name===\"x\"}.$",row)[0]||"0";var y=amiWebApp.jspath("..field{.@name===\"y\"}.$",row)[0]||"0";var width=amiWebApp.jspath("..field{.@name===\"width\"}.$",row)[0]||"0";var height=amiWebApp.jspath("..field{.@name===\"height\"}.$",row)[0]||"0";var item_content_clazz=parseInt(transparent)?"grid-stack-item-content grid-stack-item-transparent-content":"grid-stack-item-content grid-stack-item-translucent-content";this.gridstack.addWidget($("<div data-gs-id=\""+id+"\">"+"  <div class=\""+item_content_clazz+"\" id=\"EB4DF671_2C31_BED0_6BED_44790525F28F_"+idx+"\"></div>"+"  <div class=\"grid-stack-item-close-handle\" id=\"D08B4F35_49D8_4844_D9D2_FB951948AF17_"+idx+"\"></div>"+"</div>"),x,y,width,height).promise().done(function(){$("#D08B4F35_49D8_4844_D9D2_FB951948AF17_"+idx).click(function(e){var el=$(e.currentTarget).parent();_this3.removeWidget(el.data("_gridstack_node")).done(function(){el.remove()})});try{amiWebApp.createControl(_this3,_this3,control,["#EB4DF671_2C31_BED0_6BED_44790525F28F_"+idx].concat(JSON.parse(params),JSON.parse(settings))).done(function(control){control.autoRefresh=parseInt(autoRefresh);_this3.controls.push(control);_this3._reload(result,rows,idx+1)}).fail(function(message){amiWebApp.error("For widget `"+id+"`: "+message);_this3._reload(result,rows,idx+1)})}catch(e){amiWebApp.error("For widget `"+id+"`: "+e.message);_this3._reload(result,rows,idx+1)}});return result},reload:function reload(){var _this4=this;var result=$.Deferred();amiCommand.execute("GetDashboardInfo").done(function(data){_this4.gridstack.removeAll();_this4.controls=[];_this4.lock=true;_this4._reload($.Deferred(),amiWebApp.jspath("..row",data),0).done(function(){_this4.refresh().done(function(){_this4.lock=false;result.resolve()})})}).fail(function(data,message){result.reject(message)});return result},reload2:function reload2(){amiWebApp.lock();this.reload().done(function(){amiWebApp.unlock()}).fail(function(message){amiWebApp.error(message)})},refresh:function refresh(){this.controls.forEach(function(control){if(control.autoRefresh!==0&&control.refresh){control.refresh()}});return $.Deferred().resolve()},refresh2:function refresh2(){amiWebApp.lock();this.refresh().done(function(){amiWebApp.unlock()}).fail(function(message){amiWebApp.error(message)})},updateWidget:function updateWidget(item){amiWebApp.lock();return amiCommand.execute("UpdateWidget -id=\""+amiWebApp.textToString(item.id)+"\" -x=\""+item.x+"\" -y=\""+item.y+"\" -width=\""+item.width+"\" -height=\""+item.height+"\"").done(function(){amiWebApp.unlock()}).fail(function(data,message){amiWebApp.error(message)})},removeWidget:function removeWidget(item){amiWebApp.lock();return amiCommand.execute("RemoveWidget -id=\""+amiWebApp.textToString(item.id)+"\"").done(function(){amiWebApp.unlock()}).fail(function(data,message){amiWebApp.error(message)})}});var userDashboardApp=new UserDashboardApp;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXJEYXNoYm9hcmRBcHAuZXM2LmpzIl0sIm5hbWVzIjpbIiRBTUlDbGFzcyIsIiRleHRlbmRzIiwiYW1pIiwiU3ViQXBwIiwib25SZWFkeSIsInJlc3VsdCIsIiQiLCJEZWZlcnJlZCIsImFtaVdlYkFwcCIsImxvYWRSZXNvdXJjZXMiLCJvcmlnaW5VUkwiLCJkb25lIiwiZGF0YSIsInJlcGxhY2VIVE1MIiwiZWwiLCJzZXR0aW5ncyIsImZsb2F0IiwiY2VsbEhlaWdodCIsInZlcnRpY2FsTWFyZ2luIiwid2lkdGgiLCJncmlkc3RhY2siLCJvbiIsImUiLCJpdGVtcyIsImxvY2siLCJmb3JFYWNoIiwiaXRlbSIsInVwZGF0ZVdpZGdldCIsInJlc29sdmUiLCJmYWlsIiwicmVqZWN0Iiwib25Mb2dpbiIsImh0bWwiLCJ3ZWJBcHBVUkwiLCJyZWxvYWQiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwicmVmcmVzaCIsIm9uTG9nb3V0IiwiZW1wdHkiLCJjbGVhckludGVydmFsIiwiY29udHJvbHMiLCJfcmVsb2FkIiwicm93cyIsImlkeCIsImxlbmd0aCIsInJvdyIsImlkIiwianNwYXRoIiwiY29udHJvbCIsInBhcmFtcyIsInRyYW5zcGFyZW50IiwiYXV0b1JlZnJlc2giLCJ4IiwieSIsImhlaWdodCIsIml0ZW1fY29udGVudF9jbGF6eiIsInBhcnNlSW50IiwiYWRkV2lkZ2V0IiwicHJvbWlzZSIsImNsaWNrIiwiY3VycmVudFRhcmdldCIsInBhcmVudCIsInJlbW92ZVdpZGdldCIsInJlbW92ZSIsImNyZWF0ZUNvbnRyb2wiLCJjb25jYXQiLCJKU09OIiwicGFyc2UiLCJwdXNoIiwibWVzc2FnZSIsImVycm9yIiwiYW1pQ29tbWFuZCIsImV4ZWN1dGUiLCJyZW1vdmVBbGwiLCJyZWxvYWQyIiwidW5sb2NrIiwicmVmcmVzaDIiLCJ0ZXh0VG9TdHJpbmciLCJ1c2VyRGFzaGJvYXJkQXBwIiwiVXNlckRhc2hib2FyZEFwcCJdLCJtYXBwaW5ncyI6IkFB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QUlTLENBQUFBLGdCQUFnQixDQUFHLEdBQUlDLENBQUFBLGdCQUEzQiIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQU1JIFdlYiBGcmFtZXdvcmtcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtWFhYWCBUaGUgQU1JIFRlYW0gLyBMUFNDIC8gQ05SU1xuICpcbiAqIFRoaXMgZmlsZSBtdXN0IGJlIHVzZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBDZUNJTEwtQzpcbiAqIGh0dHA6Ly93d3cuY2VjaWxsLmluZm8vbGljZW5jZXMvTGljZW5jZV9DZUNJTEwtQ19WMS1lbi5odG1sXG4gKiBodHRwOi8vd3d3LmNlY2lsbC5pbmZvL2xpY2VuY2VzL0xpY2VuY2VfQ2VDSUxMLUNfVjEtZnIuaHRtbFxuICpcbiAqL1xuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuJEFNSUNsYXNzKCdVc2VyRGFzaGJvYXJkQXBwJywge1xuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdCRleHRlbmRzOiBhbWkuU3ViQXBwLFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0b25SZWFkeTogZnVuY3Rpb24oKVxuXHR7XG5cdFx0Y29uc3QgcmVzdWx0ID0gJC5EZWZlcnJlZCgpO1xuXG5cdFx0YW1pV2ViQXBwLmxvYWRSZXNvdXJjZXMoW1xuXHRcdFx0J3N1YmFwcHMvVXNlckRhc2hib2FyZC9jc3MvVXNlckRhc2hib2FyZEFwcC5jc3MnLFxuXHRcdFx0J3N1YmFwcHMvVXNlckRhc2hib2FyZC90d2lnL1VzZXJEYXNoYm9hcmRBcHAudHdpZycsXG5cdFx0XHQvKiovXG5cdFx0XHQnc3ViYXBwcy9Vc2VyRGFzaGJvYXJkL2pzL2pxdWVyeS11aS5taW4uanMnLFxuXHRcdFx0LyoqL1xuXHRcdFx0YW1pV2ViQXBwLm9yaWdpblVSTCArICcvc3ViYXBwcy9Vc2VyRGFzaGJvYXJkL2pzL2dyaWRzdGFjay5taW4uY3NzJyxcblx0XHRcdGFtaVdlYkFwcC5vcmlnaW5VUkwgKyAnL3N1YmFwcHMvVXNlckRhc2hib2FyZC9qcy9ncmlkc3RhY2suYWxsLmpzJyxcblx0XHRdKS5kb25lKChkYXRhKSA9PiB7XG5cblx0XHRcdGFtaVdlYkFwcC5yZXBsYWNlSFRNTCgnI2FtaV9tYWluX2NvbnRlbnQnLCBkYXRhWzFdKS5kb25lKCgpID0+IHtcblxuXHRcdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRcdGNvbnN0IGVsID0gJCgnI0YyNTE2OTZGX0Q0MkVfRjdGRl84NkY3XzJFNkI0RjJFOEY3NCcpO1xuXG5cdFx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRcdFx0Y29uc3Qgc2V0dGluZ3MgPSB7XG5cdFx0XHRcdFx0ZmxvYXQ6IHRydWUsXG5cdFx0XHRcdFx0Y2VsbEhlaWdodDogMzYsXG5cdFx0XHRcdFx0dmVydGljYWxNYXJnaW46IDEyLFxuXHRcdFx0XHRcdHdpZHRoOiAxMixcblx0XHRcdFx0fTtcblxuXHRcdFx0XHR0aGlzLmdyaWRzdGFjayA9IGVsLmdyaWRzdGFjayhzZXR0aW5ncykuZGF0YSgnZ3JpZHN0YWNrJyk7XG5cblx0XHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0XHRlbC5vbignY2hhbmdlJywgKGUsIGl0ZW1zKSA9PiB7XG5cblx0XHRcdFx0XHRpZihpdGVtcyAmJiAhdGhpcy5sb2NrKVxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcblxuXHRcdFx0XHRcdFx0XHR0aGlzLnVwZGF0ZVdpZGdldChpdGVtKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0XHR0aGlzLmxvY2sgPSBmYWxzZTtcblxuXHRcdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRcdHJlc3VsdC5yZXNvbHZlKCk7XG5cdFx0XHR9KTtcblxuXHRcdH0pLmZhaWwoKGRhdGEpID0+IHtcblxuXHRcdFx0cmVzdWx0LnJlamVjdChkYXRhKTtcblx0XHR9KTtcblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRvbkxvZ2luOiBmdW5jdGlvbigpXG5cdHtcblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHQkKCcjYW1pX3VzZXJfbWVudV9jb250ZW50JykuaHRtbChcblx0XHRcdCc8ZGl2IGNsYXNzPVwiZHJvcGRvd24tZGl2aWRlclwiPjwvZGl2Pidcblx0XHRcdCtcblx0XHRcdCc8YSBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIiBocmVmPVwiamF2YXNjcmlwdDp1c2VyRGFzaGJvYXJkQXBwLnJlbG9hZDIoKTtcIj5SZWxvYWQgRGFzaGJvYXJkPC9hPidcblx0XHRcdCtcblx0XHRcdCc8YSBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIiBocmVmPVwiamF2YXNjcmlwdDp1c2VyRGFzaGJvYXJkQXBwLnJlZnJlc2gyKCk7XCI+UmVmcmVzaCBEYXNoYm9hcmQ8L2E+J1xuXHRcdFx0K1xuXHRcdFx0JzxhIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiIGhyZWY9XCInICsgYW1pV2ViQXBwLndlYkFwcFVSTCArICc/c3ViYXBwPWRhc2hib2FyZEFkbWluXCIgdGFyZ2V0PVwiX2JsYW5rXCI+RWRpdCBEYXNoYm9hcmQ8L2E+J1xuXHRcdCk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRyZXR1cm4gdGhpcy5yZWxvYWQoKS5kb25lKCgpID0+IHtcblxuXHRcdFx0dGhpcy5pbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcblxuXHRcdFx0XHR0aGlzLnJlZnJlc2goKTtcblxuXHRcdFx0fSwgMTAwMDApO1xuXHRcdH0pO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0b25Mb2dvdXQ6IGZ1bmN0aW9uKClcblx0e1xuXHRcdCQoJyNGMjUxNjk2Rl9ENDJFX0Y3RkZfODZGN18yRTZCNEYyRThGNzQnKS5lbXB0eSgpO1xuXG5cdFx0Y2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKTtcblxuXHRcdHRoaXMuY29udHJvbHMgPSBbXTtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdF9yZWxvYWQ6IGZ1bmN0aW9uKHJlc3VsdCwgcm93cywgaWR4KVxuXHR7XG5cdFx0aWYoaWR4ID09PSByb3dzLmxlbmd0aClcblx0XHR7XG5cdFx0XHRyZXR1cm4gcmVzdWx0LnJlc29sdmUoKTtcblx0XHR9XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRjb25zdCByb3cgPSByb3dzW2lkeF07XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRjb25zdCBpZCA9IGFtaVdlYkFwcC5qc3BhdGgoJy4uZmllbGR7LkBuYW1lPT09XCJpZFwifS4kJywgcm93KVswXSB8fCAnJztcblx0XHRjb25zdCBjb250cm9sID0gYW1pV2ViQXBwLmpzcGF0aCgnLi5maWVsZHsuQG5hbWU9PT1cImNvbnRyb2xcIn0uJCcsIHJvdylbMF0gfHwgJyc7XG5cdFx0Y29uc3QgcGFyYW1zID0gYW1pV2ViQXBwLmpzcGF0aCgnLi5maWVsZHsuQG5hbWU9PT1cInBhcmFtc1wifS4kJywgcm93KVswXSB8fCAnW10nO1xuXHRcdGNvbnN0IHNldHRpbmdzID0gYW1pV2ViQXBwLmpzcGF0aCgnLi5maWVsZHsuQG5hbWU9PT1cInNldHRpbmdzXCJ9LiQnLCByb3cpWzBdIHx8ICd7fSc7XG5cdFx0Y29uc3QgdHJhbnNwYXJlbnQgPSBhbWlXZWJBcHAuanNwYXRoKCcuLmZpZWxkey5AbmFtZT09PVwidHJhbnNwYXJlbnRcIn0uJCcsIHJvdylbMF0gfHwgJzAnO1xuXHRcdGNvbnN0IGF1dG9SZWZyZXNoID0gYW1pV2ViQXBwLmpzcGF0aCgnLi5maWVsZHsuQG5hbWU9PT1cImF1dG9SZWZyZXNoXCJ9LiQnLCByb3cpWzBdIHx8ICcxJztcblx0XHRjb25zdCB4ID0gYW1pV2ViQXBwLmpzcGF0aCgnLi5maWVsZHsuQG5hbWU9PT1cInhcIn0uJCcsIHJvdylbMF0gfHwgJzAnO1xuXHRcdGNvbnN0IHkgPSBhbWlXZWJBcHAuanNwYXRoKCcuLmZpZWxkey5AbmFtZT09PVwieVwifS4kJywgcm93KVswXSB8fCAnMCc7XG5cdFx0Y29uc3Qgd2lkdGggPSBhbWlXZWJBcHAuanNwYXRoKCcuLmZpZWxkey5AbmFtZT09PVwid2lkdGhcIn0uJCcsIHJvdylbMF0gfHwgJzAnO1xuXHRcdGNvbnN0IGhlaWdodCA9IGFtaVdlYkFwcC5qc3BhdGgoJy4uZmllbGR7LkBuYW1lPT09XCJoZWlnaHRcIn0uJCcsIHJvdylbMF0gfHwgJzAnO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0Y29uc3QgaXRlbV9jb250ZW50X2NsYXp6ID0gcGFyc2VJbnQodHJhbnNwYXJlbnQpID8gJ2dyaWQtc3RhY2staXRlbS1jb250ZW50IGdyaWQtc3RhY2staXRlbS10cmFuc3BhcmVudC1jb250ZW50J1xuXHRcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdncmlkLXN0YWNrLWl0ZW0tY29udGVudCBncmlkLXN0YWNrLWl0ZW0tdHJhbnNsdWNlbnQtY29udGVudCdcblx0XHQ7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHR0aGlzLmdyaWRzdGFjay5hZGRXaWRnZXQoJChcblx0XHRcdCc8ZGl2IGRhdGEtZ3MtaWQ9XCInICsgaWQgKyAnXCI+JyArXG5cdFx0XHQnICA8ZGl2IGNsYXNzPVwiJyArICBpdGVtX2NvbnRlbnRfY2xhenogICsgJ1wiIGlkPVwiRUI0REY2NzFfMkMzMV9CRUQwXzZCRURfNDQ3OTA1MjVGMjhGXycgKyBpZHggKyAnXCI+PC9kaXY+JyArXG5cdFx0XHQnICA8ZGl2IGNsYXNzPVwiZ3JpZC1zdGFjay1pdGVtLWNsb3NlLWhhbmRsZVwiIGlkPVwiRDA4QjRGMzVfNDlEOF80ODQ0X0Q5RDJfRkI5NTE5NDhBRjE3XycgKyBpZHggKyAnXCI+PC9kaXY+JyArXG5cdFx0XHQnPC9kaXY+J1xuXHRcdCksIHgsIHksIHdpZHRoLCBoZWlnaHQpLnByb21pc2UoKS5kb25lKCgpID0+IHtcblxuXHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRcdCQoJyNEMDhCNEYzNV80OUQ4XzQ4NDRfRDlEMl9GQjk1MTk0OEFGMTdfJyArIGlkeCkuY2xpY2soKGUpID0+IHtcblxuXHRcdFx0XHRjb25zdCBlbCA9ICQoZS5jdXJyZW50VGFyZ2V0KS5wYXJlbnQoKTtcblxuXHRcdFx0XHR0aGlzLnJlbW92ZVdpZGdldChlbC5kYXRhKCdfZ3JpZHN0YWNrX25vZGUnKSkuZG9uZSgoKSA9PiB7XG5cblx0XHRcdFx0XHRlbC5yZW1vdmUoKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblxuXHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRcdHRyeVxuXHRcdFx0e1xuXHRcdFx0XHRhbWlXZWJBcHAuY3JlYXRlQ29udHJvbCh0aGlzLCB0aGlzLCBjb250cm9sLCBbJyNFQjRERjY3MV8yQzMxX0JFRDBfNkJFRF80NDc5MDUyNUYyOEZfJyArIGlkeF0uY29uY2F0KEpTT04ucGFyc2UocGFyYW1zKSwgSlNPTi5wYXJzZShzZXR0aW5ncykpKS5kb25lKChjb250cm9sKSA9PiB7XG5cblx0XHRcdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRcdFx0XHRjb250cm9sLmF1dG9SZWZyZXNoID0gcGFyc2VJbnQoYXV0b1JlZnJlc2gpO1xuXG5cdFx0XHRcdFx0dGhpcy5jb250cm9scy5wdXNoKGNvbnRyb2wpO1xuXG5cdFx0XHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRcdFx0dGhpcy5fcmVsb2FkKHJlc3VsdCwgcm93cywgaWR4ICsgMSk7XG5cblx0XHRcdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRcdFx0fSkuZmFpbCgobWVzc2FnZSkgPT4ge1xuXG5cdFx0XHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRcdFx0YW1pV2ViQXBwLmVycm9yKCdGb3Igd2lkZ2V0IGAnICsgaWQgKyAnYDogJyArIG1lc3NhZ2UpO1xuXG5cdFx0XHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRcdFx0dGhpcy5fcmVsb2FkKHJlc3VsdCwgcm93cywgaWR4ICsgMSk7XG5cblx0XHRcdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdFx0Y2F0Y2goZSlcblx0XHRcdHtcblx0XHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0XHRhbWlXZWJBcHAuZXJyb3IoJ0ZvciB3aWRnZXQgYCcgKyBpZCArICdgOiAnICsgZS5tZXNzYWdlKTtcblxuXHRcdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRcdHRoaXMuX3JlbG9hZChyZXN1bHQsIHJvd3MsIGlkeCArIDEpO1xuXG5cdFx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdFx0XHR9XG5cblx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHRcdH0pO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdHJlbG9hZDogZnVuY3Rpb24oKVxuXHR7XG5cdFx0Y29uc3QgcmVzdWx0ID0gJC5EZWZlcnJlZCgpO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0YW1pQ29tbWFuZC5leGVjdXRlKCdHZXREYXNoYm9hcmRJbmZvJykuZG9uZSgoZGF0YSkgPT4ge1xuXG5cdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0dGhpcy5ncmlkc3RhY2sucmVtb3ZlQWxsKCk7XG5cblx0XHRcdHRoaXMuY29udHJvbHMgPSBbXTtcblxuXHRcdFx0dGhpcy5sb2NrID0gdHJ1ZTtcblxuXHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRcdHRoaXMuX3JlbG9hZCgkLkRlZmVycmVkKCksIGFtaVdlYkFwcC5qc3BhdGgoJy4ucm93JywgZGF0YSksIDApLmRvbmUoKCkgPT4ge1xuXG5cdFx0XHRcdHRoaXMucmVmcmVzaCgpLmRvbmUoKCkgPT4ge1xuXG5cdFx0XHRcdFx0dGhpcy5sb2NrID0gZmFsc2U7XG5cblx0XHRcdFx0XHRyZXN1bHQucmVzb2x2ZSgpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdH0pLmZhaWwoKGRhdGEsIG1lc3NhZ2UpID0+IHtcblxuXHRcdFx0cmVzdWx0LnJlamVjdChtZXNzYWdlKTtcblx0XHR9KTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRyZWxvYWQyOiBmdW5jdGlvbigpXG5cdHtcblx0XHRhbWlXZWJBcHAubG9jaygpO1xuXG5cdFx0dGhpcy5yZWxvYWQoKS5kb25lKCgpID0+IHtcblxuXHRcdFx0YW1pV2ViQXBwLnVubG9jaygvKi0tLSovKTtcblxuXHRcdH0pLmZhaWwoKG1lc3NhZ2UpID0+IHtcblxuXHRcdFx0YW1pV2ViQXBwLmVycm9yKG1lc3NhZ2UpO1xuXHRcdH0pO1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0cmVmcmVzaDogZnVuY3Rpb24oKVxuXHR7XG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0dGhpcy5jb250cm9scy5mb3JFYWNoKChjb250cm9sKSA9PiB7XG5cblx0XHRcdGlmKGNvbnRyb2wuYXV0b1JlZnJlc2ggIT09IDAgJiYgY29udHJvbC5yZWZyZXNoKVxuXHRcdFx0e1xuXHRcdFx0XHRjb250cm9sLnJlZnJlc2goKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdHJldHVybiAkLkRlZmVycmVkKCkucmVzb2x2ZSgpO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0cmVmcmVzaDI6IGZ1bmN0aW9uKClcblx0e1xuXHRcdGFtaVdlYkFwcC5sb2NrKCk7XG5cblx0XHR0aGlzLnJlZnJlc2goKS5kb25lKCgpID0+IHtcblxuXHRcdFx0YW1pV2ViQXBwLnVubG9jaygvKi0tLSovKTtcblxuXHRcdH0pLmZhaWwoKG1lc3NhZ2UpID0+IHtcblxuXHRcdFx0YW1pV2ViQXBwLmVycm9yKG1lc3NhZ2UpO1xuXHRcdH0pO1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0dXBkYXRlV2lkZ2V0OiBmdW5jdGlvbihpdGVtKVxuXHR7XG5cdFx0YW1pV2ViQXBwLmxvY2soKTtcblxuXHRcdHJldHVybiBhbWlDb21tYW5kLmV4ZWN1dGUoJ1VwZGF0ZVdpZGdldCAtaWQ9XCInICsgYW1pV2ViQXBwLnRleHRUb1N0cmluZyhpdGVtLmlkKSArICdcIiAteD1cIicgKyBpdGVtLnggKyAnXCIgLXk9XCInICsgaXRlbS55ICsgJ1wiIC13aWR0aD1cIicgKyBpdGVtLndpZHRoICsgJ1wiIC1oZWlnaHQ9XCInICsgaXRlbS5oZWlnaHQgKyAnXCInKS5kb25lKCgpID0+IHtcblxuXHRcdFx0YW1pV2ViQXBwLnVubG9jaygpO1xuXG5cdFx0fSkuZmFpbCgoZGF0YSwgbWVzc2FnZSkgPT4ge1xuXG5cdFx0XHRhbWlXZWJBcHAuZXJyb3IobWVzc2FnZSk7XG5cdFx0fSk7XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRyZW1vdmVXaWRnZXQ6IGZ1bmN0aW9uKGl0ZW0pXG5cdHtcblx0XHRhbWlXZWJBcHAubG9jaygpO1xuXG5cdFx0cmV0dXJuIGFtaUNvbW1hbmQuZXhlY3V0ZSgnUmVtb3ZlV2lkZ2V0IC1pZD1cIicgKyBhbWlXZWJBcHAudGV4dFRvU3RyaW5nKGl0ZW0uaWQpICsgJ1wiJykuZG9uZSgoKSA9PiB7XG5cblx0XHRcdGFtaVdlYkFwcC51bmxvY2soKTtcblxuXHRcdH0pLmZhaWwoKGRhdGEsIG1lc3NhZ2UpID0+IHtcblxuXHRcdFx0YW1pV2ViQXBwLmVycm9yKG1lc3NhZ2UpO1xuXHRcdH0pO1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG59KTtcblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4vKiBHTE9CQUwgSU5TVEFOQ0UgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG52YXIgdXNlckRhc2hib2FyZEFwcCA9IG5ldyBVc2VyRGFzaGJvYXJkQXBwKCk7XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuIl19
