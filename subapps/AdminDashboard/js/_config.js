/*!
 * AMI Twig Engine
 *
 * Copyright (c) 2014-2019 The AMI Team / LPSC / IN2P3
 *
 * This file must be used under the terms of the CeCILL-C:
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-fr.html
 *
 */$AMIClass("AdminDashboardConfig",{_init:function _init(){var result=$.Deferred();amiWebApp.loadResources(["subapps/AdminDashboard/twig/config/config.twig","subapps/AdminDashboard/twig/config/extra_menu.twig","subapps/AdminDashboard/twig/config/parameter.twig"]).done(function(data){var _this=this;amiWebApp.replaceHTML("#CB6036B7_5971_41C2_1194_F5A051B21EA0",data[0]).done(function(){amiWebApp.replaceHTML("#C54485C3_44F8_CE8E_0F54_BF847CEECE11",data[1]).done(function(){_this.fragmentParameter=data[2];_this.paramDict={};_this.paramDel=[];result.resolve()})})}).fail(function(message){result.reject(message)});return result},onLogin:function onLogin(){if($.isEmptyObject(this.paramDict)){return this._load()}},_load:function _load(){var _this2=this;amiWebApp.lock();return amiCommand.execute("GetConfig").done(function(data){var path_fields=amiWebApp.jspath("..rowset{.@type===\"paths\"}.row.field",data);var config_fields=amiWebApp.jspath("..rowset{.@type===\"params\"}.row.field",data);$("#DF9704CF_51FF_F570_F587_27FB5625A936").text(amiWebApp.jspath(".{.@name===\"configFileName\"}.$[0]",path_fields));$("#B5C738DB_B705_5E37_24CD_B265532D0853").empty();_this2.paramDict={};_this2.paramDel=[];var dict=[];config_fields.forEach(function(config_field){var name=config_field["@name"]||"";var value=config_field["$"]||"";if(name==="task_server_name"||name==="task_server_pass"||name==="task_server_url"||name==="task_server_user"){return}_this2.paramDict[name]=value;var el=$("#D17C089F_FB5D_B2A5_7C9F_65AA0736084F [name = \""+name+"\"]");if(el.length===0){dict.push({NAME:name,VALUE:value})}else{el.val(value)}});amiWebApp.replaceHTML("#B5C738DB_B705_5E37_24CD_B265532D0853",_this2.fragmentParameter,{dict:dict}).done(function(){amiWebApp.unlock()})}).fail(function(data,message){amiWebApp.error(message,true)})},_save:function _save(){amiWebApp.lock();var name;var names=[];var value;var values=[];var params=$("#D17C089F_FB5D_B2A5_7C9F_65AA0736084F").serializeArray();for(var i in params){name=params[i].name;value=params[i].value;if(this.paramDict[name]!==value){if(name.indexOf("|")>=0){amiWebApp.error("character `|` not allow in parameter names ("+name+":"+value+")",true);return}if(value.indexOf("|")>=0){amiWebApp.error("character `|` not allow in parameter values ("+name+":"+value+")",true);return}this.paramDict[name]=value;names.push(amiWebApp.textToString(name));values.push(amiWebApp.textToString(value))}}for(var j in this.paramDel){name=this.paramDel[j];value="@NULL";names.push(amiWebApp.textToString(name));values.push(amiWebApp.textToString(value))}return amiCommand.execute("UpdateConfig -separator=\"|\" -names=\""+names.join("|")+"\" -values=\""+values.join("|")+"\"").done(function(data,message){amiWebApp.success(message,true)}).fail(function(data,message){amiWebApp.error(message,true)})},apply:function apply(){if(!confirm("Please confirm...")){return}this._save()},reset:function reset(){if(!confirm("Please confirm...")){return}this._load()},testEmail:function testEmail(email){amiWebApp.lock();amiCommand.execute("SendEmail -from=\""+amiWebApp.textToString(this.paramDict["admin_email"])+"\" -to=\""+amiWebApp.textToString(email)+"\" -subject=\"Test\" -message=\"This is a test.\"").done(function(data,message){amiWebApp.success(message,true)}).fail(function(data,message){amiWebApp.error(message,true)})},addParameter:function addParameter(){var name=prompt("Parameter name:")||"";name=name.trim();if(name){if($("#B5C738DB_B705_5E37_24CD_B265532D0853_"+name).length===0){var dict={NAME:name,VALUE:""};amiWebApp.prependHTML("#B5C738DB_B705_5E37_24CD_B265532D0853",this.fragmentParameter,{dict:dict})}else{amiWebApp.error("duplicated parameter name",true)}}else{amiWebApp.error("empty parameter name",true)}},delParameter:function delParameter(name){if(!confirm("Please confirm...")){return}this.paramDel.push(name);if(name in this.paramDict){delete this.paramDict[name]}$("#B5C738DB_B705_5E37_24CD_B265532D0853_"+name).parent().parent().remove()},togglePasswordVisibility:function togglePasswordVisibility(el){var input=$("#"+el.parent().attr("for"));if(input.attr("type")==="text"){el.html("<i class=\"fa fa-eye\"></i>");input.attr("type","password")}else if(input.attr("type")==="password"){el.html("<i class=\"fa fa-eye-slash\"></i>");input.attr("type","text")}}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9jb25maWcuZXM2LmpzIl0sIm5hbWVzIjpbIiRBTUlDbGFzcyIsIl9pbml0IiwicmVzdWx0IiwiJCIsIkRlZmVycmVkIiwiYW1pV2ViQXBwIiwibG9hZFJlc291cmNlcyIsImRvbmUiLCJkYXRhIiwicmVwbGFjZUhUTUwiLCJmcmFnbWVudFBhcmFtZXRlciIsInBhcmFtRGljdCIsInBhcmFtRGVsIiwicmVzb2x2ZSIsImZhaWwiLCJtZXNzYWdlIiwicmVqZWN0Iiwib25Mb2dpbiIsImlzRW1wdHlPYmplY3QiLCJfbG9hZCIsImxvY2siLCJhbWlDb21tYW5kIiwiZXhlY3V0ZSIsInBhdGhfZmllbGRzIiwianNwYXRoIiwiY29uZmlnX2ZpZWxkcyIsInRleHQiLCJlbXB0eSIsImRpY3QiLCJmb3JFYWNoIiwiY29uZmlnX2ZpZWxkIiwibmFtZSIsInZhbHVlIiwiZWwiLCJsZW5ndGgiLCJwdXNoIiwiTkFNRSIsIlZBTFVFIiwidmFsIiwidW5sb2NrIiwiZXJyb3IiLCJfc2F2ZSIsIm5hbWVzIiwidmFsdWVzIiwicGFyYW1zIiwic2VyaWFsaXplQXJyYXkiLCJpIiwiaW5kZXhPZiIsInRleHRUb1N0cmluZyIsImoiLCJqb2luIiwic3VjY2VzcyIsImFwcGx5IiwiY29uZmlybSIsInJlc2V0IiwidGVzdEVtYWlsIiwiZW1haWwiLCJhZGRQYXJhbWV0ZXIiLCJwcm9tcHQiLCJ0cmltIiwicHJlcGVuZEhUTUwiLCJkZWxQYXJhbWV0ZXIiLCJwYXJlbnQiLCJyZW1vdmUiLCJ0b2dnbGVQYXNzd29yZFZpc2liaWxpdHkiLCJpbnB1dCIsImF0dHIiLCJodG1sIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7O0dBZUFBLFNBQVMsQ0FBQyxzQkFBRCxDQUF5QixDQUdqQ0MsS0FBSyxDQUFFLGdCQUNQLENBQ0MsR0FBTUMsQ0FBQUEsTUFBTSxDQUFHQyxDQUFDLENBQUNDLFFBQUYsRUFBZixDQUVBQyxTQUFTLENBQUNDLGFBQVYsQ0FBd0IsQ0FDdkIsZ0RBRHVCLENBRXZCLG9EQUZ1QixDQUd2QixtREFIdUIsQ0FBeEIsRUFJR0MsSUFKSCxDQUlRLFNBQVNDLElBQVQsQ0FBZSxnQkFFdEJILFNBQVMsQ0FBQ0ksV0FBVixDQUFzQix1Q0FBdEIsQ0FBK0RELElBQUksQ0FBQyxDQUFELENBQW5FLEVBQXdFRCxJQUF4RSxDQUE2RSxVQUFNLENBQ2xGRixTQUFTLENBQUNJLFdBQVYsQ0FBc0IsdUNBQXRCLENBQStERCxJQUFJLENBQUMsQ0FBRCxDQUFuRSxFQUF3RUQsSUFBeEUsQ0FBNkUsVUFBTSxDQUVsRixLQUFJLENBQUNHLGlCQUFMLENBQXlCRixJQUFJLENBQUMsQ0FBRCxDQUE3QixDQUVBLEtBQUksQ0FBQ0csU0FBTCxDQUFpQixFQUFqQixDQUVBLEtBQUksQ0FBQ0MsUUFBTCxDQUFnQixFQUFoQixDQUVBVixNQUFNLENBQUNXLE9BQVAsRUFDQSxDQVRELENBVUEsQ0FYRCxDQWFBLENBbkJELEVBbUJHQyxJQW5CSCxDQW1CUSxTQUFDQyxPQUFELENBQWEsQ0FFcEJiLE1BQU0sQ0FBQ2MsTUFBUCxDQUFjRCxPQUFkLENBQ0EsQ0F0QkQsRUF3QkEsTUFBT2IsQ0FBQUEsTUFDUCxDQWhDZ0MsQ0FvQ2pDZSxPQUFPLENBQUUsa0JBQ1QsQ0FDQyxHQUFHZCxDQUFDLENBQUNlLGFBQUYsQ0FBZ0IsS0FBS1AsU0FBckIsQ0FBSCxDQUNBLENBQ0MsTUFBTyxNQUFLUSxLQUFMLEVBQ1AsQ0FDRCxDQTFDZ0MsQ0E4Q2pDQSxLQUFLLENBQUUsZ0JBQ1AsaUJBR0NkLFNBQVMsQ0FBQ2UsSUFBVixHQUlBLE1BQU9DLENBQUFBLFVBQVUsQ0FBQ0MsT0FBWCxDQUFtQixXQUFuQixFQUFnQ2YsSUFBaEMsQ0FBcUMsU0FBQ0MsSUFBRCxDQUFVLENBRXJELEdBQU1lLENBQUFBLFdBQVcsQ0FBR2xCLFNBQVMsQ0FBQ21CLE1BQVYsQ0FBaUIsd0NBQWpCLENBQXlEaEIsSUFBekQsQ0FBcEIsQ0FFQSxHQUFNaUIsQ0FBQUEsYUFBYSxDQUFHcEIsU0FBUyxDQUFDbUIsTUFBVixDQUFpQix5Q0FBakIsQ0FBMERoQixJQUExRCxDQUF0QixDQUlBTCxDQUFDLENBQUMsdUNBQUQsQ0FBRCxDQUEyQ3VCLElBQTNDLENBQWdEckIsU0FBUyxDQUFDbUIsTUFBVixDQUFpQixxQ0FBakIsQ0FBc0RELFdBQXRELENBQWhELEVBSUFwQixDQUFDLENBQUMsdUNBQUQsQ0FBRCxDQUEyQ3dCLEtBQTNDLEdBRUEsTUFBSSxDQUFDaEIsU0FBTCxDQUFpQixFQUFqQixDQUNBLE1BQUksQ0FBQ0MsUUFBTCxDQUFnQixFQUFoQixDQUVBLEdBQU1nQixDQUFBQSxJQUFJLENBQUcsRUFBYixDQUVBSCxhQUFhLENBQUNJLE9BQWQsQ0FBc0IsU0FBQ0MsWUFBRCxDQUFrQixDQUd2QyxHQUFJQyxDQUFBQSxJQUFJLENBQUdELFlBQVksQ0FBQyxPQUFELENBQVosRUFBeUIsRUFBcEMsQ0FDQSxHQUFJRSxDQUFBQSxLQUFLLENBQUdGLFlBQVksQ0FBRyxHQUFILENBQVosRUFBeUIsRUFBckMsQ0FFQSxHQUFHQyxJQUFJLEdBQUssa0JBQVQsRUFFQUEsSUFBSSxHQUFLLGtCQUZULEVBSUFBLElBQUksR0FBSyxpQkFKVCxFQU1BQSxJQUFJLEdBQUssa0JBTlosQ0FPRyxDQUNGLE1BQ0EsQ0FJRCxNQUFJLENBQUNwQixTQUFMLENBQWVvQixJQUFmLEVBQXVCQyxLQUF2QixDQUlBLEdBQU1DLENBQUFBLEVBQUUsQ0FBRzlCLENBQUMsQ0FBQyxtREFBb0Q0QixJQUFwRCxDQUEyRCxLQUE1RCxDQUFaLENBRUEsR0FBR0UsRUFBRSxDQUFDQyxNQUFILEdBQWMsQ0FBakIsQ0FDQSxDQUNDTixJQUFJLENBQUNPLElBQUwsQ0FBVSxDQUNUQyxJQUFJLENBQUVMLElBREcsQ0FFVE0sS0FBSyxDQUFFTCxLQUZFLENBQVYsQ0FJQSxDQU5ELElBUUEsQ0FDQ0MsRUFBRSxDQUFDSyxHQUFILENBQU9OLEtBQVAsQ0FDQSxDQUdELENBdENELEVBd0NBM0IsU0FBUyxDQUFDSSxXQUFWLENBQXNCLHVDQUF0QixDQUErRCxNQUFJLENBQUNDLGlCQUFwRSxDQUF1RixDQUFDa0IsSUFBSSxDQUFFQSxJQUFQLENBQXZGLEVBQXFHckIsSUFBckcsQ0FBMEcsVUFBTSxDQUUvR0YsU0FBUyxDQUFDa0MsTUFBVixFQUNBLENBSEQsQ0FPQSxDQWxFTSxFQWtFSnpCLElBbEVJLENBa0VDLFNBQUNOLElBQUQsQ0FBT08sT0FBUCxDQUFtQixDQUUxQlYsU0FBUyxDQUFDbUMsS0FBVixDQUFnQnpCLE9BQWhCLENBQXlCLElBQXpCLENBQ0EsQ0FyRU0sQ0F3RVAsQ0E5SGdDLENBa0lqQzBCLEtBQUssQ0FBRSxnQkFDUCxDQUdDcEMsU0FBUyxDQUFDZSxJQUFWLEdBSUEsR0FBSVcsQ0FBQUEsSUFBSixDQUNBLEdBQU1XLENBQUFBLEtBQUssQ0FBRyxFQUFkLENBRUEsR0FBSVYsQ0FBQUEsS0FBSixDQUNBLEdBQU1XLENBQUFBLE1BQU0sQ0FBRyxFQUFmLENBRUEsR0FBTUMsQ0FBQUEsTUFBTSxDQUFHekMsQ0FBQyxDQUFDLHVDQUFELENBQUQsQ0FBMkMwQyxjQUEzQyxFQUFmLENBRUEsSUFBSSxHQUFNQyxDQUFBQSxDQUFWLEdBQWVGLENBQUFBLE1BQWYsQ0FDQSxDQUNDYixJQUFJLENBQUdhLE1BQU0sQ0FBQ0UsQ0FBRCxDQUFOLENBQVVmLElBQWpCLENBQ0FDLEtBQUssQ0FBR1ksTUFBTSxDQUFDRSxDQUFELENBQU4sQ0FBVWQsS0FBbEIsQ0FFQSxHQUFHLEtBQUtyQixTQUFMLENBQWVvQixJQUFmLElBQXlCQyxLQUE1QixDQUNBLENBQ0MsR0FBR0QsSUFBSSxDQUFDZ0IsT0FBTCxDQUFhLEdBQWIsR0FBcUIsQ0FBeEIsQ0FBMkIsQ0FDMUIxQyxTQUFTLENBQUNtQyxLQUFWLENBQWdCLCtDQUFpRFQsSUFBakQsQ0FBd0QsR0FBeEQsQ0FBOERDLEtBQTlELENBQXNFLEdBQXRGLENBQTJGLElBQTNGLEVBQ0EsTUFDQSxDQUVELEdBQUdBLEtBQUssQ0FBQ2UsT0FBTixDQUFjLEdBQWQsR0FBc0IsQ0FBekIsQ0FBNEIsQ0FDM0IxQyxTQUFTLENBQUNtQyxLQUFWLENBQWdCLGdEQUFrRFQsSUFBbEQsQ0FBeUQsR0FBekQsQ0FBK0RDLEtBQS9ELENBQXVFLEdBQXZGLENBQTRGLElBQTVGLEVBQ0EsTUFDQSxDQUVELEtBQUtyQixTQUFMLENBQWVvQixJQUFmLEVBQXVCQyxLQUF2QixDQUVBVSxLQUFLLENBQUNQLElBQU4sQ0FBVzlCLFNBQVMsQ0FBQzJDLFlBQVYsQ0FBdUJqQixJQUF2QixDQUFYLEVBQ0FZLE1BQU0sQ0FBQ1IsSUFBUCxDQUFZOUIsU0FBUyxDQUFDMkMsWUFBVixDQUF1QmhCLEtBQXZCLENBQVosQ0FDQSxDQUNELENBSUQsSUFBSSxHQUFNaUIsQ0FBQUEsQ0FBVixHQUFlLE1BQUtyQyxRQUFwQixDQUNBLENBQ0NtQixJQUFJLENBQUcsS0FBS25CLFFBQUwsQ0FBY3FDLENBQWQsQ0FBUCxDQUNBakIsS0FBSyxDQUFRLE9BQWIsQ0FFQVUsS0FBSyxDQUFDUCxJQUFOLENBQVc5QixTQUFTLENBQUMyQyxZQUFWLENBQXVCakIsSUFBdkIsQ0FBWCxFQUNBWSxNQUFNLENBQUNSLElBQVAsQ0FBWTlCLFNBQVMsQ0FBQzJDLFlBQVYsQ0FBdUJoQixLQUF2QixDQUFaLENBQ0EsQ0FJRCxNQUFPWCxDQUFBQSxVQUFVLENBQUNDLE9BQVgsQ0FBbUIsMENBQXlDb0IsS0FBSyxDQUFDUSxJQUFOLENBQVcsR0FBWCxDQUF6QyxDQUEyRCxlQUEzRCxDQUEyRVAsTUFBTSxDQUFDTyxJQUFQLENBQVksR0FBWixDQUEzRSxDQUE4RixJQUFqSCxFQUFzSDNDLElBQXRILENBQTJILFNBQUNDLElBQUQsQ0FBT08sT0FBUCxDQUFtQixDQUVwSlYsU0FBUyxDQUFDOEMsT0FBVixDQUFrQnBDLE9BQWxCLENBQTJCLElBQTNCLENBRUEsQ0FKTSxFQUlKRCxJQUpJLENBSUMsU0FBQ04sSUFBRCxDQUFPTyxPQUFQLENBQW1CLENBRTFCVixTQUFTLENBQUNtQyxLQUFWLENBQWdCekIsT0FBaEIsQ0FBeUIsSUFBekIsQ0FDQSxDQVBNLENBVVAsQ0FqTWdDLENBcU1qQ3FDLEtBQUssQ0FBRSxnQkFDUCxDQUNDLEdBQUcsQ0FBQ0MsT0FBTyxDQUFDLG1CQUFELENBQVgsQ0FDQSxDQUNDLE1BQ0EsQ0FJRCxLQUFLWixLQUFMLEVBR0EsQ0FqTmdDLENBcU5qQ2EsS0FBSyxDQUFFLGdCQUNQLENBQ0MsR0FBRyxDQUFDRCxPQUFPLENBQUMsbUJBQUQsQ0FBWCxDQUNBLENBQ0MsTUFDQSxDQUlELEtBQUtsQyxLQUFMLEVBR0EsQ0FqT2dDLENBcU9qQ29DLFNBQVMsQ0FBRSxtQkFBU0MsS0FBVCxDQUNYLENBQ0NuRCxTQUFTLENBQUNlLElBQVYsR0FFQUMsVUFBVSxDQUFDQyxPQUFYLENBQW1CLHFCQUFzQmpCLFNBQVMsQ0FBQzJDLFlBQVYsQ0FBdUIsS0FBS3JDLFNBQUwsQ0FBZSxhQUFmLENBQXZCLENBQXRCLENBQThFLFdBQTlFLENBQTBGTixTQUFTLENBQUMyQyxZQUFWLENBQXVCUSxLQUF2QixDQUExRixDQUEwSCxtREFBN0ksRUFBNkxqRCxJQUE3TCxDQUFrTSxTQUFDQyxJQUFELENBQU9PLE9BQVAsQ0FBbUIsQ0FFcE5WLFNBQVMsQ0FBQzhDLE9BQVYsQ0FBa0JwQyxPQUFsQixDQUEyQixJQUEzQixDQUVBLENBSkQsRUFJR0QsSUFKSCxDQUlRLFNBQUNOLElBQUQsQ0FBT08sT0FBUCxDQUFtQixDQUUxQlYsU0FBUyxDQUFDbUMsS0FBVixDQUFnQnpCLE9BQWhCLENBQXlCLElBQXpCLENBQ0EsQ0FQRCxDQVFBLENBalBnQyxDQXFQakMwQyxZQUFZLENBQUUsdUJBQ2QsQ0FDQyxHQUFJMUIsQ0FBQUEsSUFBSSxDQUFHMkIsTUFBTSxDQUFDLGlCQUFELENBQU4sRUFBNkIsRUFBeEMsQ0FFQTNCLElBQUksQ0FBR0EsSUFBSSxDQUFDNEIsSUFBTCxFQUFQLENBRUEsR0FBRzVCLElBQUgsQ0FDQSxDQUNDLEdBQUc1QixDQUFDLENBQUMseUNBQTJDNEIsSUFBNUMsQ0FBRCxDQUFtREcsTUFBbkQsR0FBOEQsQ0FBakUsQ0FDQSxDQUNDLEdBQU1OLENBQUFBLElBQUksQ0FBRyxDQUNaUSxJQUFJLENBQUVMLElBRE0sQ0FFWk0sS0FBSyxDQUFJLEVBRkcsQ0FBYixDQUtBaEMsU0FBUyxDQUFDdUQsV0FBVixDQUFzQix1Q0FBdEIsQ0FBK0QsS0FBS2xELGlCQUFwRSxDQUF1RixDQUFDa0IsSUFBSSxDQUFFQSxJQUFQLENBQXZGLENBQ0EsQ0FSRCxJQVVBLENBQ0N2QixTQUFTLENBQUNtQyxLQUFWLENBQWdCLDJCQUFoQixDQUE2QyxJQUE3QyxDQUNBLENBQ0QsQ0FmRCxJQWlCQSxDQUNDbkMsU0FBUyxDQUFDbUMsS0FBVixDQUFnQixzQkFBaEIsQ0FBd0MsSUFBeEMsQ0FDQSxDQUNELENBL1FnQyxDQW1SakNxQixZQUFZLENBQUUsc0JBQVM5QixJQUFULENBQ2QsQ0FDQyxHQUFHLENBQUNzQixPQUFPLENBQUMsbUJBQUQsQ0FBWCxDQUNBLENBQ0MsTUFDQSxDQUlELEtBQUt6QyxRQUFMLENBQWN1QixJQUFkLENBQW1CSixJQUFuQixFQUVBLEdBQUdBLElBQUksR0FBSSxNQUFLcEIsU0FBaEIsQ0FDQSxDQUNDLE1BQU8sTUFBS0EsU0FBTCxDQUFlb0IsSUFBZixDQUNQLENBSUQ1QixDQUFDLENBQUMseUNBQTJDNEIsSUFBNUMsQ0FBRCxDQUFtRCtCLE1BQW5ELEdBQTREQSxNQUE1RCxHQUFxRUMsTUFBckUsRUFHQSxDQXhTZ0MsQ0E0U2pDQyx3QkFBd0IsQ0FBRSxrQ0FBUy9CLEVBQVQsQ0FDMUIsQ0FDQyxHQUFNZ0MsQ0FBQUEsS0FBSyxDQUFHOUQsQ0FBQyxDQUFDLElBQU04QixFQUFFLENBQUM2QixNQUFILEdBQVlJLElBQVosQ0FBaUIsS0FBakIsQ0FBUCxDQUFmLENBRUssR0FBR0QsS0FBSyxDQUFDQyxJQUFOLENBQVcsTUFBWCxJQUF1QixNQUExQixDQUFrQyxDQUN0Q2pDLEVBQUUsQ0FBQ2tDLElBQUgsQ0FBUSw2QkFBUixFQUNBRixLQUFLLENBQUNDLElBQU4sQ0FBVyxNQUFYLENBQW1CLFVBQW5CLENBQ0EsQ0FISSxJQUlBLElBQUdELEtBQUssQ0FBQ0MsSUFBTixDQUFXLE1BQVgsSUFBdUIsVUFBMUIsQ0FBc0MsQ0FDMUNqQyxFQUFFLENBQUNrQyxJQUFILENBQVEsbUNBQVIsRUFDQUYsS0FBSyxDQUFDQyxJQUFOLENBQVcsTUFBWCxDQUFtQixNQUFuQixDQUNBLENBQ0QsQ0F4VGdDLENBQXpCLENBQVQiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEFNSSBUd2lnIEVuZ2luZVxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNC0yMDE5IFRoZSBBTUkgVGVhbSAvIExQU0MgLyBJTjJQM1xuICpcbiAqIFRoaXMgZmlsZSBtdXN0IGJlIHVzZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBDZUNJTEwtQzpcbiAqIGh0dHA6Ly93d3cuY2VjaWxsLmluZm8vbGljZW5jZXMvTGljZW5jZV9DZUNJTEwtQ19WMS1lbi5odG1sXG4gKiBodHRwOi8vd3d3LmNlY2lsbC5pbmZvL2xpY2VuY2VzL0xpY2VuY2VfQ2VDSUxMLUNfVjEtZnIuaHRtbFxuICpcbiAqL1xuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbi8qIEFkbWluRGFzaGJvYXJkQ29uZmlnICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiRBTUlDbGFzcygnQWRtaW5EYXNoYm9hcmRDb25maWcnLCB7XG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0X2luaXQ6IGZ1bmN0aW9uKClcblx0e1xuXHRcdGNvbnN0IHJlc3VsdCA9ICQuRGVmZXJyZWQoKTtcblxuXHRcdGFtaVdlYkFwcC5sb2FkUmVzb3VyY2VzKFtcblx0XHRcdCdzdWJhcHBzL0FkbWluRGFzaGJvYXJkL3R3aWcvY29uZmlnL2NvbmZpZy50d2lnJyxcblx0XHRcdCdzdWJhcHBzL0FkbWluRGFzaGJvYXJkL3R3aWcvY29uZmlnL2V4dHJhX21lbnUudHdpZycsXG5cdFx0XHQnc3ViYXBwcy9BZG1pbkRhc2hib2FyZC90d2lnL2NvbmZpZy9wYXJhbWV0ZXIudHdpZycsXG5cdFx0XSkuZG9uZShmdW5jdGlvbihkYXRhKSB7XG5cblx0XHRcdGFtaVdlYkFwcC5yZXBsYWNlSFRNTCgnI0NCNjAzNkI3XzU5NzFfNDFDMl8xMTk0X0Y1QTA1MUIyMUVBMCcsIGRhdGFbMF0pLmRvbmUoKCkgPT4ge1xuXHRcdFx0XHRhbWlXZWJBcHAucmVwbGFjZUhUTUwoJyNDNTQ0ODVDM180NEY4X0NFOEVfMEY1NF9CRjg0N0NFRUNFMTEnLCBkYXRhWzFdKS5kb25lKCgpID0+IHtcblxuXHRcdFx0XHRcdHRoaXMuZnJhZ21lbnRQYXJhbWV0ZXIgPSBkYXRhWzJdO1xuXG5cdFx0XHRcdFx0dGhpcy5wYXJhbURpY3QgPSB7fTtcblxuXHRcdFx0XHRcdHRoaXMucGFyYW1EZWwgPSBbXTtcblxuXHRcdFx0XHRcdHJlc3VsdC5yZXNvbHZlKCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cblx0XHR9KS5mYWlsKChtZXNzYWdlKSA9PiB7XG5cblx0XHRcdHJlc3VsdC5yZWplY3QobWVzc2FnZSk7XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0b25Mb2dpbjogZnVuY3Rpb24oKVxuXHR7XG5cdFx0aWYoJC5pc0VtcHR5T2JqZWN0KHRoaXMucGFyYW1EaWN0KSlcblx0XHR7XG5cdFx0XHRyZXR1cm4gdGhpcy5fbG9hZCgpO1xuXHRcdH1cblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdF9sb2FkOiBmdW5jdGlvbigpXG5cdHtcblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRhbWlXZWJBcHAubG9jaygpO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0cmV0dXJuIGFtaUNvbW1hbmQuZXhlY3V0ZSgnR2V0Q29uZmlnJykuZG9uZSgoZGF0YSkgPT4ge1xuXG5cdFx0XHRjb25zdCBwYXRoX2ZpZWxkcyA9IGFtaVdlYkFwcC5qc3BhdGgoJy4ucm93c2V0ey5AdHlwZT09PVwicGF0aHNcIn0ucm93LmZpZWxkJywgZGF0YSk7XG5cblx0XHRcdGNvbnN0IGNvbmZpZ19maWVsZHMgPSBhbWlXZWJBcHAuanNwYXRoKCcuLnJvd3NldHsuQHR5cGU9PT1cInBhcmFtc1wifS5yb3cuZmllbGQnLCBkYXRhKTtcblxuXHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRcdCQoJyNERjk3MDRDRl81MUZGX0Y1NzBfRjU4N18yN0ZCNTYyNUE5MzYnKS50ZXh0KGFtaVdlYkFwcC5qc3BhdGgoJy57LkBuYW1lPT09XCJjb25maWdGaWxlTmFtZVwifS4kWzBdJywgcGF0aF9maWVsZHMpKTtcblxuXHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRcdCQoJyNCNUM3MzhEQl9CNzA1XzVFMzdfMjRDRF9CMjY1NTMyRDA4NTMnKS5lbXB0eSgpO1xuXG5cdFx0XHR0aGlzLnBhcmFtRGljdCA9IHt9O1xuXHRcdFx0dGhpcy5wYXJhbURlbCA9IFtdO1xuXG5cdFx0XHRjb25zdCBkaWN0ID0gW107XG5cblx0XHRcdGNvbmZpZ19maWVsZHMuZm9yRWFjaCgoY29uZmlnX2ZpZWxkKSA9PiB7XG5cdFx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRcdFx0bGV0IG5hbWUgPSBjb25maWdfZmllbGRbJ0BuYW1lJ10gfHwgJyc7XG5cdFx0XHRcdGxldCB2YWx1ZSA9IGNvbmZpZ19maWVsZFsoKCckJykpXSB8fCAnJztcblxuXHRcdFx0XHRpZihuYW1lID09PSAndGFza19zZXJ2ZXJfbmFtZSdcblx0XHRcdFx0ICAgfHxcblx0XHRcdFx0ICAgbmFtZSA9PT0gJ3Rhc2tfc2VydmVyX3Bhc3MnXG5cdFx0XHRcdCAgIHx8XG5cdFx0XHRcdCAgIG5hbWUgPT09ICd0YXNrX3NlcnZlcl91cmwnXG5cdFx0XHRcdCAgIHx8XG5cdFx0XHRcdCAgIG5hbWUgPT09ICd0YXNrX3NlcnZlcl91c2VyJ1xuXHRcdFx0XHQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0XHR0aGlzLnBhcmFtRGljdFtuYW1lXSA9IHZhbHVlO1xuXG5cdFx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRcdFx0Y29uc3QgZWwgPSAkKCcjRDE3QzA4OUZfRkI1RF9CMkE1XzdDOUZfNjVBQTA3MzYwODRGIFtuYW1lID0gXCInICsgbmFtZSArICdcIl0nKVxuXG5cdFx0XHRcdGlmKGVsLmxlbmd0aCA9PT0gMClcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGRpY3QucHVzaCh7XG5cdFx0XHRcdFx0XHROQU1FOiBuYW1lLFxuXHRcdFx0XHRcdFx0VkFMVUU6IHZhbHVlLFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGVsLnZhbCh2YWx1ZSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHRcdFx0fSk7XG5cblx0XHRcdGFtaVdlYkFwcC5yZXBsYWNlSFRNTCgnI0I1QzczOERCX0I3MDVfNUUzN18yNENEX0IyNjU1MzJEMDg1MycsIHRoaXMuZnJhZ21lbnRQYXJhbWV0ZXIsIHtkaWN0OiBkaWN0fSkuZG9uZSgoKSA9PiB7XG5cblx0XHRcdFx0YW1pV2ViQXBwLnVubG9jaygpO1xuXHRcdFx0fSlcblxuXHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHR9KS5mYWlsKChkYXRhLCBtZXNzYWdlKSA9PiB7XG5cblx0XHRcdGFtaVdlYkFwcC5lcnJvcihtZXNzYWdlLCB0cnVlKTtcblx0XHR9KTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdF9zYXZlOiBmdW5jdGlvbigpXG5cdHtcblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRhbWlXZWJBcHAubG9jaygpO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0bGV0IG5hbWU7XG5cdFx0Y29uc3QgbmFtZXMgPSBbXTtcblxuXHRcdGxldCB2YWx1ZTtcblx0XHRjb25zdCB2YWx1ZXMgPSBbXTtcblxuXHRcdGNvbnN0IHBhcmFtcyA9ICQoJyNEMTdDMDg5Rl9GQjVEX0IyQTVfN0M5Rl82NUFBMDczNjA4NEYnKS5zZXJpYWxpemVBcnJheSgpO1xuXG5cdFx0Zm9yKGNvbnN0IGkgaW4gcGFyYW1zKVxuXHRcdHtcblx0XHRcdG5hbWUgPSBwYXJhbXNbaV0ubmFtZTtcblx0XHRcdHZhbHVlID0gcGFyYW1zW2ldLnZhbHVlO1xuXG5cdFx0XHRpZih0aGlzLnBhcmFtRGljdFtuYW1lXSAhPT0gdmFsdWUpXG5cdFx0XHR7XG5cdFx0XHRcdGlmKG5hbWUuaW5kZXhPZignfCcpID49IDApIHtcblx0XHRcdFx0XHRhbWlXZWJBcHAuZXJyb3IoJ2NoYXJhY3RlciBgfGAgbm90IGFsbG93IGluIHBhcmFtZXRlciBuYW1lcyAoJyArIG5hbWUgKyAnOicgKyB2YWx1ZSArICcpJywgdHJ1ZSk7XG5cdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZih2YWx1ZS5pbmRleE9mKCd8JykgPj0gMCkge1xuXHRcdFx0XHRcdGFtaVdlYkFwcC5lcnJvcignY2hhcmFjdGVyIGB8YCBub3QgYWxsb3cgaW4gcGFyYW1ldGVyIHZhbHVlcyAoJyArIG5hbWUgKyAnOicgKyB2YWx1ZSArICcpJywgdHJ1ZSk7XG5cdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLnBhcmFtRGljdFtuYW1lXSA9IHZhbHVlO1xuXG5cdFx0XHRcdG5hbWVzLnB1c2goYW1pV2ViQXBwLnRleHRUb1N0cmluZyhuYW1lKSk7XG5cdFx0XHRcdHZhbHVlcy5wdXNoKGFtaVdlYkFwcC50ZXh0VG9TdHJpbmcodmFsdWUpKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRmb3IoY29uc3QgaiBpbiB0aGlzLnBhcmFtRGVsKVxuXHRcdHtcblx0XHRcdG5hbWUgPSB0aGlzLnBhcmFtRGVsW2pdO1xuXHRcdFx0dmFsdWUgPSAvKi0qLydATlVMTCcvKi0qLztcblxuXHRcdFx0bmFtZXMucHVzaChhbWlXZWJBcHAudGV4dFRvU3RyaW5nKG5hbWUpKTtcblx0XHRcdHZhbHVlcy5wdXNoKGFtaVdlYkFwcC50ZXh0VG9TdHJpbmcodmFsdWUpKTtcblx0XHR9XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRyZXR1cm4gYW1pQ29tbWFuZC5leGVjdXRlKCdVcGRhdGVDb25maWcgLXNlcGFyYXRvcj1cInxcIiAtbmFtZXM9XCInICsgbmFtZXMuam9pbignfCcpICsgJ1wiIC12YWx1ZXM9XCInICsgdmFsdWVzLmpvaW4oJ3wnKSArICdcIicpLmRvbmUoKGRhdGEsIG1lc3NhZ2UpID0+IHtcblxuXHRcdFx0YW1pV2ViQXBwLnN1Y2Nlc3MobWVzc2FnZSwgdHJ1ZSk7XG5cblx0XHR9KS5mYWlsKChkYXRhLCBtZXNzYWdlKSA9PiB7XG5cblx0XHRcdGFtaVdlYkFwcC5lcnJvcihtZXNzYWdlLCB0cnVlKTtcblx0XHR9KTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdGFwcGx5OiBmdW5jdGlvbigpXG5cdHtcblx0XHRpZighY29uZmlybSgnUGxlYXNlIGNvbmZpcm0uLi4nKSlcblx0XHR7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0dGhpcy5fc2F2ZSgpO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0cmVzZXQ6IGZ1bmN0aW9uKClcblx0e1xuXHRcdGlmKCFjb25maXJtKCdQbGVhc2UgY29uZmlybS4uLicpKVxuXHRcdHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHR0aGlzLl9sb2FkKCk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHR0ZXN0RW1haWw6IGZ1bmN0aW9uKGVtYWlsKVxuXHR7XG5cdFx0YW1pV2ViQXBwLmxvY2soKTtcblxuXHRcdGFtaUNvbW1hbmQuZXhlY3V0ZSgnU2VuZEVtYWlsIC1mcm9tPVwiJyArIGFtaVdlYkFwcC50ZXh0VG9TdHJpbmcodGhpcy5wYXJhbURpY3RbJ2FkbWluX2VtYWlsJ10pICsgJ1wiIC10bz1cIicgKyBhbWlXZWJBcHAudGV4dFRvU3RyaW5nKGVtYWlsKSArICdcIiAtc3ViamVjdD1cIlRlc3RcIiAtbWVzc2FnZT1cIlRoaXMgaXMgYSB0ZXN0LlwiJykuZG9uZSgoZGF0YSwgbWVzc2FnZSkgPT4ge1xuXG5cdFx0XHRhbWlXZWJBcHAuc3VjY2VzcyhtZXNzYWdlLCB0cnVlKTtcblxuXHRcdH0pLmZhaWwoKGRhdGEsIG1lc3NhZ2UpID0+IHtcblxuXHRcdFx0YW1pV2ViQXBwLmVycm9yKG1lc3NhZ2UsIHRydWUpO1xuXHRcdH0pO1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0YWRkUGFyYW1ldGVyOiBmdW5jdGlvbigpXG5cdHtcblx0XHRsZXQgbmFtZSA9IHByb21wdCgnUGFyYW1ldGVyIG5hbWU6JykgfHwgJyc7XG5cblx0XHRuYW1lID0gbmFtZS50cmltKCk7XG5cblx0XHRpZihuYW1lKVxuXHRcdHtcblx0XHRcdGlmKCQoJyNCNUM3MzhEQl9CNzA1XzVFMzdfMjRDRF9CMjY1NTMyRDA4NTNfJyArIG5hbWUpLmxlbmd0aCA9PT0gMClcblx0XHRcdHtcblx0XHRcdFx0Y29uc3QgZGljdCA9IHtcblx0XHRcdFx0XHROQU1FOiBuYW1lLFxuXHRcdFx0XHRcdFZBTFVFOiAoKCcnKSksXG5cdFx0XHRcdH07XG5cblx0XHRcdFx0YW1pV2ViQXBwLnByZXBlbmRIVE1MKCcjQjVDNzM4REJfQjcwNV81RTM3XzI0Q0RfQjI2NTUzMkQwODUzJywgdGhpcy5mcmFnbWVudFBhcmFtZXRlciwge2RpY3Q6IGRpY3R9KTtcblx0XHRcdH1cblx0XHRcdGVsc2Vcblx0XHRcdHtcblx0XHRcdFx0YW1pV2ViQXBwLmVycm9yKCdkdXBsaWNhdGVkIHBhcmFtZXRlciBuYW1lJywgdHJ1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGVsc2Vcblx0XHR7XG5cdFx0XHRhbWlXZWJBcHAuZXJyb3IoJ2VtcHR5IHBhcmFtZXRlciBuYW1lJywgdHJ1ZSk7XG5cdFx0fVxuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0ZGVsUGFyYW1ldGVyOiBmdW5jdGlvbihuYW1lKVxuXHR7XG5cdFx0aWYoIWNvbmZpcm0oJ1BsZWFzZSBjb25maXJtLi4uJykpXG5cdFx0e1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdHRoaXMucGFyYW1EZWwucHVzaChuYW1lKTtcblxuXHRcdGlmKG5hbWUgaW4gdGhpcy5wYXJhbURpY3QpXG5cdFx0e1xuXHRcdFx0ZGVsZXRlIHRoaXMucGFyYW1EaWN0W25hbWVdO1xuXHRcdH1cblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdCQoJyNCNUM3MzhEQl9CNzA1XzVFMzdfMjRDRF9CMjY1NTMyRDA4NTNfJyArIG5hbWUpLnBhcmVudCgpLnBhcmVudCgpLnJlbW92ZSgpO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0dG9nZ2xlUGFzc3dvcmRWaXNpYmlsaXR5OiBmdW5jdGlvbihlbClcblx0e1xuXHRcdGNvbnN0IGlucHV0ID0gJCgnIycgKyBlbC5wYXJlbnQoKS5hdHRyKCdmb3InKSk7XG5cblx0XHQvKiovIGlmKGlucHV0LmF0dHIoJ3R5cGUnKSA9PT0gJ3RleHQnKSB7XG5cdFx0XHRlbC5odG1sKCc8aSBjbGFzcz1cImZhIGZhLWV5ZVwiPjwvaT4nKTtcblx0XHRcdGlucHV0LmF0dHIoJ3R5cGUnLCAncGFzc3dvcmQnKTtcblx0XHR9XG5cdFx0ZWxzZSBpZihpbnB1dC5hdHRyKCd0eXBlJykgPT09ICdwYXNzd29yZCcpIHtcblx0XHRcdGVsLmh0bWwoJzxpIGNsYXNzPVwiZmEgZmEtZXllLXNsYXNoXCI+PC9pPicpO1xuXHRcdFx0aW5wdXQuYXR0cigndHlwZScsICd0ZXh0Jyk7XG5cdFx0fVxuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG59KTtcblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4iXX0=
