/*!
 * AMI Twig Engine
 *
 * Copyright (c) 2014-2019 The AMI Team / LPSC / IN2P3
 *
 * This file must be used under the terms of the CeCILL-C:
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-fr.html
 *
 * @global adminDashboardApp
 *
 */$AMIClass("AdminDashboardCommands",{_init:function _init(){var _this=this;var result=$.Deferred();amiWebApp.loadResources(["subapps/AdminDashboard/twig/commands/commands.twig","subapps/AdminDashboard/twig/commands/extra_menu.twig","subapps/AdminDashboard/twig/commands/table.twig"]).done(function(data){amiWebApp.replaceHTML("#CB6036B7_5971_41C2_1194_F5A051B21EA0",data[0]).done(function(){amiWebApp.replaceHTML("#C54485C3_44F8_CE8E_0F54_BF847CEECE11",data[1]).done(function(){_this.fragmentTable=data[2];$("#FA9E8ABC_2469_C3CA_67F9_8DC2FEE6B32D").keypress(function(e){if(e.keyCode==13){adminDashboardApp.subsubapp.find($("#FA9E8ABC_2469_C3CA_67F9_8DC2FEE6B32D").val())}});$("#CD24BC02_C39F_AE0C_A83F_85B6458421B6").click(function(){adminDashboardApp.subsubapp.find($("#FA9E8ABC_2469_C3CA_67F9_8DC2FEE6B32D").val())});result.resolve()})})}).fail(function(){result.reject(e)});return result},onLogin:function onLogin(){var _this2=this;return amiCommand.execute("SearchQuery -catalog=\"self\" -entity=\"router_role\" -mql=\"SELECT `router_role`.`role`\"").done(function(data){_this2.roles=amiWebApp.jspath("..field{.@name===\"role\"}.$",data);if("filter"in amiWebApp.args){$("#FA9E8ABC_2469_C3CA_67F9_8DC2FEE6B32D").val(amiWebApp.args["filter"]);adminDashboardApp.subsubapp.find(amiWebApp.args["filter"])}}).fail(function(data,message){amiWebApp.error(message,true)})},find:function find(filter){var _this3=this;amiWebApp.lock();filter=filter.trim();amiCommand.execute("SearchQuery -catalog=\"self\" -entity=\"router_command\" -mql=\"SELECT `router_command`.`id`, `router_role`.`role` WHERE `router_command`.`command` LIKE '%"+amiWebApp.textToString(amiWebApp.textToSQL(filter))+"%'\"").done(function(data2){amiCommand.execute("SearchQuery -catalog=\"self\" -entity=\"router_command\" -mql=\"SELECT `id`, `command`, `class`, `visible`, `secured`, `roleValidatorClass` WHERE `command` LIKE '%"+amiWebApp.textToString(amiWebApp.textToSQL(filter))+"%' ORDER BY `command` LIMIT 50\"").done(function(data1){var rows1=amiWebApp.jspath("..rowset.row",data1);var rows2=amiWebApp.jspath("..rowset.row",data2);var ids=[];var commands={};rows1.forEach(function(row){var id=amiWebApp.jspath("..field{.@name===\"id\"}.$",row)[0]||"";var command=amiWebApp.jspath("..field{.@name===\"command\"}.$",row)[0]||"";var clazz=amiWebApp.jspath("..field{.@name===\"class\"}.$",row)[0]||"";var visible=amiWebApp.jspath("..field{.@name===\"visible\"}.$",row)[0]||"";var secured=amiWebApp.jspath("..field{.@name===\"secured\"}.$",row)[0]||"";var roleValidatorClazz=amiWebApp.jspath("..field{.@name===\"roleValidatorClass\"}.$",row)[0]||"";ids.push(id);commands[id]={command:command,clazz:clazz,visible:visible,secured:secured,roleValidatorClazz:roleValidatorClazz,roles:[]}});rows2.forEach(function(row){var id=amiWebApp.jspath("..field{.@name===\"id\"}.$",row)[0]||"";var role=amiWebApp.jspath("..field{.@name===\"self.router_role.role\"}.$",row)[0]||"";if(id in commands){commands[id].roles.push(role)}});var dict={ids:ids,roles:_this3.roles,commands:commands};amiWebApp.replaceHTML("#F989424E_06B3_365D_0CAD_9F223EC8DA01",_this3.fragmentTable,{dict:dict}).done(function(){var el1=$("#F989424E_06B3_365D_0CAD_9F223EC8DA01 [data-change-visible]");var el2=$("#F989424E_06B3_365D_0CAD_9F223EC8DA01 [data-change-secured]");var el3=$("#F989424E_06B3_365D_0CAD_9F223EC8DA01 [data-delete-command");var el4=$("#F989424E_06B3_365D_0CAD_9F223EC8DA01 [data-change-role]");var el5=$("#F989424E_06B3_365D_0CAD_9F223EC8DA01 [data-change-command-class]");var el6=$("#F989424E_06B3_365D_0CAD_9F223EC8DA01 [data-change-role-validator-class]");el4.select2({placeholder:"Select a role"});el1.change(function(e){amiWebApp.lock();amiCommand.execute("UpdateElements -catalog=\"self\" -entity=\"router_command\" -separator=\"|\" -fields=\"visible\" -values=\""+($(e.currentTarget).prop("checked")?1:0)+"\" -keyFields=\"id\" -keyValues=\""+amiWebApp.textToString($(e.currentTarget).attr("data-change-visible"))+"\"").done(function(){amiWebApp.unlock()}).fail(function(data,message){amiWebApp.error(message,true)})});el2.change(function(e){amiWebApp.lock();amiCommand.execute("UpdateElements -catalog=\"self\" -entity=\"router_command\" -separator=\"|\" -fields=\"secured\" -values=\""+($(e.currentTarget).prop("checked")?1:0)+"\" -keyFields=\"id\" -keyValues=\""+amiWebApp.textToString($(e.currentTarget).attr("data-change-secured"))+"\"").done(function(){amiWebApp.unlock()}).fail(function(data,message){amiWebApp.error(message,true)})});el3.click(function(e){e.preventDefault();if(!confirm("Please confirm...")){return}amiWebApp.lock();amiCommand.execute("RemoveElements -catalog=\"self\" -entity=\"router_command\" -keyFields=\"id\" -keyValues=\""+amiWebApp.textToString($(e.currentTarget).attr("data-delete-command"))+"\"").done(function(){$("#F989424E_06B3_365D_0CAD_9F223EC8DA01 tr[data-id=\""+$(e.currentTarget).attr("data-delete-command")+"\"]").remove();amiWebApp.unlock()}).fail(function(data,message){amiWebApp.error(message,true)})});el4.on("select2:select",function(e){amiWebApp.lock();amiCommand.execute("AddCommandRole -command=\""+amiWebApp.textToString($(e.currentTarget).attr("data-change-role"))+"\" -role=\""+amiWebApp.textToString(e.params.data.text)+"\"").done(function(){amiWebApp.unlock()}).fail(function(data,message){amiWebApp.error(message,true)})});el4.on("select2:unselect",function(e){amiWebApp.lock();amiCommand.execute("RemoveCommandRole -command=\""+amiWebApp.textToString($(e.currentTarget).attr("data-change-role"))+"\" -role=\""+amiWebApp.textToString(e.params.data.text)+"\"").done(function(){amiWebApp.unlock()}).fail(function(data,message){amiWebApp.error(message,true)})});el5.on("click",function(e){var clazz=prompt("New Java command class",$(e.currentTarget).find(".value").text());if(clazz!==null){amiWebApp.lock();amiCommand.execute("UpdateElements -catalog=\"self\" -entity=\"router_command\" -separator=\"|\" -fields=\"class\" -values=\""+amiWebApp.textToString(clazz)+"\" -keyFields=\"id\" -keyValues=\""+amiWebApp.textToString($(e.currentTarget).attr("data-change-command-class"))+"\"").done(function(){$(_this3).find(".value").text(clazz);amiWebApp.unlock()}).fail(function(data,message){amiWebApp.error(message,true)})}});el6.on("click",function(e){var clazz=prompt("New Java role validator class",$(e.currentTarget).find(".value").text());if(clazz!==null){amiWebApp.lock();amiCommand.execute("UpdateElements -catalog=\"self\" -entity=\"router_command\" -separator=\"|\" -fields=\"roleValidatorClass\" -values=\""+amiWebApp.textToString(clazz)+"\" -keyFields=\"id\" -keyValues=\""+amiWebApp.textToString($(e.currentTarget).attr("data-change-role-validator-class"))+"\"").done(function(){$(_this3).find(".value").text(clazz);amiWebApp.unlock()}).fail(function(data,message){amiWebApp.error(message,true)})}});amiWebApp.unlock()})}).fail(function(data,message){amiWebApp.error(message,true)})}).fail(function(data,message){amiWebApp.error(message,true)})}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9jb21tYW5kcy5lczYuanMiXSwibmFtZXMiOlsiJEFNSUNsYXNzIiwiX2luaXQiLCJyZXN1bHQiLCIkIiwiRGVmZXJyZWQiLCJhbWlXZWJBcHAiLCJsb2FkUmVzb3VyY2VzIiwiZG9uZSIsImRhdGEiLCJyZXBsYWNlSFRNTCIsImZyYWdtZW50VGFibGUiLCJrZXlwcmVzcyIsImUiLCJrZXlDb2RlIiwiYWRtaW5EYXNoYm9hcmRBcHAiLCJzdWJzdWJhcHAiLCJmaW5kIiwidmFsIiwiY2xpY2siLCJyZXNvbHZlIiwiZmFpbCIsInJlamVjdCIsIm9uTG9naW4iLCJhbWlDb21tYW5kIiwiZXhlY3V0ZSIsInJvbGVzIiwianNwYXRoIiwiYXJncyIsIm1lc3NhZ2UiLCJlcnJvciIsImZpbHRlciIsImxvY2siLCJ0cmltIiwidGV4dFRvU3RyaW5nIiwidGV4dFRvU1FMIiwiZGF0YTIiLCJkYXRhMSIsInJvd3MxIiwicm93czIiLCJpZHMiLCJjb21tYW5kcyIsImZvckVhY2giLCJyb3ciLCJpZCIsImNvbW1hbmQiLCJjbGF6eiIsInZpc2libGUiLCJzZWN1cmVkIiwicm9sZVZhbGlkYXRvckNsYXp6IiwicHVzaCIsInJvbGUiLCJkaWN0IiwiZWwxIiwiZWwyIiwiZWwzIiwiZWw0IiwiZWw1IiwiZWw2Iiwic2VsZWN0MiIsInBsYWNlaG9sZGVyIiwiY2hhbmdlIiwiY3VycmVudFRhcmdldCIsInByb3AiLCJhdHRyIiwidW5sb2NrIiwicHJldmVudERlZmF1bHQiLCJjb25maXJtIiwicmVtb3ZlIiwib24iLCJwYXJhbXMiLCJ0ZXh0IiwicHJvbXB0Il0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7R0FpQkFBLFNBQVMsQ0FBQyx3QkFBRCxDQUEyQixDQUduQ0MsS0FBSyxDQUFFLGdCQUNQLGdCQUNDLEdBQU1DLENBQUFBLE1BQU0sQ0FBR0MsQ0FBQyxDQUFDQyxRQUFGLEVBQWYsQ0FFQUMsU0FBUyxDQUFDQyxhQUFWLENBQXdCLENBQ3ZCLG9EQUR1QixDQUV2Qixz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R0FBR3pCLEtBQUssR0FBSyxJQUFiLENBQ0EsQ0FDQ3hDLFNBQVMsQ0FBQzBCLElBQVYsR0FFQVIsVUFBVSxDQUFDQyxPQUFYLENBQW1CLHlIQUFrSG5CLFNBQVMsQ0FBQzRCLFlBQVYsQ0FBdUJZLEtBQXZCLENBQWxILENBQWtKLG9DQUFsSixDQUFxTHhDLFNBQVMsQ0FBQzRCLFlBQVYsQ0FBdUI5QixDQUFDLENBQUNTLENBQUMsQ0FBQ2lELGFBQUgsQ0FBRCxDQUFtQkUsSUFBbkIsQ0FBd0Isa0NBQXhCLENBQXZCLENBQXJMLENBQTJRLElBQTlSLEVBQW1TeEQsSUFBblMsQ0FBd1MsVUFBTSxDQUU3U0osQ0FBQyxDQUFDLE1BQUQsQ0FBRCxDQUFRYSxJQUFSLENBQWEsUUFBYixFQUF1QnNELElBQXZCLENBQTRCekIsS0FBNUIsRUFFQXhDLFNBQVMsQ0FBQzJELE1BQVYsRUFFQSxDQU5ELEVBTUc1QyxJQU5ILENBTVEsU0FBQ1osSUFBRCxDQUFPb0IsT0FBUCxDQUFtQixDQUUxQnZCLFNBQVMsQ0FBQ3dCLEtBQVYsQ0FBZ0JELE9BQWhCLENBQXlCLElBQXpCLENBQ0EsQ0FURCxDQVVBLENBQ0QsQ0FuQkQsRUF1QkF2QixTQUFTLENBQUMyRCxNQUFWLEVBR0EsQ0FoS0QsQ0FrS0EsQ0FqTkQsRUFpTkc1QyxJQWpOSCxDQWlOUSxTQUFDWixJQUFELENBQU9vQixPQUFQLENBQW1CLENBRTFCdkIsU0FBUyxDQUFDd0IsS0FBVixDQUFnQkQsT0FBaEIsQ0FBeUIsSUFBekIsQ0FDQSxDQXBORCxDQXNOQSxDQXhORCxFQXdOR1IsSUF4TkgsQ0F3TlEsU0FBQ1osSUFBRCxDQUFPb0IsT0FBUCxDQUFtQixDQUUxQnZCLFNBQVMsQ0FBQ3dCLEtBQVYsQ0FBZ0JELE9BQWhCLENBQXlCLElBQXpCLENBQ0EsQ0EzTkQsQ0E0TkEsQ0F4U2tDLENBQTNCLENBQVQiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEFNSSBUd2lnIEVuZ2luZVxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNC0yMDE5IFRoZSBBTUkgVGVhbSAvIExQU0MgLyBJTjJQM1xuICpcbiAqIFRoaXMgZmlsZSBtdXN0IGJlIHVzZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBDZUNJTEwtQzpcbiAqIGh0dHA6Ly93d3cuY2VjaWxsLmluZm8vbGljZW5jZXMvTGljZW5jZV9DZUNJTEwtQ19WMS1lbi5odG1sXG4gKiBodHRwOi8vd3d3LmNlY2lsbC5pbmZvL2xpY2VuY2VzL0xpY2VuY2VfQ2VDSUxMLUNfVjEtZnIuaHRtbFxuICpcbiAqIEBnbG9iYWwgYWRtaW5EYXNoYm9hcmRBcHBcbiAqXG4gKi9cblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4vKiBBZG1pbkRhc2hib2FyZENvbW1hbmRzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4kQU1JQ2xhc3MoJ0FkbWluRGFzaGJvYXJkQ29tbWFuZHMnLCB7XG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0X2luaXQ6IGZ1bmN0aW9uKClcblx0e1xuXHRcdGNvbnN0IHJlc3VsdCA9ICQuRGVmZXJyZWQoKTtcblxuXHRcdGFtaVdlYkFwcC5sb2FkUmVzb3VyY2VzKFtcblx0XHRcdCdzdWJhcHBzL0FkbWluRGFzaGJvYXJkL3R3aWcvY29tbWFuZHMvY29tbWFuZHMudHdpZycsXG5cdFx0XHQnc3ViYXBwcy9BZG1pbkRhc2hib2FyZC90d2lnL2NvbW1hbmRzL2V4dHJhX21lbnUudHdpZycsXG5cdFx0XHQnc3ViYXBwcy9BZG1pbkRhc2hib2FyZC90d2lnL2NvbW1hbmRzL3RhYmxlLnR3aWcnLFxuXHRcdF0pLmRvbmUoKGRhdGEpID0+IHtcblxuXHRcdFx0YW1pV2ViQXBwLnJlcGxhY2VIVE1MKCcjQ0I2MDM2QjdfNTk3MV80MUMyXzExOTRfRjVBMDUxQjIxRUEwJywgZGF0YVswXSkuZG9uZSgoKSA9PiB7XG5cdFx0XHRcdGFtaVdlYkFwcC5yZXBsYWNlSFRNTCgnI0M1NDQ4NUMzXzQ0RjhfQ0U4RV8wRjU0X0JGODQ3Q0VFQ0UxMScsIGRhdGFbMV0pLmRvbmUoKCkgPT4ge1xuXG5cdFx0XHRcdFx0dGhpcy5mcmFnbWVudFRhYmxlID0gZGF0YVsyXTtcblxuXHRcdFx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0XHRcdCQoJyNGQTlFOEFCQ18yNDY5X0MzQ0FfNjdGOV84REMyRkVFNkIzMkQnKS5rZXlwcmVzcygoZSkgPT4ge1xuXG5cdFx0XHRcdFx0XHRpZihlLmtleUNvZGUgPT0gMTMpXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdGFkbWluRGFzaGJvYXJkQXBwLnN1YnN1YmFwcC5maW5kKCQoJyNGQTlFOEFCQ18yNDY5X0MzQ0FfNjdGOV84REMyRkVFNkIzMkQnKS52YWwoKSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHQkKCcjQ0QyNEJDMDJfQzM5Rl9BRTBDX0E4M0ZfODVCNjQ1ODQyMUI2JykuY2xpY2soKCkgPT4ge1xuXG5cdFx0XHRcdFx0XHRhZG1pbkRhc2hib2FyZEFwcC5zdWJzdWJhcHAuZmluZCgkKCcjRkE5RThBQkNfMjQ2OV9DM0NBXzY3RjlfOERDMkZFRTZCMzJEJykudmFsKCkpO1xuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRcdFx0cmVzdWx0LnJlc29sdmUoKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblxuXHRcdH0pLmZhaWwoKCkgPT4ge1xuXG5cdFx0XHRyZXN1bHQucmVqZWN0KGUpO1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdG9uTG9naW46IGZ1bmN0aW9uKClcblx0e1xuXHRcdHJldHVybiBhbWlDb21tYW5kLmV4ZWN1dGUoJ1NlYXJjaFF1ZXJ5IC1jYXRhbG9nPVwic2VsZlwiIC1lbnRpdHk9XCJyb3V0ZXJfcm9sZVwiIC1tcWw9XCJTRUxFQ1QgYHJvdXRlcl9yb2xlYC5gcm9sZWBcIicpLmRvbmUoKGRhdGEpID0+IHtcblxuXHRcdFx0dGhpcy5yb2xlcyA9IGFtaVdlYkFwcC5qc3BhdGgoJy4uZmllbGR7LkBuYW1lPT09XCJyb2xlXCJ9LiQnLCBkYXRhKTtcblxuXHRcdFx0aWYoJ2ZpbHRlcicgaW4gYW1pV2ViQXBwLmFyZ3MpXG5cdFx0XHR7XG5cdFx0XHRcdCQoJyNGQTlFOEFCQ18yNDY5X0MzQ0FfNjdGOV84REMyRkVFNkIzMkQnKS52YWwoYW1pV2ViQXBwLmFyZ3NbJ2ZpbHRlciddKTtcblxuXHRcdFx0XHRhZG1pbkRhc2hib2FyZEFwcC5zdWJzdWJhcHAuZmluZChhbWlXZWJBcHAuYXJnc1snZmlsdGVyJ10pO1xuXHRcdFx0fVxuXG5cdFx0fSkuZmFpbCgoZGF0YSwgbWVzc2FnZSkgPT4ge1xuXG5cdFx0XHRhbWlXZWJBcHAuZXJyb3IobWVzc2FnZSwgdHJ1ZSk7XG5cdFx0fSk7XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRmaW5kOiBmdW5jdGlvbihmaWx0ZXIpXG5cdHtcblx0XHRhbWlXZWJBcHAubG9jaygpO1xuXG5cdFx0ZmlsdGVyID0gZmlsdGVyLnRyaW0oKTtcblxuXHRcdGFtaUNvbW1hbmQuZXhlY3V0ZSgnU2VhcmNoUXVlcnkgLWNhdGFsb2c9XCJzZWxmXCIgLWVudGl0eT1cInJvdXRlcl9jb21tYW5kXCIgLW1xbD1cIlNFTEVDVCBgcm91dGVyX2NvbW1hbmRgLmBpZGAsIGByb3V0ZXJfcm9sZWAuYHJvbGVgIFdIRVJFIGByb3V0ZXJfY29tbWFuZGAuYGNvbW1hbmRgIExJS0UgXFwnJScgKyBhbWlXZWJBcHAudGV4dFRvU3RyaW5nKGFtaVdlYkFwcC50ZXh0VG9TUUwoZmlsdGVyKSkgKyAnJVxcJ1wiJykuZG9uZSgoZGF0YTIpID0+IHtcblxuXHRcdFx0YW1pQ29tbWFuZC5leGVjdXRlKCdTZWFyY2hRdWVyeSAtY2F0YWxvZz1cInNlbGZcIiAtZW50aXR5PVwicm91dGVyX2NvbW1hbmRcIiAtbXFsPVwiU0VMRUNUIGBpZGAsIGBjb21tYW5kYCwgYGNsYXNzYCwgYHZpc2libGVgLCBgc2VjdXJlZGAsIGByb2xlVmFsaWRhdG9yQ2xhc3NgIFdIRVJFIGBjb21tYW5kYCBMSUtFIFxcJyUnICsgYW1pV2ViQXBwLnRleHRUb1N0cmluZyhhbWlXZWJBcHAudGV4dFRvU1FMKGZpbHRlcikpICsgJyVcXCcgT1JERVIgQlkgYGNvbW1hbmRgIExJTUlUIDUwXCInKS5kb25lKChkYXRhMSkgPT4ge1xuXG5cdFx0XHRcdGNvbnN0IHJvd3MxID0gYW1pV2ViQXBwLmpzcGF0aCgnLi5yb3dzZXQucm93JywgZGF0YTEpO1xuXHRcdFx0XHRjb25zdCByb3dzMiA9IGFtaVdlYkFwcC5qc3BhdGgoJy4ucm93c2V0LnJvdycsIGRhdGEyKTtcblxuXHRcdFx0XHRjb25zdCBpZHMgPSBbXTtcblxuXHRcdFx0XHRjb25zdCBjb21tYW5kcyA9IHt9O1xuXG5cdFx0XHRcdHJvd3MxLmZvckVhY2goKHJvdykgPT4ge1xuXG5cdFx0XHRcdFx0Y29uc3QgaWQgPSBhbWlXZWJBcHAuanNwYXRoKCcuLmZpZWxkey5AbmFtZT09PVwiaWRcIn0uJCcsIHJvdylbMF0gfHwgJyc7XG5cdFx0XHRcdFx0Y29uc3QgY29tbWFuZCA9IGFtaVdlYkFwcC5qc3BhdGgoJy4uZmllbGR7LkBuYW1lPT09XCJjb21tYW5kXCJ9LiQnLCByb3cpWzBdIHx8ICcnO1xuXHRcdFx0XHRcdGNvbnN0IGNsYXp6ID0gYW1pV2ViQXBwLmpzcGF0aCgnLi5maWVsZHsuQG5hbWU9PT1cImNsYXNzXCJ9LiQnLCByb3cpWzBdIHx8ICcnO1xuXHRcdFx0XHRcdGNvbnN0IHZpc2libGUgPSBhbWlXZWJBcHAuanNwYXRoKCcuLmZpZWxkey5AbmFtZT09PVwidmlzaWJsZVwifS4kJywgcm93KVswXSB8fCAnJztcblx0XHRcdFx0XHRjb25zdCBzZWN1cmVkID0gYW1pV2ViQXBwLmpzcGF0aCgnLi5maWVsZHsuQG5hbWU9PT1cInNlY3VyZWRcIn0uJCcsIHJvdylbMF0gfHwgJyc7XG5cdFx0XHRcdFx0Y29uc3Qgcm9sZVZhbGlkYXRvckNsYXp6ID0gYW1pV2ViQXBwLmpzcGF0aCgnLi5maWVsZHsuQG5hbWU9PT1cInJvbGVWYWxpZGF0b3JDbGFzc1wifS4kJywgcm93KVswXSB8fCAnJztcblxuXHRcdFx0XHRcdGlkcy5wdXNoKGlkKTtcblxuXHRcdFx0XHRcdGNvbW1hbmRzW2lkXSA9IHtcblx0XHRcdFx0XHRcdGNvbW1hbmQ6IGNvbW1hbmQsXG5cdFx0XHRcdFx0XHRjbGF6ejogY2xhenosXG5cdFx0XHRcdFx0XHR2aXNpYmxlOiB2aXNpYmxlLFxuXHRcdFx0XHRcdFx0c2VjdXJlZDogc2VjdXJlZCxcblx0XHRcdFx0XHRcdHJvbGVWYWxpZGF0b3JDbGF6ejogcm9sZVZhbGlkYXRvckNsYXp6LFxuXHRcdFx0XHRcdFx0cm9sZXM6IFtdLFxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdHJvd3MyLmZvckVhY2goKHJvdykgPT4ge1xuXG5cdFx0XHRcdFx0Y29uc3QgaWQgPSBhbWlXZWJBcHAuanNwYXRoKCcuLmZpZWxkey5AbmFtZT09PVwiaWRcIn0uJCcsIHJvdylbMF0gfHwgJyc7XG5cdFx0XHRcdFx0Y29uc3Qgcm9sZSA9IGFtaVdlYkFwcC5qc3BhdGgoJy4uZmllbGR7LkBuYW1lPT09XCJzZWxmLnJvdXRlcl9yb2xlLnJvbGVcIn0uJCcsIHJvdylbMF0gfHwgJyc7XG5cblx0XHRcdFx0XHRpZihpZCBpbiBjb21tYW5kcylcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRjb21tYW5kc1tpZF0ucm9sZXMucHVzaChyb2xlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdGNvbnN0IGRpY3QgPSB7XG5cdFx0XHRcdFx0aWRzOiBpZHMsXG5cdFx0XHRcdFx0cm9sZXM6IHRoaXMucm9sZXMsXG5cdFx0XHRcdFx0Y29tbWFuZHM6IGNvbW1hbmRzLFxuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdGFtaVdlYkFwcC5yZXBsYWNlSFRNTCgnI0Y5ODk0MjRFXzA2QjNfMzY1RF8wQ0FEXzlGMjIzRUM4REEwMScsIHRoaXMuZnJhZ21lbnRUYWJsZSwge2RpY3Q6IGRpY3R9KS5kb25lKCgpID0+IHtcblxuXHRcdFx0XHRcdGNvbnN0IGVsMSA9ICQoJyNGOTg5NDI0RV8wNkIzXzM2NURfMENBRF85RjIyM0VDOERBMDEgW2RhdGEtY2hhbmdlLXZpc2libGVdJyk7XG5cblx0XHRcdFx0XHRjb25zdCBlbDIgPSAkKCcjRjk4OTQyNEVfMDZCM18zNjVEXzBDQURfOUYyMjNFQzhEQTAxIFtkYXRhLWNoYW5nZS1zZWN1cmVkXScpO1xuXG5cdFx0XHRcdFx0Y29uc3QgZWwzID0gJCgnI0Y5ODk0MjRFXzA2QjNfMzY1RF8wQ0FEXzlGMjIzRUM4REEwMSBbZGF0YS1kZWxldGUtY29tbWFuZCcpO1xuXG5cdFx0XHRcdFx0Y29uc3QgZWw0ID0gJCgnI0Y5ODk0MjRFXzA2QjNfMzY1RF8wQ0FEXzlGMjIzRUM4REEwMSBbZGF0YS1jaGFuZ2Utcm9sZV0nKTtcblxuXHRcdFx0XHRcdGNvbnN0IGVsNSA9ICQoJyNGOTg5NDI0RV8wNkIzXzM2NURfMENBRF85RjIyM0VDOERBMDEgW2RhdGEtY2hhbmdlLWNvbW1hbmQtY2xhc3NdJyk7XG5cblx0XHRcdFx0XHRjb25zdCBlbDYgPSAkKCcjRjk4OTQyNEVfMDZCM18zNjVEXzBDQURfOUYyMjNFQzhEQTAxIFtkYXRhLWNoYW5nZS1yb2xlLXZhbGlkYXRvci1jbGFzc10nKTtcblxuXHRcdFx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0XHRcdGVsNC5zZWxlY3QyKHtcblx0XHRcdFx0XHRcdHBsYWNlaG9sZGVyOiAnU2VsZWN0IGEgcm9sZScsXG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRcdFx0XHRlbDEuY2hhbmdlKChlKSA9PiB7XG5cblx0XHRcdFx0XHRcdGFtaVdlYkFwcC5sb2NrKCk7XG5cblx0XHRcdFx0XHRcdGFtaUNvbW1hbmQuZXhlY3V0ZSgnVXBkYXRlRWxlbWVudHMgLWNhdGFsb2c9XCJzZWxmXCIgLWVudGl0eT1cInJvdXRlcl9jb21tYW5kXCIgLXNlcGFyYXRvcj1cInxcIiAtZmllbGRzPVwidmlzaWJsZVwiIC12YWx1ZXM9XCInICsgKCQoZS5jdXJyZW50VGFyZ2V0KS5wcm9wKCdjaGVja2VkJykgPyAxIDogMCkgKyAnXCIgLWtleUZpZWxkcz1cImlkXCIgLWtleVZhbHVlcz1cIicgKyBhbWlXZWJBcHAudGV4dFRvU3RyaW5nKCQoZS5jdXJyZW50VGFyZ2V0KS5hdHRyKCdkYXRhLWNoYW5nZS12aXNpYmxlJykpICsgJ1wiJykuZG9uZSgoKSA9PiB7XG5cblx0XHRcdFx0XHRcdFx0YW1pV2ViQXBwLnVubG9jaygpO1xuXG5cdFx0XHRcdFx0XHR9KS5mYWlsKChkYXRhLCBtZXNzYWdlKSA9PiB7XG5cblx0XHRcdFx0XHRcdFx0YW1pV2ViQXBwLmVycm9yKG1lc3NhZ2UsIHRydWUpO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRcdFx0XHRlbDIuY2hhbmdlKChlKSA9PiB7XG5cblx0XHRcdFx0XHRcdGFtaVdlYkFwcC5sb2NrKCk7XG5cblx0XHRcdFx0XHRcdGFtaUNvbW1hbmQuZXhlY3V0ZSgnVXBkYXRlRWxlbWVudHMgLWNhdGFsb2c9XCJzZWxmXCIgLWVudGl0eT1cInJvdXRlcl9jb21tYW5kXCIgLXNlcGFyYXRvcj1cInxcIiAtZmllbGRzPVwic2VjdXJlZFwiIC12YWx1ZXM9XCInICsgKCQoZS5jdXJyZW50VGFyZ2V0KS5wcm9wKCdjaGVja2VkJykgPyAxIDogMCkgKyAnXCIgLWtleUZpZWxkcz1cImlkXCIgLWtleVZhbHVlcz1cIicgKyBhbWlXZWJBcHAudGV4dFRvU3RyaW5nKCQoZS5jdXJyZW50VGFyZ2V0KS5hdHRyKCdkYXRhLWNoYW5nZS1zZWN1cmVkJykpICsgJ1wiJykuZG9uZSgoKSA9PiB7XG5cblx0XHRcdFx0XHRcdFx0YW1pV2ViQXBwLnVubG9jaygpO1xuXG5cdFx0XHRcdFx0XHR9KS5mYWlsKChkYXRhLCBtZXNzYWdlKSA9PiB7XG5cblx0XHRcdFx0XHRcdFx0YW1pV2ViQXBwLmVycm9yKG1lc3NhZ2UsIHRydWUpO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRcdFx0XHRlbDMuY2xpY2soKGUpID0+IHtcblxuXHRcdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHRcdFx0XHRpZighY29uZmlybSgnUGxlYXNlIGNvbmZpcm0uLi4nKSlcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRhbWlXZWJBcHAubG9jaygpO1xuXG5cdFx0XHRcdFx0XHRhbWlDb21tYW5kLmV4ZWN1dGUoJ1JlbW92ZUVsZW1lbnRzIC1jYXRhbG9nPVwic2VsZlwiIC1lbnRpdHk9XCJyb3V0ZXJfY29tbWFuZFwiIC1rZXlGaWVsZHM9XCJpZFwiIC1rZXlWYWx1ZXM9XCInICsgYW1pV2ViQXBwLnRleHRUb1N0cmluZygkKGUuY3VycmVudFRhcmdldCkuYXR0cignZGF0YS1kZWxldGUtY29tbWFuZCcpKSArICdcIicpLmRvbmUoKCkgPT4ge1xuXG5cdFx0XHRcdFx0XHRcdCQoJyNGOTg5NDI0RV8wNkIzXzM2NURfMENBRF85RjIyM0VDOERBMDEgdHJbZGF0YS1pZD1cIicgKyAkKGUuY3VycmVudFRhcmdldCkuYXR0cignZGF0YS1kZWxldGUtY29tbWFuZCcpICsgJ1wiXScpLnJlbW92ZSgpO1xuXG5cdFx0XHRcdFx0XHRcdGFtaVdlYkFwcC51bmxvY2soKTtcblxuXHRcdFx0XHRcdFx0fSkuZmFpbCgoZGF0YSwgbWVzc2FnZSkgPT4ge1xuXG5cdFx0XHRcdFx0XHRcdGFtaVdlYkFwcC5lcnJvcihtZXNzYWdlLCB0cnVlKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRcdFx0ZWw0Lm9uKCdzZWxlY3QyOnNlbGVjdCcsIChlKSA9PiB7XG5cblx0XHRcdFx0XHRcdGFtaVdlYkFwcC5sb2NrKCk7XG5cblx0XHRcdFx0XHRcdGFtaUNvbW1hbmQuZXhlY3V0ZSgnQWRkQ29tbWFuZFJvbGUgLWNvbW1hbmQ9XCInICsgYW1pV2ViQXBwLnRleHRUb1N0cmluZygkKGUuY3VycmVudFRhcmdldCkuYXR0cignZGF0YS1jaGFuZ2Utcm9sZScpKSArICdcIiAtcm9sZT1cIicgKyBhbWlXZWJBcHAudGV4dFRvU3RyaW5nKGUucGFyYW1zLmRhdGEudGV4dCkgKyAnXCInKS5kb25lKCgpID0+IHtcblxuXHRcdFx0XHRcdFx0XHRhbWlXZWJBcHAudW5sb2NrKCk7XG5cblx0XHRcdFx0XHRcdH0pLmZhaWwoKGRhdGEsIG1lc3NhZ2UpID0+IHtcblxuXHRcdFx0XHRcdFx0XHRhbWlXZWJBcHAuZXJyb3IobWVzc2FnZSwgdHJ1ZSk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0XHRcdGVsNC5vbignc2VsZWN0Mjp1bnNlbGVjdCcsIChlKSA9PiB7XG5cblx0XHRcdFx0XHRcdGFtaVdlYkFwcC5sb2NrKCk7XG5cblx0XHRcdFx0XHRcdGFtaUNvbW1hbmQuZXhlY3V0ZSgnUmVtb3ZlQ29tbWFuZFJvbGUgLWNvbW1hbmQ9XCInICsgYW1pV2ViQXBwLnRleHRUb1N0cmluZygkKGUuY3VycmVudFRhcmdldCkuYXR0cignZGF0YS1jaGFuZ2Utcm9sZScpKSArICdcIiAtcm9sZT1cIicgKyBhbWlXZWJBcHAudGV4dFRvU3RyaW5nKGUucGFyYW1zLmRhdGEudGV4dCkgKyAnXCInKS5kb25lKCgpID0+IHtcblxuXHRcdFx0XHRcdFx0XHRhbWlXZWJBcHAudW5sb2NrKCk7XG5cblx0XHRcdFx0XHRcdH0pLmZhaWwoKGRhdGEsIG1lc3NhZ2UpID0+IHtcblxuXHRcdFx0XHRcdFx0XHRhbWlXZWJBcHAuZXJyb3IobWVzc2FnZSwgdHJ1ZSk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0XHRcdGVsNS5vbignY2xpY2snLCAoZSkgPT4ge1xuXG5cdFx0XHRcdFx0XHRjb25zdCBjbGF6eiA9IHByb21wdCgnTmV3IEphdmEgY29tbWFuZCBjbGFzcycsICQoZS5jdXJyZW50VGFyZ2V0KS5maW5kKCcudmFsdWUnKS50ZXh0KCkpO1xuXG5cdFx0XHRcdFx0XHRpZihjbGF6eiAhPT0gbnVsbClcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0YW1pV2ViQXBwLmxvY2soKTtcblxuXHRcdFx0XHRcdFx0XHRhbWlDb21tYW5kLmV4ZWN1dGUoJ1VwZGF0ZUVsZW1lbnRzIC1jYXRhbG9nPVwic2VsZlwiIC1lbnRpdHk9XCJyb3V0ZXJfY29tbWFuZFwiIC1zZXBhcmF0b3I9XCJ8XCIgLWZpZWxkcz1cImNsYXNzXCIgLXZhbHVlcz1cIicgKyBhbWlXZWJBcHAudGV4dFRvU3RyaW5nKGNsYXp6KSArICdcIiAta2V5RmllbGRzPVwiaWRcIiAta2V5VmFsdWVzPVwiJyArIGFtaVdlYkFwcC50ZXh0VG9TdHJpbmcoJChlLmN1cnJlbnRUYXJnZXQpLmF0dHIoJ2RhdGEtY2hhbmdlLWNvbW1hbmQtY2xhc3MnKSkgKyAnXCInKS5kb25lKCgpID0+IHtcblxuXHRcdFx0XHRcdFx0XHRcdCQodGhpcykuZmluZCgnLnZhbHVlJykudGV4dChjbGF6eik7XG5cblx0XHRcdFx0XHRcdFx0XHRhbWlXZWJBcHAudW5sb2NrKCk7XG5cblx0XHRcdFx0XHRcdFx0fSkuZmFpbCgoZGF0YSwgbWVzc2FnZSkgPT4ge1xuXG5cdFx0XHRcdFx0XHRcdFx0YW1pV2ViQXBwLmVycm9yKG1lc3NhZ2UsIHRydWUpO1xuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0XHRcdGVsNi5vbignY2xpY2snLCAoZSkgPT4ge1xuXG5cdFx0XHRcdFx0XHRjb25zdCBjbGF6eiA9IHByb21wdCgnTmV3IEphdmEgcm9sZSB2YWxpZGF0b3IgY2xhc3MnLCAkKGUuY3VycmVudFRhcmdldCkuZmluZCgnLnZhbHVlJykudGV4dCgpKTtcblxuXHRcdFx0XHRcdFx0aWYoY2xhenogIT09IG51bGwpXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdGFtaVdlYkFwcC5sb2NrKCk7XG5cblx0XHRcdFx0XHRcdFx0YW1pQ29tbWFuZC5leGVjdXRlKCdVcGRhdGVFbGVtZW50cyAtY2F0YWxvZz1cInNlbGZcIiAtZW50aXR5PVwicm91dGVyX2NvbW1hbmRcIiAtc2VwYXJhdG9yPVwifFwiIC1maWVsZHM9XCJyb2xlVmFsaWRhdG9yQ2xhc3NcIiAtdmFsdWVzPVwiJyArIGFtaVdlYkFwcC50ZXh0VG9TdHJpbmcoY2xhenopICsgJ1wiIC1rZXlGaWVsZHM9XCJpZFwiIC1rZXlWYWx1ZXM9XCInICsgYW1pV2ViQXBwLnRleHRUb1N0cmluZygkKGUuY3VycmVudFRhcmdldCkuYXR0cignZGF0YS1jaGFuZ2Utcm9sZS12YWxpZGF0b3ItY2xhc3MnKSkgKyAnXCInKS5kb25lKCgpID0+IHtcblxuXHRcdFx0XHRcdFx0XHRcdCQodGhpcykuZmluZCgnLnZhbHVlJykudGV4dChjbGF6eik7XG5cblx0XHRcdFx0XHRcdFx0XHRhbWlXZWJBcHAudW5sb2NrKCk7XG5cblx0XHRcdFx0XHRcdFx0fSkuZmFpbCgoZGF0YSwgbWVzc2FnZSkgPT4ge1xuXG5cdFx0XHRcdFx0XHRcdFx0YW1pV2ViQXBwLmVycm9yKG1lc3NhZ2UsIHRydWUpO1xuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0XHRcdGFtaVdlYkFwcC51bmxvY2soKTtcblxuXHRcdFx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0XHRcdFx0fSk7XG5cblx0XHRcdH0pLmZhaWwoKGRhdGEsIG1lc3NhZ2UpID0+IHtcblxuXHRcdFx0XHRhbWlXZWJBcHAuZXJyb3IobWVzc2FnZSwgdHJ1ZSk7XG5cdFx0XHR9KTtcblxuXHRcdH0pLmZhaWwoKGRhdGEsIG1lc3NhZ2UpID0+IHtcblxuXHRcdFx0YW1pV2ViQXBwLmVycm9yKG1lc3NhZ2UsIHRydWUpO1xuXHRcdH0pO1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG59KTtcblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4iXX0=
