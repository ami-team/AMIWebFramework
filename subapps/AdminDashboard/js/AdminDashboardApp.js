/*!
 * AMI Twig Engine
 *
 * Copyright (c) 2014-2019 The AMI Team / LPSC / IN2P3
 *
 * This file must be used under the terms of the CeCILL-C:
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-fr.html
 *
 * @global AdminDashboardHome
 * @global AdminDashboardConfig
 * @global AdminDashboardRoles
 * @global AdminDashboardCommands
 * @global AdminDashboardUsers
 * @global AdminDashboardCatalogs
 *
 */$AMIClass("AdminDashboardApp",{$extends:ami.SubApp,onReady:function onReady(userdata){var _this=this;var result=$.Deferred();amiWebApp.loadResources(["subapps/AdminDashboard/twig/AdminDashboardApp.twig","subapps/AdminDashboard/js/_home.js","subapps/AdminDashboard/js/_config.js","subapps/AdminDashboard/js/_roles.js","subapps/AdminDashboard/js/_commands.js","subapps/AdminDashboard/js/_users.js","subapps/AdminDashboard/js/_catalogs.js"]).done(function(data){amiWebApp.replaceHTML("#ami_main_content",data[0]).done(function(){if(userdata==="config"){_this.subsubapp=new AdminDashboardConfig}else if(userdata==="roles"){_this.subsubapp=new AdminDashboardRoles}else if(userdata==="commands"){_this.subsubapp=new AdminDashboardCommands}else if(userdata==="users"){_this.subsubapp=new AdminDashboardUsers}else if(userdata==="catalogs"){_this.subsubapp=new AdminDashboardCatalogs}else{_this.subsubapp=new AdminDashboardHome}_this.subsubapp._init().done(function(){result.resolve()}).fail(function(data){result.reject(data)})})}).fail(function(message){result.reject(message)});return result},onExit:function onExit(){if(this.subsubapp.onExit){return this.subsubapp.onExit()}},onLogin:function onLogin(){if(amiLogin.hasRole("AMI_ADMIN")){amiWebApp.flush();$("#C54485C3_44F8_CE8E_0F54_BF847CEECE11").show();$("#CB6036B7_5971_41C2_1194_F5A051B21EA0").show();if(this.subsubapp.onLogin){return this.subsubapp.onLogin()}}else{this.onLogout()}},onLogout:function onLogout(){amiWebApp.error("Administrator roles required!");$("#C54485C3_44F8_CE8E_0F54_BF847CEECE11").hide();$("#CB6036B7_5971_41C2_1194_F5A051B21EA0").hide();if(this.subsubapp.onLogout){return this.subsubapp.onLogout()}},findNewCommands:function findNewCommands(){if(!confirm("Please confirm...")){return}amiWebApp.lock();amiCommand.execute("FindNewCommands").done(function(data,message){amiWebApp.success(message,true)}).fail(function(data,message){amiWebApp.error(message,true)})},flushCommandCache:function flushCommandCache(){if(!confirm("Please confirm...")){return}amiWebApp.lock();amiCommand.execute("FlushCommandCache").done(function(data,message){amiWebApp.success(message,true)}).fail(function(data,message){amiWebApp.error(message,true)})},flushServerCachesFast:function flushServerCachesFast(){if(!confirm("Please confirm...")){return}amiWebApp.lock();amiCommand.execute("FlushServerCaches").done(function(data,message){amiWebApp.success(message,true)}).fail(function(data,message){amiWebApp.error(message,true)})},flushServerCachesSlow:function flushServerCachesSlow(){if(!confirm("Please confirm...")){return}amiWebApp.lock();amiCommand.execute("FlushServerCaches -full").done(function(data,message){amiWebApp.success(message,true)}).fail(function(data,message){amiWebApp.error(message,true)})}});var adminDashboardApp=new AdminDashboardApp;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFkbWluRGFzaGJvYXJkQXBwLmVzNi5qcyJdLCJuYW1lcyI6WyIkQU1JQ2xhc3MiLCIkZXh0ZW5kcyIsImFtaSIsIlN1YkFwcCIsIm9uUmVhZHkiLCJ1c2VyZGF0YSIsInJlc3VsdCIsIiQiLCJEZWZlcnJlZCIsImFtaVdlYkFwcCIsImxvYWRSZXNvdXJjZXMiLCJkb25lIiwiZGF0YSIsInJlcGxhY2VIVE1MIiwic3Vic3ViYXBwIiwiQWRtaW5EYXNoYm9hcmRDb25maWciLCJBZG1pbkRhc2hib2FyZFJvbGVzIiwiQWRtaW5EYXNoYm9hcmRDb21tYW5kcyIsIkFkbWluRGFzaGJvYXJkVXNlcnMiLCJBZG1pbkRhc2hib2FyZENhdGFsb2dzIiwiQWRtaW5EYXNoYm9hcmRIb21lIiwiX2luaXQiLCJyZXNvbHZlIiwiZmFpbCIsInJlamVjdCIsIm1lc3NhZ2UiLCJvbkV4aXQiLCJvbkxvZ2luIiwiYW1pTG9naW4iLCJoYXNSb2xlIiwiZmx1c2giLCJzaG93Iiwib25Mb2dvdXQiLCJlcnJvciIsImhpZGUiLCJmaW5kTmV3Q29tbWFuZHMiLCJjb25maXJtIiwibG9jayIsImFtaUNvbW1hbmQiLCJleGVjdXRlIiwic3VjY2VzcyIsImZsdXNoQ29tbWFuZENhY2hlIiwiZmx1c2hTZXJ2ZXJDYWNoZXNGYXN0IiwiZmx1c2hTZXJ2ZXJDYWNoZXNTbG93IiwiYWRtaW5EYXNoYm9hcmRBcHAiLCJBZG1pbkRhc2hib2FyZEFwcCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7R0FzQkFBLFNBQVMsQ0FBQyxtQkFBRCxDQUFzQixDQUc5QkMsUUFBUSxDQUFFQyxHQUFHLENBQUNDLE1BSGdCLENBTzlCQyxPQUFPLENBQUUsaUJBQVNDLFFBQVQsQ0FDVCxnQkFDQyxHQUFNQyxDQUFBQSxNQUFNLENBQUdDLENBQUMsQ0FBQ0MsUUFBRixFQUFmLENBRUFDLFNBQVMsQ0FBQ0MsYUFBVixDQUF3QixDQUN2QixvREFEdUIsQ0FFdkIsb0NBRnVCLENBR3ZCLHNDQUh1QixD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OUJrQixxQkFBcUIsQ0FBRSxnQ0FDdkIsQ0FHQyxHQUFHLENBQUNQLE9BQU8sQ0FBQyxtQkFBRCxDQUFYLENBQ0EsQ0FDQyxNQUNBLENBSUQzQixTQUFTLENBQUM0QixJQUFWLEdBRUFDLFVBQVUsQ0FBQ0MsT0FBWCxDQUFtQix5QkFBbkIsRUFBOEM1QixJQUE5QyxDQUFtRCxTQUFDQyxJQUFELENBQU9hLE9BQVAsQ0FBbUIsQ0FFckVoQixTQUFTLENBQUMrQixPQUFWLENBQWtCZixPQUFsQixDQUEyQixJQUEzQixDQUVBLENBSkQsRUFJR0YsSUFKSCxDQUlRLFNBQUNYLElBQUQsQ0FBT2EsT0FBUCxDQUFtQixDQUUxQmhCLFNBQVMsQ0FBQ3dCLEtBQVYsQ0FBZ0JSLE9BQWhCLENBQXlCLElBQXpCLENBQ0EsQ0FQRCxDQVVBLENBck42QixDQUF0QixDQUFULENBOE5BLEdBQU1tQixDQUFBQSxpQkFBaUIsQ0FBRyxHQUFJQyxDQUFBQSxpQkFBOUIiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEFNSSBUd2lnIEVuZ2luZVxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNC0yMDE5IFRoZSBBTUkgVGVhbSAvIExQU0MgLyBJTjJQM1xuICpcbiAqIFRoaXMgZmlsZSBtdXN0IGJlIHVzZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBDZUNJTEwtQzpcbiAqIGh0dHA6Ly93d3cuY2VjaWxsLmluZm8vbGljZW5jZXMvTGljZW5jZV9DZUNJTEwtQ19WMS1lbi5odG1sXG4gKiBodHRwOi8vd3d3LmNlY2lsbC5pbmZvL2xpY2VuY2VzL0xpY2VuY2VfQ2VDSUxMLUNfVjEtZnIuaHRtbFxuICpcbiAqIEBnbG9iYWwgQWRtaW5EYXNoYm9hcmRIb21lXG4gKiBAZ2xvYmFsIEFkbWluRGFzaGJvYXJkQ29uZmlnXG4gKiBAZ2xvYmFsIEFkbWluRGFzaGJvYXJkUm9sZXNcbiAqIEBnbG9iYWwgQWRtaW5EYXNoYm9hcmRDb21tYW5kc1xuICogQGdsb2JhbCBBZG1pbkRhc2hib2FyZFVzZXJzXG4gKiBAZ2xvYmFsIEFkbWluRGFzaGJvYXJkQ2F0YWxvZ3NcbiAqXG4gKi9cblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4vKiBBZG1pbkRhc2hib2FyZEFwcCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4kQU1JQ2xhc3MoJ0FkbWluRGFzaGJvYXJkQXBwJywge1xuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdCRleHRlbmRzOiBhbWkuU3ViQXBwLFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0b25SZWFkeTogZnVuY3Rpb24odXNlcmRhdGEpXG5cdHtcblx0XHRjb25zdCByZXN1bHQgPSAkLkRlZmVycmVkKCk7XG5cblx0XHRhbWlXZWJBcHAubG9hZFJlc291cmNlcyhbXG5cdFx0XHQnc3ViYXBwcy9BZG1pbkRhc2hib2FyZC90d2lnL0FkbWluRGFzaGJvYXJkQXBwLnR3aWcnLFxuXHRcdFx0J3N1YmFwcHMvQWRtaW5EYXNoYm9hcmQvanMvX2hvbWUuanMnLFxuXHRcdFx0J3N1YmFwcHMvQWRtaW5EYXNoYm9hcmQvanMvX2NvbmZpZy5qcycsXG5cdFx0XHQnc3ViYXBwcy9BZG1pbkRhc2hib2FyZC9qcy9fcm9sZXMuanMnLFxuXHRcdFx0J3N1YmFwcHMvQWRtaW5EYXNoYm9hcmQvanMvX2NvbW1hbmRzLmpzJyxcblx0XHRcdCdzdWJhcHBzL0FkbWluRGFzaGJvYXJkL2pzL191c2Vycy5qcycsXG5cdFx0XHQnc3ViYXBwcy9BZG1pbkRhc2hib2FyZC9qcy9fY2F0YWxvZ3MuanMnLFxuXHRcdF0pLmRvbmUoKGRhdGEpID0+IHtcblxuXHRcdFx0YW1pV2ViQXBwLnJlcGxhY2VIVE1MKCcjYW1pX21haW5fY29udGVudCcsIGRhdGFbMF0pLmRvbmUoKCkgPT4ge1xuXG5cdFx0XHRcdC8qKi8gaWYodXNlcmRhdGEgPT09ICdjb25maWcnKSB7XG5cdFx0XHRcdFx0dGhpcy5zdWJzdWJhcHAgPSBuZXcgQWRtaW5EYXNoYm9hcmRDb25maWcoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIGlmKHVzZXJkYXRhID09PSAncm9sZXMnKSB7XG5cdFx0XHRcdFx0dGhpcy5zdWJzdWJhcHAgPSBuZXcgQWRtaW5EYXNoYm9hcmRSb2xlcygpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2UgaWYodXNlcmRhdGEgPT09ICdjb21tYW5kcycpIHtcblx0XHRcdFx0XHR0aGlzLnN1YnN1YmFwcCA9IG5ldyBBZG1pbkRhc2hib2FyZENvbW1hbmRzKCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSBpZih1c2VyZGF0YSA9PT0gJ3VzZXJzJykge1xuXHRcdFx0XHRcdHRoaXMuc3Vic3ViYXBwID0gbmV3IEFkbWluRGFzaGJvYXJkVXNlcnMoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIGlmKHVzZXJkYXRhID09PSAnY2F0YWxvZ3MnKSB7XG5cdFx0XHRcdFx0dGhpcy5zdWJzdWJhcHAgPSBuZXcgQWRtaW5EYXNoYm9hcmRDYXRhbG9ncygpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdHRoaXMuc3Vic3ViYXBwID0gbmV3IEFkbWluRGFzaGJvYXJkSG9tZSgpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhpcy5zdWJzdWJhcHAuX2luaXQoKS5kb25lKCgpID0+IHtcblxuXHRcdFx0XHRcdHJlc3VsdC5yZXNvbHZlKCk7XG5cblx0XHRcdFx0fSkuZmFpbCgoZGF0YSkgPT4ge1xuXG5cdFx0XHRcdFx0cmVzdWx0LnJlamVjdChkYXRhKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblxuXHRcdH0pLmZhaWwoKG1lc3NhZ2UpID0+IHtcblxuXHRcdFx0cmVzdWx0LnJlamVjdChtZXNzYWdlKTtcblx0XHR9KTtcblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRvbkV4aXQ6IGZ1bmN0aW9uKClcblx0e1xuXHRcdGlmKHRoaXMuc3Vic3ViYXBwLm9uRXhpdClcblx0XHR7XG5cdFx0XHRyZXR1cm4gdGhpcy5zdWJzdWJhcHAub25FeGl0KCk7XG5cdFx0fVxuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0b25Mb2dpbjogZnVuY3Rpb24oKVxuXHR7XG5cdFx0aWYoYW1pTG9naW4uaGFzUm9sZSgnQU1JX0FETUlOJykpXG5cdFx0e1xuXHRcdFx0YW1pV2ViQXBwLmZsdXNoKCk7XG5cblx0XHRcdCQoJyNDNTQ0ODVDM180NEY4X0NFOEVfMEY1NF9CRjg0N0NFRUNFMTEnKS5zaG93KCk7XG5cdFx0XHQkKCcjQ0I2MDM2QjdfNTk3MV80MUMyXzExOTRfRjVBMDUxQjIxRUEwJykuc2hvdygpO1xuXG5cdFx0XHRpZih0aGlzLnN1YnN1YmFwcC5vbkxvZ2luKVxuXHRcdFx0e1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5zdWJzdWJhcHAub25Mb2dpbigpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRlbHNlXG5cdFx0e1xuXHRcdFx0dGhpcy5vbkxvZ291dCgpO1xuXHRcdH1cblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdG9uTG9nb3V0OiBmdW5jdGlvbigpXG5cdHtcblx0XHRhbWlXZWJBcHAuZXJyb3IoJ0FkbWluaXN0cmF0b3Igcm9sZXMgcmVxdWlyZWQhJyk7XG5cblx0XHQkKCcjQzU0NDg1QzNfNDRGOF9DRThFXzBGNTRfQkY4NDdDRUVDRTExJykuaGlkZSgpO1xuXHRcdCQoJyNDQjYwMzZCN181OTcxXzQxQzJfMTE5NF9GNUEwNTFCMjFFQTAnKS5oaWRlKCk7XG5cblx0XHRpZih0aGlzLnN1YnN1YmFwcC5vbkxvZ291dClcblx0XHR7XG5cdFx0XHRyZXR1cm4gdGhpcy5zdWJzdWJhcHAub25Mb2dvdXQoKTtcblx0XHR9XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRmaW5kTmV3Q29tbWFuZHM6IGZ1bmN0aW9uKClcblx0e1xuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdGlmKCFjb25maXJtKCdQbGVhc2UgY29uZmlybS4uLicpKVxuXHRcdHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRhbWlXZWJBcHAubG9jaygpO1xuXG5cdFx0YW1pQ29tbWFuZC5leGVjdXRlKCdGaW5kTmV3Q29tbWFuZHMnKS5kb25lKChkYXRhLCBtZXNzYWdlKSA9PiB7XG5cblx0XHRcdGFtaVdlYkFwcC5zdWNjZXNzKG1lc3NhZ2UsIHRydWUpO1xuXG5cdFx0fSkuZmFpbCgoZGF0YSwgbWVzc2FnZSkgPT4ge1xuXG5cdFx0XHRhbWlXZWJBcHAuZXJyb3IobWVzc2FnZSwgdHJ1ZSk7XG5cdFx0fSk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRmbHVzaENvbW1hbmRDYWNoZTogZnVuY3Rpb24oKVxuXHR7XG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0aWYoIWNvbmZpcm0oJ1BsZWFzZSBjb25maXJtLi4uJykpXG5cdFx0e1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdGFtaVdlYkFwcC5sb2NrKCk7XG5cblx0XHRhbWlDb21tYW5kLmV4ZWN1dGUoJ0ZsdXNoQ29tbWFuZENhY2hlJykuZG9uZSgoZGF0YSwgbWVzc2FnZSkgPT4ge1xuXG5cdFx0XHRhbWlXZWJBcHAuc3VjY2VzcyhtZXNzYWdlLCB0cnVlKTtcblxuXHRcdH0pLmZhaWwoKGRhdGEsIG1lc3NhZ2UpID0+IHtcblxuXHRcdFx0YW1pV2ViQXBwLmVycm9yKG1lc3NhZ2UsIHRydWUpO1xuXHRcdH0pO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0Zmx1c2hTZXJ2ZXJDYWNoZXNGYXN0OiBmdW5jdGlvbigpXG5cdHtcblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRpZighY29uZmlybSgnUGxlYXNlIGNvbmZpcm0uLi4nKSlcblx0XHR7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0YW1pV2ViQXBwLmxvY2soKTtcblxuXHRcdGFtaUNvbW1hbmQuZXhlY3V0ZSgnRmx1c2hTZXJ2ZXJDYWNoZXMnKS5kb25lKChkYXRhLCBtZXNzYWdlKSA9PiB7XG5cblx0XHRcdGFtaVdlYkFwcC5zdWNjZXNzKG1lc3NhZ2UsIHRydWUpO1xuXG5cdFx0fSkuZmFpbCgoZGF0YSwgbWVzc2FnZSkgPT4ge1xuXG5cdFx0XHRhbWlXZWJBcHAuZXJyb3IobWVzc2FnZSwgdHJ1ZSk7XG5cdFx0fSk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRmbHVzaFNlcnZlckNhY2hlc1Nsb3c6IGZ1bmN0aW9uKClcblx0e1xuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdGlmKCFjb25maXJtKCdQbGVhc2UgY29uZmlybS4uLicpKVxuXHRcdHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRhbWlXZWJBcHAubG9jaygpO1xuXG5cdFx0YW1pQ29tbWFuZC5leGVjdXRlKCdGbHVzaFNlcnZlckNhY2hlcyAtZnVsbCcpLmRvbmUoKGRhdGEsIG1lc3NhZ2UpID0+IHtcblxuXHRcdFx0YW1pV2ViQXBwLnN1Y2Nlc3MobWVzc2FnZSwgdHJ1ZSk7XG5cblx0XHR9KS5mYWlsKChkYXRhLCBtZXNzYWdlKSA9PiB7XG5cblx0XHRcdGFtaVdlYkFwcC5lcnJvcihtZXNzYWdlLCB0cnVlKTtcblx0XHR9KTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xufSk7XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuLyogR0xPQkFMIElOU1RBTkNFICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuY29uc3QgYWRtaW5EYXNoYm9hcmRBcHAgPSBuZXcgQWRtaW5EYXNoYm9hcmRBcHAoKTtcblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4iXX0=
