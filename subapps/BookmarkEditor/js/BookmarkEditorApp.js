/*!
 * AMI Web Framework
 *
 * Copyright (c) 2014-XXXX The AMI Team / LPSC / CNRS
 *
 * This file must be used under the terms of the CeCILL-C:
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-fr.html
 *
 */$AMIClass("BookmarkEditorApp",{$extends:ami.SubApp,onReady:function onReady(userdata){var result=$.Deferred();amiWebApp.loadResources(["subapps/BookmarkEditor/css/BookmarkEditorApp.css","subapps/BookmarkEditor/twig/BookmarkEditorApp.twig","subapps/BookmarkEditor/twig/input.twig"],{context:this}).done(function(data){amiWebApp.replaceHTML("#ami_main_content",data[1],{context:this}).done(function(){var _this=this;amiWebApp.loadResources(["subapps/UserDashboard/js/jquery-ui.min.js"]).done(function(){$("#ACFE5A3E_2548_59BF_7EBB_32821C900AB1").sortable({start:function start(e,ui){ui.item.ranks1={};$("#ACFE5A3E_2548_59BF_7EBB_32821C900AB1 > div[data-id]").each(function(indx,item){ui.item.ranks1[$(item).attr("data-id")]=indx})},update:function update(e,ui){ui.item.ranks2={};$("#ACFE5A3E_2548_59BF_7EBB_32821C900AB1 > div[data-id]").each(function(indx,item){ui.item.ranks2[$(item).attr("data-id")]=indx});_this.ranks=ui.item.ranks2;_this.swap(ui.item.ranks1,ui.item.ranks2)}});_this.bookmarks={}});result.resolve()})}).fail(function(data){result.reject(data)});return result},onExit:function onExit(){},onLogin:function onLogin(){this.showBookMarkList()},onLogout:function onLogout(){this.showBookMarkList()},showBookMarkList:function showBookMarkList(){this.bookmarks=amiLogin.getBookmarkInfo().reduce(function(map,x){map[x.id]=x;return map});alert(JSON.stringify(this.bookmarks))},swap:function swap(ranks1,ranks2){for(var id in this.bookmarks){if(ranks1[id]!==ranks2[id]){var command="UpdateBookmark -catalog=\"self\" -id=\""+id+"\" -rank=\""+ranks2[id];amiWebApp.lock();amiCommand.execute(command).done(function(){amiWebApp.unlock()}).fail(function(data,message){amiWebApp.error(message,true)})}}},select:function select(id){if(!(id=id.trim())){return}this.selected=id;amiWebApp.lock();$("#CA130E29_BDD4_CC8C_C71C_9472725DFE5A").val(this.bookmarks[id].name);$("#B0ECE244_6128_4BB1_569C_18225330963A").prop("checked",this.bookmarks[id].shared);$("#CC458B68_FE2E_2EDB_D49E_4EC9C9F8AD17").val(this.bookmarks[id].json);amiWebApp.unlock()},clear:function clear(){if(confirm("Please confirm...")==false){return}$("#CA130E29_BDD4_CC8C_C71C_9472725DFE5A").val("");$("#B0ECE244_6128_4BB1_569C_18225330963A").prop("checked",0);$("#CC458B68_FE2E_2EDB_D49E_4EC9C9F8AD17").val("")},save:function save(){var _this2=this;if(!confirm("Please confirm...")){return}var id=this.selected;var name=this._trim($("#CA130E29_BDD4_CC8C_C71C_9472725DFE5A").val());var shared=$("#B0ECE244_6128_4BB1_569C_18225330963A").prop("checked");var json=this._trim($("#CC458B68_FE2E_2EDB_D49E_4EC9C9F8AD17").val());amiWebApp.lock();amiCommand.execute("UpdateBookmark -id=\""+id+"\" -name=\" "+name+" \" -shared=\""+shared+"\" -json=\""+json+"\"",function(){amiLogin.update().done(function(){_this2.showBookMarkList();amiWebApp.success(message,true)}).fail(function(data,message){_this2.showBookMarkList();amiWebApp.error(message,true)})}).fail(function(data,message){_this2.showBookMarkList();amiWebApp.error(message,true)})},remove:function remove(){var _this3=this;if(!confirm("Please confirm...")){return}var id=this.selected;amiWebApp.lock();amiCommand.execute("RemoveBookmark -catalog=\"self\" -id=\""+id+"\"").done(function(data,message){amiLogin.update().done(function(){_this3.showBookMarkList();amiWebApp.success(message,true)}).fail(function(data,message){_this3.showBookMarkList();amiWebApp.error(message,true)})}).fail(function(data,message){_this3.showBookMarkList();amiWebApp.error(message,true)})},_trim:function _trim(s){if(s){return s.trim()}else{return""}}});var bookmarkEditorApp=new BookmarkEditorApp;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkJvb2ttYXJrRWRpdG9yQXBwLmVzNi5qcyJdLCJuYW1lcyI6WyIkQU1JQ2xhc3MiLCIkZXh0ZW5kcyIsImFtaSIsIlN1YkFwcCIsIm9uUmVhZHkiLCJ1c2VyZGF0YSIsInJlc3VsdCIsIiQiLCJEZWZlcnJlZCIsImFtaVdlYkFwcCIsImxvYWRSZXNvdXJjZXMiLCJjb250ZXh0IiwiZG9uZSIsImRhdGEiLCJyZXBsYWNlSFRNTCIsInNvcnRhYmxlIiwic3RhcnQiLCJlIiwidWkiLCJpdGVtIiwicmFua3MxIiwiZWFjaCIsImluZHgiLCJhdHRyIiwidXBkYXRlIiwicmFua3MyIiwicmFua3MiLCJzd2FwIiwiYm9va21hcmtzIiwicmVzb2x2ZSIsImZhaWwiLCJyZWplY3QiLCJvbkV4aXQiLCJvbkxvZ2luIiwic2hvd0Jvb2tNYXJrTGlzdCIsIm9uTG9nb3V0IiwiYW1pTG9naW4iLCJnZXRCb29rbWFya0luZm8iLCJyZWR1Y2UiLCJtYXAiLCJ4IiwiaWQiLCJhbGVydCIsIkpTT04iLCJzdHJpbmdpZnkiLCJjb21tYW5kIiwibG9jayIsImFtaUNvbW1hbmQiLCJleGVjdXRlIiwidW5sb2NrIiwibWVzc2FnZSIsImVycm9yIiwic2VsZWN0IiwidHJpbSIsInNlbGVjdGVkIiwidmFsIiwibmFtZSIsInByb3AiLCJzaGFyZWQiLCJqc29uIiwiY2xlYXIiLCJjb25maXJtIiwic2F2ZSIsIl90cmltIiwic3VjY2VzcyIsInJlbW92ZSIsInMiLCJib29rbWFya0VkaXRvckFwcCIsIkJvb2ttYXJrRWRpdG9yQXBwIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7O0dBYUFBLFNBQVMsQ0FBQyxtQkFBRCxDQUFzQixDQUc5QkMsUUFBUSxDQUFFQyxHQUFHLENBQUNDLE1BSGdCLENBTzlCQyxPQUFPLENBQUUsaUJBQVNDLFFBQVQsQ0FDVCxDQUNDLEdBQUlDLENBQUFBLE1BQU0sQ0FBR0MsQ0FBQyxDQUFDQyxRQUFGLEVBQWIsQ0FFQUMsU0FBUyxDQUFDQyxhQUFWLENBQXdC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Q0F2UjZCLENBMlI5QmEsS0FBSyxDQUFFLGVBQVNHLENBQVQsQ0FDUCxDQUNDLEdBQUdBLENBQUgsQ0FBTSxDQUNMLE1BQU9BLENBQUFBLENBQUMsQ0FBQ2IsSUFBRixFQUNQLENBRkQsSUFHSyxDQUNKLE1BQU8sRUFDUCxDQUNELENBblM2QixDQUF0QixDQUFULENBNFNBLEdBQUljLENBQUFBLGlCQUFpQixDQUFHLEdBQUlDLENBQUFBLGlCQUE1QiIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQU1JIFdlYiBGcmFtZXdvcmtcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtWFhYWCBUaGUgQU1JIFRlYW0gLyBMUFNDIC8gQ05SU1xuICpcbiAqIFRoaXMgZmlsZSBtdXN0IGJlIHVzZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBDZUNJTEwtQzpcbiAqIGh0dHA6Ly93d3cuY2VjaWxsLmluZm8vbGljZW5jZXMvTGljZW5jZV9DZUNJTEwtQ19WMS1lbi5odG1sXG4gKiBodHRwOi8vd3d3LmNlY2lsbC5pbmZvL2xpY2VuY2VzL0xpY2VuY2VfQ2VDSUxMLUNfVjEtZnIuaHRtbFxuICpcbiAqL1xuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuJEFNSUNsYXNzKCdCb29rbWFya0VkaXRvckFwcCcsIHtcblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQkZXh0ZW5kczogYW1pLlN1YkFwcCxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdG9uUmVhZHk6IGZ1bmN0aW9uKHVzZXJkYXRhKVxuXHR7XG5cdFx0bGV0IHJlc3VsdCA9ICQuRGVmZXJyZWQoKTtcblxuXHRcdGFtaVdlYkFwcC5sb2FkUmVzb3VyY2VzKFtcblx0XHRcdCdzdWJhcHBzL0Jvb2ttYXJrRWRpdG9yL2Nzcy9Cb29rbWFya0VkaXRvckFwcC5jc3MnLFxuXHRcdFx0J3N1YmFwcHMvQm9va21hcmtFZGl0b3IvdHdpZy9Cb29rbWFya0VkaXRvckFwcC50d2lnJyxcblx0XHRcdCdzdWJhcHBzL0Jvb2ttYXJrRWRpdG9yL3R3aWcvaW5wdXQudHdpZycsXG5cdFx0XSwge2NvbnRleHQ6IHRoaXN9KS5kb25lKGZ1bmN0aW9uKGRhdGEpIHtcblxuXHRcdFx0YW1pV2ViQXBwLnJlcGxhY2VIVE1MKCcjYW1pX21haW5fY29udGVudCcsIGRhdGFbMV0sIHtjb250ZXh0OiB0aGlzfSkuZG9uZShmdW5jdGlvbigpIHtcblxuXHRcdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRcdGFtaVdlYkFwcC5sb2FkUmVzb3VyY2VzKFtcblx0XHRcdFx0XHQnc3ViYXBwcy9Vc2VyRGFzaGJvYXJkL2pzL2pxdWVyeS11aS5taW4uanMnLFxuXHRcdFx0XHRdKS5kb25lKCgpID0+IHtcblxuXHRcdFx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0XHRcdCQoJyNBQ0ZFNUEzRV8yNTQ4XzU5QkZfN0VCQl8zMjgyMUM5MDBBQjEnKS5zb3J0YWJsZSh7XG5cdFx0XHRcdFx0XHRzdGFydDogKGUsIHVpKSA9PiB7XG5cblx0XHRcdFx0XHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0XHRcdFx0XHR1aS5pdGVtLnJhbmtzMSA9IHt9O1xuXG5cdFx0XHRcdFx0XHRcdCQoJyNBQ0ZFNUEzRV8yNTQ4XzU5QkZfN0VCQl8zMjgyMUM5MDBBQjEgPiBkaXZbZGF0YS1pZF0nKS5lYWNoKChpbmR4LCBpdGVtKSA9PiB7XG5cblx0XHRcdFx0XHRcdFx0XHR1aS5pdGVtLnJhbmtzMVskKGl0ZW0pLmF0dHIoJ2RhdGEtaWQnKV0gPSBpbmR4O1xuXHRcdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHVwZGF0ZTogKGUsIHVpKSA9PiB7XG5cblx0XHRcdFx0XHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0XHRcdFx0XHR1aS5pdGVtLnJhbmtzMiA9IHt9O1xuXG5cdFx0XHRcdFx0XHRcdCQoJyNBQ0ZFNUEzRV8yNTQ4XzU5QkZfN0VCQl8zMjgyMUM5MDBBQjEgPiBkaXZbZGF0YS1pZF0nKS5lYWNoKChpbmR4LCBpdGVtKSA9PiB7XG5cblx0XHRcdFx0XHRcdFx0XHR1aS5pdGVtLnJhbmtzMlskKGl0ZW0pLmF0dHIoJ2RhdGEtaWQnKV0gPSBpbmR4O1xuXHRcdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0XHR0aGlzLnJhbmtzID0gdWkuaXRlbS5yYW5rczI7XG5cblx0XHRcdFx0XHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0XHRcdFx0XHR0aGlzLnN3YXAoXG5cdFx0XHRcdFx0XHRcdFx0dWkuaXRlbS5yYW5rczEsXG5cdFx0XHRcdFx0XHRcdFx0dWkuaXRlbS5yYW5rczJcblx0XHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHR0aGlzLmJvb2ttYXJrcyA9IHt9O1xuXG5cdFx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdHJlc3VsdC5yZXNvbHZlKCk7XG5cdFx0XHR9KTtcblxuXHRcdH0pLmZhaWwoZnVuY3Rpb24oZGF0YSkge1xuXG5cdFx0XHRyZXN1bHQucmVqZWN0KGRhdGEpO1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdG9uRXhpdDogZnVuY3Rpb24oKVxuXHR7XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRvbkxvZ2luOiBmdW5jdGlvbigpXG5cdHtcblx0XHR0aGlzLnNob3dCb29rTWFya0xpc3QoKTtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdG9uTG9nb3V0OiBmdW5jdGlvbigpXG5cdHtcblx0XHR0aGlzLnNob3dCb29rTWFya0xpc3QoKTtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdHNob3dCb29rTWFya0xpc3Q6IGZ1bmN0aW9uKClcbiAgICB7XG5cdFx0dGhpcy5ib29rbWFya3MgPSBhbWlMb2dpbi5nZXRCb29rbWFya0luZm8oKS5yZWR1Y2UoKG1hcCwgeCkgPT4ge1xuXHRcdFx0bWFwW3guaWRdID0geDtcblx0XHRcdHJldHVybiBtYXA7XG5cdFx0fSk7XG5cblx0XHRhbGVydChKU09OLnN0cmluZ2lmeSh0aGlzLmJvb2ttYXJrcykpO1xuICAgIH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRzd2FwOiBmdW5jdGlvbihyYW5rczEsIHJhbmtzMilcblx0e1xuXHRcdGZvcihjb25zdCBpZCBpbiB0aGlzLmJvb2ttYXJrcylcblx0XHR7XG5cdFx0XHRpZihyYW5rczFbaWRdICE9PSByYW5rczJbaWRdKVxuXHRcdFx0e1xuXHRcdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRcdGNvbnN0IGNvbW1hbmQgPSAnVXBkYXRlQm9va21hcmsgLWNhdGFsb2c9XCJzZWxmXCIgLWlkPVwiJyArIGlkICsgJ1wiIC1yYW5rPVwiJyArIHJhbmtzMltpZF07XG5cblx0XHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0XHRhbWlXZWJBcHAubG9jaygpO1xuXG5cdFx0XHRcdGFtaUNvbW1hbmQuZXhlY3V0ZShjb21tYW5kKS5kb25lKCgpID0+IHtcblxuXHRcdFx0XHRcdGFtaVdlYkFwcC51bmxvY2soKTtcblxuXHRcdFx0XHR9KS5mYWlsKChkYXRhLCBtZXNzYWdlKSA9PiB7XG5cblx0XHRcdFx0XHRhbWlXZWJBcHAuZXJyb3IobWVzc2FnZSwgdHJ1ZSk7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0c2VsZWN0OiBmdW5jdGlvbihpZClcblx0e1xuXHRcdGlmKCEoaWQgPSBpZC50cmltKCkpKVxuXHRcdHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLnNlbGVjdGVkID0gaWQ7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRhbWlXZWJBcHAubG9jaygpO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0JCgnI0NBMTMwRTI5X0JERDRfQ0M4Q19DNzFDXzk0NzI3MjVERkU1QScpLnZhbCh0aGlzLmJvb2ttYXJrc1tpZF0ubmFtZSk7XG5cblx0XHQkKCcjQjBFQ0UyNDRfNjEyOF80QkIxXzU2OUNfMTgyMjUzMzA5NjNBJykucHJvcCgnY2hlY2tlZCcsIHRoaXMuYm9va21hcmtzW2lkXS5zaGFyZWQpO1xuXG5cdFx0JCgnI0NDNDU4QjY4X0ZFMkVfMkVEQl9ENDlFXzRFQzlDOUY4QUQxNycpLnZhbCh0aGlzLmJvb2ttYXJrc1tpZF0uanNvbik7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRcdGFtaVdlYkFwcC51bmxvY2soKTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdGNsZWFyOiBmdW5jdGlvbigpXG5cdHtcblx0XHRpZihjb25maXJtKCdQbGVhc2UgY29uZmlybS4uLicpID09IGZhbHNlKVxuXHRcdHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHQkKCcjQ0ExMzBFMjlfQkRENF9DQzhDX0M3MUNfOTQ3MjcyNURGRTVBJykudmFsKCcnKTtcblxuXHRcdCQoJyNCMEVDRTI0NF82MTI4XzRCQjFfNTY5Q18xODIyNTMzMDk2M0EnKS5wcm9wKCdjaGVja2VkJywgMCk7XG5cblx0XHQkKCcjQ0M0NThCNjhfRkUyRV8yRURCX0Q0OUVfNEVDOUM5RjhBRDE3JykudmFsKCcnKTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdHNhdmU6IGZ1bmN0aW9uKClcblx0e1xuXHRcdGlmKCFjb25maXJtKCdQbGVhc2UgY29uZmlybS4uLicpKVxuXHRcdHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRjb25zdCBpZCA9IHRoaXMuc2VsZWN0ZWQ7XG5cdFx0Y29uc3QgbmFtZSA9IHRoaXMuX3RyaW0oJCgnI0NBMTMwRTI5X0JERDRfQ0M4Q19DNzFDXzk0NzI3MjVERkU1QScpLnZhbCgpKTtcblx0XHRjb25zdCBzaGFyZWQgPSAkKCcjQjBFQ0UyNDRfNjEyOF80QkIxXzU2OUNfMTgyMjUzMzA5NjNBJykucHJvcCgnY2hlY2tlZCcpO1xuXHRcdGNvbnN0IGpzb24gPSB0aGlzLl90cmltKCQoJyNDQzQ1OEI2OF9GRTJFXzJFREJfRDQ5RV80RUM5QzlGOEFEMTcnKS52YWwoKSk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRhbWlXZWJBcHAubG9jaygpO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0YW1pQ29tbWFuZC5leGVjdXRlKCdVcGRhdGVCb29rbWFyayAtaWQ9XCInICsgaWQgKyAnXCIgLW5hbWU9XCIgJyArIG5hbWUgKyAnIFwiIC1zaGFyZWQ9XCInICsgc2hhcmVkICsgJ1wiIC1qc29uPVwiJyArIGpzb24gKyAnXCInLCAoKSA9PiB7XG5cblx0XHRcdGFtaUxvZ2luLnVwZGF0ZSgpLmRvbmUoKCkgPT4ge1xuXG5cdFx0XHRcdHRoaXMuc2hvd0Jvb2tNYXJrTGlzdCgpO1xuXG5cdFx0XHRcdGFtaVdlYkFwcC5zdWNjZXNzKG1lc3NhZ2UsIHRydWUpO1xuXG5cdFx0XHR9KS5mYWlsKChkYXRhLCBtZXNzYWdlKSA9PiB7XG5cblx0XHRcdFx0dGhpcy5zaG93Qm9va01hcmtMaXN0KCk7XG5cblx0XHRcdFx0YW1pV2ViQXBwLmVycm9yKG1lc3NhZ2UsIHRydWUpO1xuXHRcdFx0fSk7XG5cblx0XHR9KS5mYWlsKChkYXRhLCBtZXNzYWdlKSA9PiB7XG5cblx0XHRcdHRoaXMuc2hvd0Jvb2tNYXJrTGlzdCgpO1xuXG5cdFx0XHRhbWlXZWJBcHAuZXJyb3IobWVzc2FnZSwgdHJ1ZSk7XG5cdFx0fSk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRyZW1vdmU6IGZ1bmN0aW9uKClcblx0e1xuXHRcdGlmKCFjb25maXJtKCdQbGVhc2UgY29uZmlybS4uLicpKVxuXHRcdHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRjb25zdCBpZCA9IHRoaXMuc2VsZWN0ZWQ7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRhbWlXZWJBcHAubG9jaygpO1xuXG5cdFx0YW1pQ29tbWFuZC5leGVjdXRlKCdSZW1vdmVCb29rbWFyayAtY2F0YWxvZz1cInNlbGZcIiAtaWQ9XCInICsgaWQgKyAnXCInKS5kb25lKChkYXRhLCBtZXNzYWdlKSA9PiB7XG5cblx0XHRcdGFtaUxvZ2luLnVwZGF0ZSgpLmRvbmUoKCkgPT4ge1xuXG5cdFx0XHRcdHRoaXMuc2hvd0Jvb2tNYXJrTGlzdCgpO1xuXG5cdFx0XHRcdGFtaVdlYkFwcC5zdWNjZXNzKG1lc3NhZ2UsIHRydWUpO1xuXG5cdFx0XHR9KS5mYWlsKChkYXRhLCBtZXNzYWdlKSA9PiB7XG5cblx0XHRcdFx0dGhpcy5zaG93Qm9va01hcmtMaXN0KCk7XG5cblx0XHRcdFx0YW1pV2ViQXBwLmVycm9yKG1lc3NhZ2UsIHRydWUpO1xuXHRcdFx0fSk7XG5cblx0XHR9KS5mYWlsKChkYXRhLCBtZXNzYWdlKSA9PiB7XG5cblx0XHRcdHRoaXMuc2hvd0Jvb2tNYXJrTGlzdCgpO1xuXG5cdFx0XHRhbWlXZWJBcHAuZXJyb3IobWVzc2FnZSwgdHJ1ZSk7XG5cdFx0fSk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdF90cmltOiBmdW5jdGlvbihzKVxuXHR7XG5cdFx0aWYocykge1xuXHRcdFx0cmV0dXJuIHMudHJpbSgpO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdHJldHVybiAnJztcblx0XHR9XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbn0pO1xuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbi8qIEdMT0JBTCBJTlNUQU5DRSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbnZhciBib29rbWFya0VkaXRvckFwcCA9IG5ldyBCb29rbWFya0VkaXRvckFwcCgpO1xuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbiJdfQ==
