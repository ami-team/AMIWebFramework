/*!
 * AMI Web Framework
 *
 * Copyright (c) 2014-XXXX The AMI Team / LPSC / CNRS
 *
 * This file must be used under the terms of the CeCILL-C:
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-fr.html
 *
 */$AMIClass("BookmarkEditorApp",{$extends:ami.SubApp,onReady:function onReady(userdata){var _this=this;var result=$.Deferred();amiWebApp.loadResources(["subapps/BookmarkEditor/twig/BookmarkEditorApp.twig","subapps/BookmarkEditor/twig/bookmarks.twig","js/3rd-party/ace/ace.min.js"]).done(function(data){amiWebApp.replaceHTML("#ami_main_content",data[0]).done(function(){amiWebApp.loadResources(["subapps/UserDashboard/js/jquery-ui.min.js"]).done(function(){$("#ACFE5A3E_2548_59BF_7EBB_32821C900AB1").sortable({start:function start(e,ui){ui.item.ranks1={};$("#ACFE5A3E_2548_59BF_7EBB_32821C900AB1 > div[data-id]").each(function(indx,item){ui.item.ranks1[$(item).attr("data-id")]=indx})},update:function update(e,ui){ui.item.ranks2={};$("#ACFE5A3E_2548_59BF_7EBB_32821C900AB1 > div[data-id]").each(function(indx,item){ui.item.ranks2[$(item).attr("data-id")]=indx});_this.ranks=ui.item.ranks2;_this.swap(ui.item.ranks1,ui.item.ranks2)}})});_this.fragmentBookmarks=data[1];_this.setUpdateMode(false);_this.bookmarks={};result.resolve()})}).fail(function(data){result.reject(data)});return result},onLogin:function onLogin(){this.showBookmarkList()},onLogout:function onLogout(){this.showBookmarkList()},_trim:function _trim(s){if(s){return s.trim()}else{return""}},setUpdateMode:function setUpdateMode(updateMode){if(updateMode){$("#FF60636A_49EE_1C5D_BB59_AC077A8999E2").prop("disabled",false);$("#F1814093_A84F_0FC4_4581_699ACA53782F").text("Update")}else{$("#FF60636A_49EE_1C5D_BB59_AC077A8999E2").prop("disabled",true);$("#F1814093_A84F_0FC4_4581_699ACA53782F").text("Add")}},showBookmarkList:function showBookmarkList(){this_bookmarks=[];this.bookmarks={};for(var _i=0,_Object$values=Object.values(amiLogin.getBookmarkInfo());_i<_Object$values.length;_i++){var x=_Object$values[_i];this_bookmarks.push(x);this.bookmarks[x.id]=x}amiWebApp.replaceHTML("#ACFE5A3E_2548_59BF_7EBB_32821C900AB1",this.fragmentBookmarks,{dict:{bookmarks:this_bookmarks}})},_swapNb:0,swap:function swap(ranks1,ranks2){var _this2=this;this._swapNb=Object.keys(this.bookmarks).length;for(var id in this.bookmarks){if(ranks1[id]!==ranks2[id]){amiWebApp.lock();amiCommand.execute("UpdateHash -id=\""+amiWebApp.textToString(id)+"\" -rank=\""+amiWebApp.textToString(ranks2[id])+"\"").done(function(){amiWebApp.unlock()}).fail(function(data,message){amiWebApp.error(message,true)}).always(function(){if(--_this2._swapNb===0){amiLogin.update()}})}else{if(--this._swapNb===0){amiLogin.update()}}}},select:function select(id){if(!(id=id.trim())){return}this.selected=id;$("#CA130E29_BDD4_CC8C_C71C_9472725DFE5A").val(this.bookmarks[id].name);$("#B0ECE244_6128_4BB1_569C_18225330963A").prop("checked",this.bookmarks[id].shared!=="0");$("#CC458B68_FE2E_2EDB_D49E_4EC9C9F8AD17").val(this.bookmarks[id].json);this.setUpdateMode(true)},clear:function clear(checked){if(checked===void 0){checked=true}if(checked&&!confirm("Please confirm...")){return}this.selected=null;$("#CA130E29_BDD4_CC8C_C71C_9472725DFE5A").val("");$("#B0ECE244_6128_4BB1_569C_18225330963A").prop("checked",false);$("#CC458B68_FE2E_2EDB_D49E_4EC9C9F8AD17").val("{}");this.setUpdateMode(false)},save:function save(){var _this3=this;if(!confirm("Please confirm...")){return}var id=this.selected;var name=this._trim($("#CA130E29_BDD4_CC8C_C71C_9472725DFE5A").val());var shared=$("#B0ECE244_6128_4BB1_569C_18225330963A").prop("checked")?"1":"0";var json=this._trim($("#CC458B68_FE2E_2EDB_D49E_4EC9C9F8AD17").val());if(name&&json){var command=(id?"UpdateHash -id=\""+amiWebApp.textToString(id)+"\"":"AddHash")+" -name=\""+amiWebApp.textToString(name)+"\" -shared=\""+amiWebApp.textToString(shared)+"\" -json=\""+amiWebApp.textToString(json)+"\"";amiWebApp.lock();amiCommand.execute(command).done(function(data,message){amiLogin.update().done(function(){_this3.clear(false);_this3.showBookmarkList();amiWebApp.success(message,true)}).fail(function(data,message){_this3.showBookmarkList();amiWebApp.error(message,true)})}).fail(function(data,message){_this3.showBookmarkList();amiWebApp.error(message,true)})}},remove:function remove(){var _this4=this;if(!confirm("Please confirm...")){return}var id=this.selected;if(id){var command="RemoveHash -id=\""+amiWebApp.textToString(id)+"\"";amiWebApp.lock();amiCommand.execute(command).done(function(data,message){amiLogin.update().done(function(){_this4.clear(false);_this4.showBookmarkList();amiWebApp.success(message,true)}).fail(function(data,message){_this4.showBookmarkList();amiWebApp.error(message,true)})}).fail(function(data,message){_this4.showBookmarkList();amiWebApp.error(message,true)})}}});var bookmarkEditorApp=new BookmarkEditorApp;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkJvb2ttYXJrRWRpdG9yQXBwLmVzNi5qcyJdLCJuYW1lcyI6WyIkQU1JQ2xhc3MiLCIkZXh0ZW5kcyIsImFtaSIsIlN1YkFwcCIsIm9uUmVhZHkiLCJ1c2VyZGF0YSIsInJlc3VsdCIsIiQiLCJEZWZlcnJlZCIsImFtaVdlYkFwcCIsImxvYWRSZXNvdXJjZXMiLCJkb25lIiwiZGF0YSIsInJlcGxhY2VIVE1MIiwic29ydGFibGUiLCJzdGFydCIsImUiLCJ1aSIsIml0ZW0iLCJyYW5rczEiLCJlYWNoIiwiaW5keCIsImF0dHIiLCJ1cGRhdGUiLCJyYW5rczIiLCJyYW5rcyIsInN3YXAiLCJmcmFnbWVudEJvb2ttYXJrcyIsInNldFVwZGF0ZU1vZGUiLCJib29rbWFya3MiLCJyZXNvbHZlIiwiZmFpbCIsInJlamVjdCIsIm9uTG9naW4iLCJzaG93Qm9va21hcmtMaXN0Iiwib25Mb2dvdXQiLCJfdHJpbSIsInMiLCJ0cmltIiwidXBkYXRlTW9kZSIsInByb3AiLCJ0ZXh0IiwidGhpc19ib29rbWFya3MiLCJPYmplY3QiLCJ2YWx1ZXMiLCJhbWlMb2dpbiIsImdldEJvb2ttYXJrSW5mbyIsIngiLCJwdXNoIiwiaWQiLCJkaWN0IiwiX3N3YXBOYiIsImtleXMiLCJsZW5ndGgiLCJsb2NrIiwiYW1pQ29tbWFuZCIsImV4ZWN1dGUiLCJ0ZXh0VG9TdHJpbmciLCJ1bmxvY2siLCJtZXNzYWdlIiwiZXJyb3IiLCJhbHdheXMiLCJzZWxlY3QiLCJzZWxlY3RlZCIsInZhbCIsIm5hbWUiLCJzaGFyZWQiLCJqc29uIiwiY2xlYXIiLCJjaGVja2VkIiwiY29uZmlybSIsInNhdmUiLCJjb21tYW5kIiwic3VjY2VzcyIsInJlbW92ZSIsImJvb2ttYXJrRWRpdG9yQXBwIiwiQm9va21hcmtFZGl0b3JBcHAiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7R0FhQUEsU0FBUyxDQUFDLG1CQUFELENBQXNCLENBRzlCQyxRQUFRLENBQUVDLEdBQUcsQ0FBQ0MsTUFIZ0IsQ0FPOUJD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QUtjLFFBQWhCLENBSUEsR0FBR2QsRUFBSCxDQUNBLENBR0MsR0FBTXVCLENBQUFBLE9BQU8sQ0FBRyxvQkFBcUIvRCxTQUFTLENBQUNnRCxZQUFWLENBQXVCUixFQUF2QixDQUFyQixDQUFrRCxJQUFsRSxDQUlBeEMsU0FBUyxDQUFDNkMsSUFBVixHQUVBQyxVQUFVLENBQUNDLE9BQVgsQ0FBbUJnQixPQUFuQixFQUE0QjdELElBQTVCLENBQWlDLFNBQUNDLElBQUQsQ0FBTytDLE9BQVAsQ0FBbUIsQ0FFbkRkLFFBQVEsQ0FBQ3RCLE1BQVQsR0FBa0JaLElBQWxCLENBQXVCLFVBQU0sQ0FFNUIsTUFBSSxDQUFDeUQsS0FBTCxDQUFXLEtBQVgsRUFFQSxNQUFJLENBQUNsQyxnQkFBTCxHQUVBekIsU0FBUyxDQUFDZ0UsT0FBVixDQUFrQmQsT0FBbEIsQ0FBMkIsSUFBM0IsQ0FFQSxDQVJELEVBUUc1QixJQVJILENBUVEsU0FBQ25CLElBQUQsQ0FBTytDLE9BQVAsQ0FBbUIsQ0FFMUIsTUFBSSxDQUFDekIsZ0JBQUwsR0FFQXpCLFNBQVMsQ0FBQ21ELEtBQVYsQ0FBZ0JELE9BQWhCLENBQXlCLElBQXpCLENBQ0EsQ0FiRCxDQWVBLENBakJELEVBaUJHNUIsSUFqQkgsQ0FpQlEsU0FBQ25CLElBQUQsQ0FBTytDLE9BQVAsQ0FBbUIsQ0FFMUIsTUFBSSxDQUFDekIsZ0JBQUwsR0FFQXpCLFNBQVMsQ0FBQ21ELEtBQVYsQ0FBZ0JELE9BQWhCLENBQXlCLElBQXpCLENBQ0EsQ0F0QkQsQ0F5QkEsQ0FHRCxDQXhYNkIsQ0FBdEIsQ0FBVCxDQWlZQSxHQUFNZ0IsQ0FBQUEsaUJBQWlCLENBQUcsR0FBSUMsQ0FBQUEsaUJBQTlCIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBBTUkgV2ViIEZyYW1ld29ya1xuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNC1YWFhYIFRoZSBBTUkgVGVhbSAvIExQU0MgLyBDTlJTXG4gKlxuICogVGhpcyBmaWxlIG11c3QgYmUgdXNlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIENlQ0lMTC1DOlxuICogaHR0cDovL3d3dy5jZWNpbGwuaW5mby9saWNlbmNlcy9MaWNlbmNlX0NlQ0lMTC1DX1YxLWVuLmh0bWxcbiAqIGh0dHA6Ly93d3cuY2VjaWxsLmluZm8vbGljZW5jZXMvTGljZW5jZV9DZUNJTEwtQ19WMS1mci5odG1sXG4gKlxuICovXG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4kQU1JQ2xhc3MoJ0Jvb2ttYXJrRWRpdG9yQXBwJywge1xuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdCRleHRlbmRzOiBhbWkuU3ViQXBwLFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0b25SZWFkeTogZnVuY3Rpb24odXNlcmRhdGEpXG5cdHtcblx0XHRjb25zdCByZXN1bHQgPSAkLkRlZmVycmVkKCk7XG5cblx0XHRhbWlXZWJBcHAubG9hZFJlc291cmNlcyhbXG5cdFx0XHQnc3ViYXBwcy9Cb29rbWFya0VkaXRvci90d2lnL0Jvb2ttYXJrRWRpdG9yQXBwLnR3aWcnLFxuXHRcdFx0J3N1YmFwcHMvQm9va21hcmtFZGl0b3IvdHdpZy9ib29rbWFya3MudHdpZycsXG5cdFx0XHQnanMvM3JkLXBhcnR5L2FjZS9hY2UubWluLmpzJyxcblx0XHRdKS5kb25lKChkYXRhKSA9PiB7XG5cblx0XHRcdGFtaVdlYkFwcC5yZXBsYWNlSFRNTCgnI2FtaV9tYWluX2NvbnRlbnQnLCBkYXRhWzBdKS5kb25lKCgpID0+IHtcblxuXHRcdFx0XHRhbWlXZWJBcHAubG9hZFJlc291cmNlcyhbXG5cdFx0XHRcdFx0J3N1YmFwcHMvVXNlckRhc2hib2FyZC9qcy9qcXVlcnktdWkubWluLmpzJyxcblx0XHRcdFx0XSkuZG9uZSgoKSA9PiB7XG5cblx0XHRcdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRcdFx0XHQkKCcjQUNGRTVBM0VfMjU0OF81OUJGXzdFQkJfMzI4MjFDOTAwQUIxJykuc29ydGFibGUoe1xuXG5cdFx0XHRcdFx0XHRzdGFydDogKGUsIHVpKSA9PiB7XG5cblx0XHRcdFx0XHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0XHRcdFx0XHR1aS5pdGVtLnJhbmtzMSA9IHt9O1xuXG5cdFx0XHRcdFx0XHRcdCQoJyNBQ0ZFNUEzRV8yNTQ4XzU5QkZfN0VCQl8zMjgyMUM5MDBBQjEgPiBkaXZbZGF0YS1pZF0nKS5lYWNoKChpbmR4LCBpdGVtKSA9PiB7XG5cblx0XHRcdFx0XHRcdFx0XHR1aS5pdGVtLnJhbmtzMVskKGl0ZW0pLmF0dHIoJ2RhdGEtaWQnKV0gPSBpbmR4O1xuXHRcdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHVwZGF0ZTogKGUsIHVpKSA9PiB7XG5cblx0XHRcdFx0XHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0XHRcdFx0XHR1aS5pdGVtLnJhbmtzMiA9IHt9O1xuXG5cdFx0XHRcdFx0XHRcdCQoJyNBQ0ZFNUEzRV8yNTQ4XzU5QkZfN0VCQl8zMjgyMUM5MDBBQjEgPiBkaXZbZGF0YS1pZF0nKS5lYWNoKChpbmR4LCBpdGVtKSA9PiB7XG5cblx0XHRcdFx0XHRcdFx0XHR1aS5pdGVtLnJhbmtzMlskKGl0ZW0pLmF0dHIoJ2RhdGEtaWQnKV0gPSBpbmR4O1xuXHRcdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRcdFx0XHRcdHRoaXMucmFua3MgPSB1aS5pdGVtLnJhbmtzMjtcblxuXHRcdFx0XHRcdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRcdFx0XHRcdHRoaXMuc3dhcChcblx0XHRcdFx0XHRcdFx0XHR1aS5pdGVtLnJhbmtzMSxcblx0XHRcdFx0XHRcdFx0XHR1aS5pdGVtLnJhbmtzMlxuXHRcdFx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdFx0XHRcdFx0XHR9LFxuXG5cdFx0XHRcdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0dGhpcy5mcmFnbWVudEJvb2ttYXJrcyA9IGRhdGFbMV07XG5cblx0XHRcdFx0dGhpcy5zZXRVcGRhdGVNb2RlKGZhbHNlKTtcblxuXHRcdFx0XHR0aGlzLmJvb2ttYXJrcyA9IHt9O1xuXG5cdFx0XHRcdHJlc3VsdC5yZXNvbHZlKCk7XG5cdFx0XHR9KTtcblxuXHRcdH0pLmZhaWwoZnVuY3Rpb24oZGF0YSkge1xuXG5cdFx0XHRyZXN1bHQucmVqZWN0KGRhdGEpO1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdG9uTG9naW46IGZ1bmN0aW9uKClcblx0e1xuXHRcdHRoaXMuc2hvd0Jvb2ttYXJrTGlzdCgpO1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0b25Mb2dvdXQ6IGZ1bmN0aW9uKClcblx0e1xuXHRcdHRoaXMuc2hvd0Jvb2ttYXJrTGlzdCgpO1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0X3RyaW06IGZ1bmN0aW9uKHMpXG5cdHtcblx0XHRpZihzKSB7XG5cdFx0XHRyZXR1cm4gcy50cmltKCk7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0cmV0dXJuICcnO1xuXHRcdH1cblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdHNldFVwZGF0ZU1vZGU6IGZ1bmN0aW9uKHVwZGF0ZU1vZGUpXG5cdHtcblx0XHRpZih1cGRhdGVNb2RlKVxuXHRcdHtcblx0XHRcdCQoJyNGRjYwNjM2QV80OUVFXzFDNURfQkI1OV9BQzA3N0E4OTk5RTInKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcblxuXHRcdFx0JCgnI0YxODE0MDkzX0E4NEZfMEZDNF80NTgxXzY5OUFDQTUzNzgyRicpLnRleHQoJ1VwZGF0ZScpO1xuXHRcdH1cblx0XHRlbHNlXG5cdFx0e1xuXHRcdFx0JCgnI0ZGNjA2MzZBXzQ5RUVfMUM1RF9CQjU5X0FDMDc3QTg5OTlFMicpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG5cblx0XHRcdCQoJyNGMTgxNDA5M19BODRGXzBGQzRfNDU4MV82OTlBQ0E1Mzc4MkYnKS50ZXh0KCdBZGQnKTtcbiAgICAgICAgfVxuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0c2hvd0Jvb2ttYXJrTGlzdDogZnVuY3Rpb24oKVxuICAgIHtcbiAgICBcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdHRoaXNfYm9va21hcmtzID0gW107XG5cblx0XHR0aGlzLmJvb2ttYXJrcyA9IHt9O1xuXG5cdFx0Zm9yKGNvbnN0IHggb2YgT2JqZWN0LnZhbHVlcyhhbWlMb2dpbi5nZXRCb29rbWFya0luZm8oKSkpXG5cdFx0e1xuXHRcdFx0dGhpc19ib29rbWFya3MucHVzaCh4KTtcblxuXHRcdFx0dGhpcy5ib29rbWFya3NbeC5pZF0gPSB4O1xuICAgICAgICB9XG5cbiAgICBcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdGFtaVdlYkFwcC5yZXBsYWNlSFRNTCgnI0FDRkU1QTNFXzI1NDhfNTlCRl83RUJCXzMyODIxQzkwMEFCMScsIHRoaXMuZnJhZ21lbnRCb29rbWFya3MsIHtkaWN0OiB7Ym9va21hcmtzOiB0aGlzX2Jvb2ttYXJrc319KTtcblxuICAgIFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuICAgIH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRfc3dhcE5iOiAwLFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0c3dhcDogZnVuY3Rpb24ocmFua3MxLCByYW5rczIpXG5cdHtcblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHR0aGlzLl9zd2FwTmIgPSBPYmplY3Qua2V5cyh0aGlzLmJvb2ttYXJrcykubGVuZ3RoO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0Zm9yKGNvbnN0IGlkIGluIHRoaXMuYm9va21hcmtzKVxuXHRcdHtcblx0XHRcdGlmKHJhbmtzMVtpZF0gIT09IHJhbmtzMltpZF0pXG5cdFx0XHR7XG5cdFx0XHRcdGFtaVdlYkFwcC5sb2NrKCk7XG5cblx0XHRcdFx0YW1pQ29tbWFuZC5leGVjdXRlKCdVcGRhdGVIYXNoIC1pZD1cIicgKyBhbWlXZWJBcHAudGV4dFRvU3RyaW5nKGlkKSArICdcIiAtcmFuaz1cIicgKyBhbWlXZWJBcHAudGV4dFRvU3RyaW5nKHJhbmtzMltpZF0pICsgJ1wiJykuZG9uZSgoKSA9PiB7XG5cblx0XHRcdFx0XHRhbWlXZWJBcHAudW5sb2NrKCk7XG5cblx0XHRcdFx0fSkuZmFpbCgoZGF0YSwgbWVzc2FnZSkgPT4ge1xuXG5cdFx0XHRcdFx0YW1pV2ViQXBwLmVycm9yKG1lc3NhZ2UsIHRydWUpO1xuXG5cdFx0XHRcdH0pLmFsd2F5cygoKSA9PiB7XG5cblx0XHRcdFx0XHRpZigtLXRoaXMuX3N3YXBOYiA9PT0gMClcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRhbWlMb2dpbi51cGRhdGUoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZVxuXHRcdFx0e1xuXHRcdFx0XHRpZigtLXRoaXMuX3N3YXBOYiA9PT0gMClcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGFtaUxvZ2luLnVwZGF0ZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0c2VsZWN0OiBmdW5jdGlvbihpZClcblx0e1xuXHRcdGlmKCEoaWQgPSBpZC50cmltKCkpKVxuXHRcdHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHR0aGlzLnNlbGVjdGVkID0gaWQ7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHQkKCcjQ0ExMzBFMjlfQkRENF9DQzhDX0M3MUNfOTQ3MjcyNURGRTVBJykudmFsKHRoaXMuYm9va21hcmtzW2lkXS5uYW1lKTtcblxuXHRcdCQoJyNCMEVDRTI0NF82MTI4XzRCQjFfNTY5Q18xODIyNTMzMDk2M0EnKS5wcm9wKCdjaGVja2VkJywgdGhpcy5ib29rbWFya3NbaWRdLnNoYXJlZCAhPT0gJzAnKTtcblxuXHRcdCQoJyNDQzQ1OEI2OF9GRTJFXzJFREJfRDQ5RV80RUM5QzlGOEFEMTcnKS52YWwodGhpcy5ib29rbWFya3NbaWRdLmpzb24pO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0dGhpcy5zZXRVcGRhdGVNb2RlKHRydWUpO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0Y2xlYXI6IGZ1bmN0aW9uKGNoZWNrZWQgPSB0cnVlKVxuXHR7XG5cdFx0aWYoY2hlY2tlZCAmJiAhY29uZmlybSgnUGxlYXNlIGNvbmZpcm0uLi4nKSlcblx0XHR7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0dGhpcy5zZWxlY3RlZCA9IG51bGw7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHQkKCcjQ0ExMzBFMjlfQkRENF9DQzhDX0M3MUNfOTQ3MjcyNURGRTVBJykudmFsKCcnKTtcblxuXHRcdCQoJyNCMEVDRTI0NF82MTI4XzRCQjFfNTY5Q18xODIyNTMzMDk2M0EnKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xuXG5cdFx0JCgnI0NDNDU4QjY4X0ZFMkVfMkVEQl9ENDlFXzRFQzlDOUY4QUQxNycpLnZhbCgne30nKTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdHRoaXMuc2V0VXBkYXRlTW9kZShmYWxzZSk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRzYXZlOiBmdW5jdGlvbigpXG5cdHtcblx0XHRpZighY29uZmlybSgnUGxlYXNlIGNvbmZpcm0uLi4nKSlcblx0XHR7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0Y29uc3QgaWQgPSB0aGlzLnNlbGVjdGVkO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0Y29uc3QgbmFtZSA9IHRoaXMuX3RyaW0oJCgnI0NBMTMwRTI5X0JERDRfQ0M4Q19DNzFDXzk0NzI3MjVERkU1QScpLnZhbCgpKTtcblxuXHRcdGNvbnN0IHNoYXJlZCA9ICQoJyNCMEVDRTI0NF82MTI4XzRCQjFfNTY5Q18xODIyNTMzMDk2M0EnKS5wcm9wKCdjaGVja2VkJykgPyAnMScgOiAnMCc7XG5cblx0XHRjb25zdCBqc29uID0gdGhpcy5fdHJpbSgkKCcjQ0M0NThCNjhfRkUyRV8yRURCX0Q0OUVfNEVDOUM5RjhBRDE3JykudmFsKCkpO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0aWYobmFtZSAmJiBqc29uKVxuXHRcdHtcblx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRjb25zdCBjb21tYW5kID0gKGlkID8gJ1VwZGF0ZUhhc2ggLWlkPVwiJyArIGFtaVdlYkFwcC50ZXh0VG9TdHJpbmcoaWQpICsgJ1wiJyA6ICdBZGRIYXNoJykgKyAnIC1uYW1lPVwiJyArIGFtaVdlYkFwcC50ZXh0VG9TdHJpbmcobmFtZSkgKyAnXCIgLXNoYXJlZD1cIicgKyBhbWlXZWJBcHAudGV4dFRvU3RyaW5nKHNoYXJlZCkgKyAnXCIgLWpzb249XCInICsgYW1pV2ViQXBwLnRleHRUb1N0cmluZyhqc29uKSArICdcIic7XG5cblx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRhbWlXZWJBcHAubG9jaygpO1xuXG5cdFx0XHRhbWlDb21tYW5kLmV4ZWN1dGUoY29tbWFuZCkuZG9uZSgoZGF0YSwgbWVzc2FnZSkgPT4ge1xuXG5cdFx0XHRcdGFtaUxvZ2luLnVwZGF0ZSgpLmRvbmUoKCkgPT4ge1xuXG5cdFx0XHRcdFx0dGhpcy5jbGVhcihmYWxzZSk7XG5cblx0XHRcdFx0XHR0aGlzLnNob3dCb29rbWFya0xpc3QoKTtcblxuXHRcdFx0XHRcdGFtaVdlYkFwcC5zdWNjZXNzKG1lc3NhZ2UsIHRydWUpO1xuXG5cdFx0XHRcdH0pLmZhaWwoKGRhdGEsIG1lc3NhZ2UpID0+IHtcblxuXHRcdFx0XHRcdHRoaXMuc2hvd0Jvb2ttYXJrTGlzdCgpO1xuXG5cdFx0XHRcdFx0YW1pV2ViQXBwLmVycm9yKG1lc3NhZ2UsIHRydWUpO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0fSkuZmFpbCgoZGF0YSwgbWVzc2FnZSkgPT4ge1xuXG5cdFx0XHRcdHRoaXMuc2hvd0Jvb2ttYXJrTGlzdCgpO1xuXG5cdFx0XHRcdGFtaVdlYkFwcC5lcnJvcihtZXNzYWdlLCB0cnVlKTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0XHR9XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRyZW1vdmU6IGZ1bmN0aW9uKClcblx0e1xuXHRcdGlmKCFjb25maXJtKCdQbGVhc2UgY29uZmlybS4uLicpKVxuXHRcdHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRjb25zdCBpZCA9IHRoaXMuc2VsZWN0ZWQ7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRpZihpZClcblx0XHR7XG5cdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0Y29uc3QgY29tbWFuZCA9ICdSZW1vdmVIYXNoIC1pZD1cIicgKyBhbWlXZWJBcHAudGV4dFRvU3RyaW5nKGlkKSArICdcIic7XG5cblx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRhbWlXZWJBcHAubG9jaygpO1xuXG5cdFx0XHRhbWlDb21tYW5kLmV4ZWN1dGUoY29tbWFuZCkuZG9uZSgoZGF0YSwgbWVzc2FnZSkgPT4ge1xuXG5cdFx0XHRcdGFtaUxvZ2luLnVwZGF0ZSgpLmRvbmUoKCkgPT4ge1xuXG5cdFx0XHRcdFx0dGhpcy5jbGVhcihmYWxzZSk7XG5cblx0XHRcdFx0XHR0aGlzLnNob3dCb29rbWFya0xpc3QoKTtcblxuXHRcdFx0XHRcdGFtaVdlYkFwcC5zdWNjZXNzKG1lc3NhZ2UsIHRydWUpO1xuXG5cdFx0XHRcdH0pLmZhaWwoKGRhdGEsIG1lc3NhZ2UpID0+IHtcblxuXHRcdFx0XHRcdHRoaXMuc2hvd0Jvb2ttYXJrTGlzdCgpO1xuXG5cdFx0XHRcdFx0YW1pV2ViQXBwLmVycm9yKG1lc3NhZ2UsIHRydWUpO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0fSkuZmFpbCgoZGF0YSwgbWVzc2FnZSkgPT4ge1xuXG5cdFx0XHRcdHRoaXMuc2hvd0Jvb2ttYXJrTGlzdCgpO1xuXG5cdFx0XHRcdGFtaVdlYkFwcC5lcnJvcihtZXNzYWdlLCB0cnVlKTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0XHR9XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbn0pO1xuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbi8qIEdMT0JBTCBJTlNUQU5DRSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmNvbnN0IGJvb2ttYXJrRWRpdG9yQXBwID0gbmV3IEJvb2ttYXJrRWRpdG9yQXBwKCk7XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuIl19
