/*!
 * AMI Web Framework
 *
 * Copyright (c) 2014-XXXX The AMI Team / LPSC / CNRS
 *
 * This file must be used under the terms of the CeCILL-C:
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-fr.html
 *
 */$AMIClass("BookmarkEditorApp",{$extends:ami.SubApp,onReady:function onReady(userdata){var _this=this;var result=$.Deferred();amiWebApp.loadResources(["subapps/BookmarkEditor/twig/BookmarkEditorApp.twig","subapps/BookmarkEditor/twig/bookmarks.twig","js/3rd-party/ace/ace.min.js"]).done(function(data){amiWebApp.replaceHTML("#ami_main_content",data[0]).done(function(){amiWebApp.loadResources(["subapps/UserDashboard/js/jquery-ui.min.js"]).done(function(){$("#ACFE5A3E_2548_59BF_7EBB_32821C900AB1").sortable({start:function start(e,ui){ui.item.ranks1={};$("#ACFE5A3E_2548_59BF_7EBB_32821C900AB1 > div[data-id]").each(function(indx,item){ui.item.ranks1[$(item).attr("data-id")]=indx})},update:function update(e,ui){ui.item.ranks2={};$("#ACFE5A3E_2548_59BF_7EBB_32821C900AB1 > div[data-id]").each(function(indx,item){ui.item.ranks2[$(item).attr("data-id")]=indx});_this.ranks=ui.item.ranks2;_this.swap(ui.item.ranks1,ui.item.ranks2)}})});_this.fragmentBookmarks=data[1];_this.setUpdateMode(false);_this.bookmarks={};result.resolve()})}).fail(function(data){result.reject(data)});return result},onLogin:function onLogin(){this.showBookmarkList()},onLogout:function onLogout(){this.showBookmarkList()},_trim:function _trim(s){if(s){return s.trim()}else{return""}},setUpdateMode:function setUpdateMode(updateMode){if(updateMode){$("#FF60636A_49EE_1C5D_BB59_AC077A8999E2").prop("disabled",false);$("#F1814093_A84F_0FC4_4581_699ACA53782F").text("Update")}else{$("#FF60636A_49EE_1C5D_BB59_AC077A8999E2").prop("disabled",true);$("#F1814093_A84F_0FC4_4581_699ACA53782F").text("Add")}},showBookmarkList:function showBookmarkList(){var this_bookmarks=[];this.bookmarks={};for(var _i=0,_Object$values=Object.values(amiLogin.getBookmarkInfo());_i<_Object$values.length;_i++){var x=_Object$values[_i];this_bookmarks.push(x);this.bookmarks[x.id]=x}amiWebApp.replaceHTML("#ACFE5A3E_2548_59BF_7EBB_32821C900AB1",this.fragmentBookmarks,{dict:{bookmarks:this_bookmarks}})},_swapNb:0,swap:function swap(ranks1,ranks2){var _this2=this;this._swapNb=Object.keys(this.bookmarks).length;for(var id in this.bookmarks){if(ranks1[id]!==ranks2[id]){amiWebApp.lock();amiCommand.execute("UpdateHash -id=\""+amiWebApp.textToString(id)+"\" -rank=\""+ranks2[id].toString()+"\"").done(function(){amiWebApp.unlock()}).fail(function(data,message){amiWebApp.error(message,true)}).always(function(){if(--_this2._swapNb===0){amiLogin.update()}})}else{if(--this._swapNb===0){amiLogin.update()}}}},select:function select(id){if(!(id=id.trim())){return}this.selected=id;$("#CA130E29_BDD4_CC8C_C71C_9472725DFE5A").val(this.bookmarks[id].name);$("#B0ECE244_6128_4BB1_569C_18225330963A").prop("checked",this.bookmarks[id].shared!=="0");$("#CC458B68_FE2E_2EDB_D49E_4EC9C9F8AD17").val(this.bookmarks[id].json);this.setUpdateMode(true)},clear:function clear(checked){if(checked===void 0){checked=true}if(checked&&!confirm("Please confirm...")){return}this.selected=null;$("#CA130E29_BDD4_CC8C_C71C_9472725DFE5A").val("");$("#B0ECE244_6128_4BB1_569C_18225330963A").prop("checked",false);$("#CC458B68_FE2E_2EDB_D49E_4EC9C9F8AD17").val("{}");this.setUpdateMode(false)},save:function save(){var _this3=this;if(!confirm("Please confirm...")){return}var id=this.selected;var name=this._trim($("#CA130E29_BDD4_CC8C_C71C_9472725DFE5A").val());var shared=$("#B0ECE244_6128_4BB1_569C_18225330963A").prop("checked")?"1":"0";var json=this._trim($("#CC458B68_FE2E_2EDB_D49E_4EC9C9F8AD17").val());if(name&&json){var command=(id?"UpdateHash -id=\""+amiWebApp.textToString(id)+"\"":"AddHash")+" -name=\""+amiWebApp.textToString(name)+"\" -shared=\""+amiWebApp.textToString(shared)+"\" -json=\""+amiWebApp.textToString(json)+"\"";amiWebApp.lock();amiCommand.execute(command).done(function(data,message){amiLogin.update().done(function(){_this3.clear(false);_this3.showBookmarkList();amiWebApp.success(message,true)}).fail(function(data,message){_this3.showBookmarkList();amiWebApp.error(message,true)})}).fail(function(data,message){_this3.showBookmarkList();amiWebApp.error(message,true)})}},remove:function remove(){var _this4=this;if(!confirm("Please confirm...")){return}var id=this.selected;if(id){var command="RemoveHash -id=\""+amiWebApp.textToString(id)+"\"";amiWebApp.lock();amiCommand.execute(command).done(function(data,message){amiLogin.update().done(function(){_this4.clear(false);_this4.showBookmarkList();amiWebApp.success(message,true)}).fail(function(data,message){_this4.showBookmarkList();amiWebApp.error(message,true)})}).fail(function(data,message){_this4.showBookmarkList();amiWebApp.error(message,true)})}}});var bookmarkEditorApp=new BookmarkEditorApp;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkJvb2ttYXJrRWRpdG9yQXBwLmVzNi5qcyJdLCJuYW1lcyI6WyIkQU1JQ2xhc3MiLCIkZXh0ZW5kcyIsImFtaSIsIlN1YkFwcCIsIm9uUmVhZHkiLCJ1c2VyZGF0YSIsInJlc3VsdCIsIiQiLCJEZWZlcnJlZCIsImFtaVdlYkFwcCIsImxvYWRSZXNvdXJjZXMiLCJkb25lIiwiZGF0YSIsInJlcGxhY2VIVE1MIiwic29ydGFibGUiLCJzdGFydCIsImUiLCJ1aSIsIml0ZW0iLCJyYW5rczEiLCJlYWNoIiwiaW5keCIsImF0dHIiLCJ1cGRhdGUiLCJyYW5rczIiLCJyYW5rcyIsInN3YXAiLCJmcmFnbWVudEJvb2ttYXJrcyIsInNldFVwZGF0ZU1vZGUiLCJib29rbWFya3MiLCJyZXNvbHZlIiwiZmFpbCIsInJlamVjdCIsIm9uTG9naW4iLCJzaG93Qm9va21hcmtMaXN0Iiwib25Mb2dvdXQiLCJfdHJpbSIsInMiLCJ0cmltIiwidXBkYXRlTW9kZSIsInByb3AiLCJ0ZXh0IiwidGhpc19ib29rbWFya3MiLCJPYmplY3QiLCJ2YWx1ZXMiLCJhbWlMb2dpbiIsImdldEJvb2ttYXJrSW5mbyIsIngiLCJwdXNoIiwiaWQiLCJkaWN0IiwiX3N3YXBOYiIsImtleXMiLCJsZW5ndGgiLCJsb2NrIiwiYW1pQ29tbWFuZCIsImV4ZWN1dGUiLCJ0ZXh0VG9TdHJpbmciLCJ0b1N0cmluZyIsInVubG9jayIsIm1lc3NhZ2UiLCJlcnJvciIsImFsd2F5cyIsInNlbGVjdCIsInNlbGVjdGVkIiwidmFsIiwibmFtZSIsInNoYXJlZCIsImpzb24iLCJjbGVhciIsImNoZWNrZWQiLCJjb25maXJtIiwic2F2ZSIsImNvbW1hbmQiLCJzdWNjZXNzIiwicmVtb3ZlIiwiYm9va21hcmtFZGl0b3JBcHAiLCJCb29rbWFya0VkaXRvckFwcCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7OztHQWFBQSxTQUFTLENBQUMsbUJBQUQsQ0FBc0IsQ0FHOUJDLFFBQVEsQ0FBRUMsR0FBRyxDQUFDQyxN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Q0FBRyxLQUFLZSxRQUFoQixDQUlBLEdBQUdmLEVBQUgsQ0FDQSxDQUdDLEdBQU13QixDQUFBQSxPQUFPLENBQUcsb0JBQXFCaEUsU0FBUyxDQUFDZ0QsWUFBVixDQUF1QlIsRUFBdkIsQ0FBckIsQ0FBa0QsSUFBbEUsQ0FJQXhDLFNBQVMsQ0FBQzZDLElBQVYsR0FFQUMsVUFBVSxDQUFDQyxPQUFYLENBQW1CaUIsT0FBbkIsRUFBNEI5RCxJQUE1QixDQUFpQyxTQUFDQyxJQUFELENBQU9nRCxPQUFQLENBQW1CLENBRW5EZixRQUFRLENBQUN0QixNQUFULEdBQWtCWixJQUFsQixDQUF1QixVQUFNLENBRTVCLE1BQUksQ0FBQzBELEtBQUwsQ0FBVyxLQUFYLEVBRUEsTUFBSSxDQUFDbkMsZ0JBQUwsR0FFQXpCLFNBQVMsQ0FBQ2lFLE9BQVYsQ0FBa0JkLE9BQWxCLENBQTJCLElBQTNCLENBRUEsQ0FSRCxFQVFHN0IsSUFSSCxDQVFRLFNBQUNuQixJQUFELENBQU9nRCxPQUFQLENBQW1CLENBRTFCLE1BQUksQ0FBQzFCLGdCQUFMLEdBRUF6QixTQUFTLENBQUNvRCxLQUFWLENBQWdCRCxPQUFoQixDQUF5QixJQUF6QixDQUNBLENBYkQsQ0FlQSxDQWpCRCxFQWlCRzdCLElBakJILENBaUJRLFNBQUNuQixJQUFELENBQU9nRCxPQUFQLENBQW1CLENBRTFCLE1BQUksQ0FBQzFCLGdCQUFMLEdBRUF6QixTQUFTLENBQUNvRCxLQUFWLENBQWdCRCxPQUFoQixDQUF5QixJQUF6QixDQUNBLENBdEJELENBeUJBLENBR0QsQ0F4WDZCLENBQXRCLENBQVQsQ0FpWUEsR0FBTWdCLENBQUFBLGlCQUFpQixDQUFHLEdBQUlDLENBQUFBLGlCQUE5QiIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQU1JIFdlYiBGcmFtZXdvcmtcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtWFhYWCBUaGUgQU1JIFRlYW0gLyBMUFNDIC8gQ05SU1xuICpcbiAqIFRoaXMgZmlsZSBtdXN0IGJlIHVzZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBDZUNJTEwtQzpcbiAqIGh0dHA6Ly93d3cuY2VjaWxsLmluZm8vbGljZW5jZXMvTGljZW5jZV9DZUNJTEwtQ19WMS1lbi5odG1sXG4gKiBodHRwOi8vd3d3LmNlY2lsbC5pbmZvL2xpY2VuY2VzL0xpY2VuY2VfQ2VDSUxMLUNfVjEtZnIuaHRtbFxuICpcbiAqL1xuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuJEFNSUNsYXNzKCdCb29rbWFya0VkaXRvckFwcCcsIHtcblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQkZXh0ZW5kczogYW1pLlN1YkFwcCxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdG9uUmVhZHk6IGZ1bmN0aW9uKHVzZXJkYXRhKVxuXHR7XG5cdFx0Y29uc3QgcmVzdWx0ID0gJC5EZWZlcnJlZCgpO1xuXG5cdFx0YW1pV2ViQXBwLmxvYWRSZXNvdXJjZXMoW1xuXHRcdFx0J3N1YmFwcHMvQm9va21hcmtFZGl0b3IvdHdpZy9Cb29rbWFya0VkaXRvckFwcC50d2lnJyxcblx0XHRcdCdzdWJhcHBzL0Jvb2ttYXJrRWRpdG9yL3R3aWcvYm9va21hcmtzLnR3aWcnLFxuXHRcdFx0J2pzLzNyZC1wYXJ0eS9hY2UvYWNlLm1pbi5qcycsXG5cdFx0XSkuZG9uZSgoZGF0YSkgPT4ge1xuXG5cdFx0XHRhbWlXZWJBcHAucmVwbGFjZUhUTUwoJyNhbWlfbWFpbl9jb250ZW50JywgZGF0YVswXSkuZG9uZSgoKSA9PiB7XG5cblx0XHRcdFx0YW1pV2ViQXBwLmxvYWRSZXNvdXJjZXMoW1xuXHRcdFx0XHRcdCdzdWJhcHBzL1VzZXJEYXNoYm9hcmQvanMvanF1ZXJ5LXVpLm1pbi5qcycsXG5cdFx0XHRcdF0pLmRvbmUoKCkgPT4ge1xuXG5cdFx0XHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRcdFx0JCgnI0FDRkU1QTNFXzI1NDhfNTlCRl83RUJCXzMyODIxQzkwMEFCMScpLnNvcnRhYmxlKHtcblxuXHRcdFx0XHRcdFx0c3RhcnQ6IChlLCB1aSkgPT4ge1xuXG5cdFx0XHRcdFx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRcdFx0XHRcdFx0dWkuaXRlbS5yYW5rczEgPSB7fTtcblxuXHRcdFx0XHRcdFx0XHQkKCcjQUNGRTVBM0VfMjU0OF81OUJGXzdFQkJfMzI4MjFDOTAwQUIxID4gZGl2W2RhdGEtaWRdJykuZWFjaCgoaW5keCwgaXRlbSkgPT4ge1xuXG5cdFx0XHRcdFx0XHRcdFx0dWkuaXRlbS5yYW5rczFbJChpdGVtKS5hdHRyKCdkYXRhLWlkJyldID0gaW5keDtcblx0XHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHR1cGRhdGU6IChlLCB1aSkgPT4ge1xuXG5cdFx0XHRcdFx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRcdFx0XHRcdFx0dWkuaXRlbS5yYW5rczIgPSB7fTtcblxuXHRcdFx0XHRcdFx0XHQkKCcjQUNGRTVBM0VfMjU0OF81OUJGXzdFQkJfMzI4MjFDOTAwQUIxID4gZGl2W2RhdGEtaWRdJykuZWFjaCgoaW5keCwgaXRlbSkgPT4ge1xuXG5cdFx0XHRcdFx0XHRcdFx0dWkuaXRlbS5yYW5rczJbJChpdGVtKS5hdHRyKCdkYXRhLWlkJyldID0gaW5keDtcblx0XHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0XHRcdFx0XHR0aGlzLnJhbmtzID0gdWkuaXRlbS5yYW5rczI7XG5cblx0XHRcdFx0XHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0XHRcdFx0XHR0aGlzLnN3YXAoXG5cdFx0XHRcdFx0XHRcdFx0dWkuaXRlbS5yYW5rczEsXG5cdFx0XHRcdFx0XHRcdFx0dWkuaXRlbS5yYW5rczJcblx0XHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHRcdFx0XHRcdFx0fSxcblxuXHRcdFx0XHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdHRoaXMuZnJhZ21lbnRCb29rbWFya3MgPSBkYXRhWzFdO1xuXG5cdFx0XHRcdHRoaXMuc2V0VXBkYXRlTW9kZShmYWxzZSk7XG5cblx0XHRcdFx0dGhpcy5ib29rbWFya3MgPSB7fTtcblxuXHRcdFx0XHRyZXN1bHQucmVzb2x2ZSgpO1xuXHRcdFx0fSk7XG5cblx0XHR9KS5mYWlsKGZ1bmN0aW9uKGRhdGEpIHtcblxuXHRcdFx0cmVzdWx0LnJlamVjdChkYXRhKTtcblx0XHR9KTtcblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRvbkxvZ2luOiBmdW5jdGlvbigpXG5cdHtcblx0XHR0aGlzLnNob3dCb29rbWFya0xpc3QoKTtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdG9uTG9nb3V0OiBmdW5jdGlvbigpXG5cdHtcblx0XHR0aGlzLnNob3dCb29rbWFya0xpc3QoKTtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdF90cmltOiBmdW5jdGlvbihzKVxuXHR7XG5cdFx0aWYocykge1xuXHRcdFx0cmV0dXJuIHMudHJpbSgpO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdHJldHVybiAnJztcblx0XHR9XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRzZXRVcGRhdGVNb2RlOiBmdW5jdGlvbih1cGRhdGVNb2RlKVxuXHR7XG5cdFx0aWYodXBkYXRlTW9kZSlcblx0XHR7XG5cdFx0XHQkKCcjRkY2MDYzNkFfNDlFRV8xQzVEX0JCNTlfQUMwNzdBODk5OUUyJykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG5cblx0XHRcdCQoJyNGMTgxNDA5M19BODRGXzBGQzRfNDU4MV82OTlBQ0E1Mzc4MkYnKS50ZXh0KCdVcGRhdGUnKTtcblx0XHR9XG5cdFx0ZWxzZVxuXHRcdHtcblx0XHRcdCQoJyNGRjYwNjM2QV80OUVFXzFDNURfQkI1OV9BQzA3N0E4OTk5RTInKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xuXG5cdFx0XHQkKCcjRjE4MTQwOTNfQTg0Rl8wRkM0XzQ1ODFfNjk5QUNBNTM3ODJGJykudGV4dCgnQWRkJyk7XG4gICAgICAgIH1cblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdHNob3dCb29rbWFya0xpc3Q6IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRjb25zdCB0aGlzX2Jvb2ttYXJrcyA9IFtdO1xuXG5cdFx0dGhpcy5ib29rbWFya3MgPSB7fTtcblxuXHRcdGZvcihjb25zdCB4IG9mIE9iamVjdC52YWx1ZXMoYW1pTG9naW4uZ2V0Qm9va21hcmtJbmZvKCkpKVxuXHRcdHtcblx0XHRcdHRoaXNfYm9va21hcmtzLnB1c2goeCk7XG5cblx0XHRcdHRoaXMuYm9va21hcmtzW3guaWRdID0geDtcbiAgICAgICAgfVxuXG4gICAgXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRhbWlXZWJBcHAucmVwbGFjZUhUTUwoJyNBQ0ZFNUEzRV8yNTQ4XzU5QkZfN0VCQl8zMjgyMUM5MDBBQjEnLCB0aGlzLmZyYWdtZW50Qm9va21hcmtzLCB7ZGljdDoge2Jvb2ttYXJrczogdGhpc19ib29rbWFya3N9fSk7XG5cbiAgICBcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbiAgICB9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0X3N3YXBOYjogMCxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdHN3YXA6IGZ1bmN0aW9uKHJhbmtzMSwgcmFua3MyKVxuXHR7XG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0dGhpcy5fc3dhcE5iID0gT2JqZWN0LmtleXModGhpcy5ib29rbWFya3MpLmxlbmd0aDtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdGZvcihjb25zdCBpZCBpbiB0aGlzLmJvb2ttYXJrcylcblx0XHR7XG5cdFx0XHRpZihyYW5rczFbaWRdICE9PSByYW5rczJbaWRdKVxuXHRcdFx0e1xuXHRcdFx0XHRhbWlXZWJBcHAubG9jaygpO1xuXG5cdFx0XHRcdGFtaUNvbW1hbmQuZXhlY3V0ZSgnVXBkYXRlSGFzaCAtaWQ9XCInICsgYW1pV2ViQXBwLnRleHRUb1N0cmluZyhpZCkgKyAnXCIgLXJhbms9XCInICsgcmFua3MyW2lkXS50b1N0cmluZygpICsgJ1wiJykuZG9uZSgoKSA9PiB7XG5cblx0XHRcdFx0XHRhbWlXZWJBcHAudW5sb2NrKCk7XG5cblx0XHRcdFx0fSkuZmFpbCgoZGF0YSwgbWVzc2FnZSkgPT4ge1xuXG5cdFx0XHRcdFx0YW1pV2ViQXBwLmVycm9yKG1lc3NhZ2UsIHRydWUpO1xuXG5cdFx0XHRcdH0pLmFsd2F5cygoKSA9PiB7XG5cblx0XHRcdFx0XHRpZigtLXRoaXMuX3N3YXBOYiA9PT0gMClcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRhbWlMb2dpbi51cGRhdGUoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZVxuXHRcdFx0e1xuXHRcdFx0XHRpZigtLXRoaXMuX3N3YXBOYiA9PT0gMClcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGFtaUxvZ2luLnVwZGF0ZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0c2VsZWN0OiBmdW5jdGlvbihpZClcblx0e1xuXHRcdGlmKCEoaWQgPSBpZC50cmltKCkpKVxuXHRcdHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHR0aGlzLnNlbGVjdGVkID0gaWQ7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHQkKCcjQ0ExMzBFMjlfQkRENF9DQzhDX0M3MUNfOTQ3MjcyNURGRTVBJykudmFsKHRoaXMuYm9va21hcmtzW2lkXS5uYW1lKTtcblxuXHRcdCQoJyNCMEVDRTI0NF82MTI4XzRCQjFfNTY5Q18xODIyNTMzMDk2M0EnKS5wcm9wKCdjaGVja2VkJywgdGhpcy5ib29rbWFya3NbaWRdLnNoYXJlZCAhPT0gJzAnKTtcblxuXHRcdCQoJyNDQzQ1OEI2OF9GRTJFXzJFREJfRDQ5RV80RUM5QzlGOEFEMTcnKS52YWwodGhpcy5ib29rbWFya3NbaWRdLmpzb24pO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0dGhpcy5zZXRVcGRhdGVNb2RlKHRydWUpO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0Y2xlYXI6IGZ1bmN0aW9uKGNoZWNrZWQgPSB0cnVlKVxuXHR7XG5cdFx0aWYoY2hlY2tlZCAmJiAhY29uZmlybSgnUGxlYXNlIGNvbmZpcm0uLi4nKSlcblx0XHR7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0dGhpcy5zZWxlY3RlZCA9IG51bGw7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHQkKCcjQ0ExMzBFMjlfQkRENF9DQzhDX0M3MUNfOTQ3MjcyNURGRTVBJykudmFsKCcnKTtcblxuXHRcdCQoJyNCMEVDRTI0NF82MTI4XzRCQjFfNTY5Q18xODIyNTMzMDk2M0EnKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xuXG5cdFx0JCgnI0NDNDU4QjY4X0ZFMkVfMkVEQl9ENDlFXzRFQzlDOUY4QUQxNycpLnZhbCgne30nKTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdHRoaXMuc2V0VXBkYXRlTW9kZShmYWxzZSk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRzYXZlOiBmdW5jdGlvbigpXG5cdHtcblx0XHRpZighY29uZmlybSgnUGxlYXNlIGNvbmZpcm0uLi4nKSlcblx0XHR7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0Y29uc3QgaWQgPSB0aGlzLnNlbGVjdGVkO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0Y29uc3QgbmFtZSA9IHRoaXMuX3RyaW0oJCgnI0NBMTMwRTI5X0JERDRfQ0M4Q19DNzFDXzk0NzI3MjVERkU1QScpLnZhbCgpKTtcblxuXHRcdGNvbnN0IHNoYXJlZCA9ICQoJyNCMEVDRTI0NF82MTI4XzRCQjFfNTY5Q18xODIyNTMzMDk2M0EnKS5wcm9wKCdjaGVja2VkJykgPyAnMScgOiAnMCc7XG5cblx0XHRjb25zdCBqc29uID0gdGhpcy5fdHJpbSgkKCcjQ0M0NThCNjhfRkUyRV8yRURCX0Q0OUVfNEVDOUM5RjhBRDE3JykudmFsKCkpO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0aWYobmFtZSAmJiBqc29uKVxuXHRcdHtcblx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRjb25zdCBjb21tYW5kID0gKGlkID8gJ1VwZGF0ZUhhc2ggLWlkPVwiJyArIGFtaVdlYkFwcC50ZXh0VG9TdHJpbmcoaWQpICsgJ1wiJyA6ICdBZGRIYXNoJykgKyAnIC1uYW1lPVwiJyArIGFtaVdlYkFwcC50ZXh0VG9TdHJpbmcobmFtZSkgKyAnXCIgLXNoYXJlZD1cIicgKyBhbWlXZWJBcHAudGV4dFRvU3RyaW5nKHNoYXJlZCkgKyAnXCIgLWpzb249XCInICsgYW1pV2ViQXBwLnRleHRUb1N0cmluZyhqc29uKSArICdcIic7XG5cblx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRhbWlXZWJBcHAubG9jaygpO1xuXG5cdFx0XHRhbWlDb21tYW5kLmV4ZWN1dGUoY29tbWFuZCkuZG9uZSgoZGF0YSwgbWVzc2FnZSkgPT4ge1xuXG5cdFx0XHRcdGFtaUxvZ2luLnVwZGF0ZSgpLmRvbmUoKCkgPT4ge1xuXG5cdFx0XHRcdFx0dGhpcy5jbGVhcihmYWxzZSk7XG5cblx0XHRcdFx0XHR0aGlzLnNob3dCb29rbWFya0xpc3QoKTtcblxuXHRcdFx0XHRcdGFtaVdlYkFwcC5zdWNjZXNzKG1lc3NhZ2UsIHRydWUpO1xuXG5cdFx0XHRcdH0pLmZhaWwoKGRhdGEsIG1lc3NhZ2UpID0+IHtcblxuXHRcdFx0XHRcdHRoaXMuc2hvd0Jvb2ttYXJrTGlzdCgpO1xuXG5cdFx0XHRcdFx0YW1pV2ViQXBwLmVycm9yKG1lc3NhZ2UsIHRydWUpO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0fSkuZmFpbCgoZGF0YSwgbWVzc2FnZSkgPT4ge1xuXG5cdFx0XHRcdHRoaXMuc2hvd0Jvb2ttYXJrTGlzdCgpO1xuXG5cdFx0XHRcdGFtaVdlYkFwcC5lcnJvcihtZXNzYWdlLCB0cnVlKTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0XHR9XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRyZW1vdmU6IGZ1bmN0aW9uKClcblx0e1xuXHRcdGlmKCFjb25maXJtKCdQbGVhc2UgY29uZmlybS4uLicpKVxuXHRcdHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRjb25zdCBpZCA9IHRoaXMuc2VsZWN0ZWQ7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRpZihpZClcblx0XHR7XG5cdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0Y29uc3QgY29tbWFuZCA9ICdSZW1vdmVIYXNoIC1pZD1cIicgKyBhbWlXZWJBcHAudGV4dFRvU3RyaW5nKGlkKSArICdcIic7XG5cblx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRhbWlXZWJBcHAubG9jaygpO1xuXG5cdFx0XHRhbWlDb21tYW5kLmV4ZWN1dGUoY29tbWFuZCkuZG9uZSgoZGF0YSwgbWVzc2FnZSkgPT4ge1xuXG5cdFx0XHRcdGFtaUxvZ2luLnVwZGF0ZSgpLmRvbmUoKCkgPT4ge1xuXG5cdFx0XHRcdFx0dGhpcy5jbGVhcihmYWxzZSk7XG5cblx0XHRcdFx0XHR0aGlzLnNob3dCb29rbWFya0xpc3QoKTtcblxuXHRcdFx0XHRcdGFtaVdlYkFwcC5zdWNjZXNzKG1lc3NhZ2UsIHRydWUpO1xuXG5cdFx0XHRcdH0pLmZhaWwoKGRhdGEsIG1lc3NhZ2UpID0+IHtcblxuXHRcdFx0XHRcdHRoaXMuc2hvd0Jvb2ttYXJrTGlzdCgpO1xuXG5cdFx0XHRcdFx0YW1pV2ViQXBwLmVycm9yKG1lc3NhZ2UsIHRydWUpO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0fSkuZmFpbCgoZGF0YSwgbWVzc2FnZSkgPT4ge1xuXG5cdFx0XHRcdHRoaXMuc2hvd0Jvb2ttYXJrTGlzdCgpO1xuXG5cdFx0XHRcdGFtaVdlYkFwcC5lcnJvcihtZXNzYWdlLCB0cnVlKTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0XHR9XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbn0pO1xuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbi8qIEdMT0JBTCBJTlNUQU5DRSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmNvbnN0IGJvb2ttYXJrRWRpdG9yQXBwID0gbmV3IEJvb2ttYXJrRWRpdG9yQXBwKCk7XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuIl19
