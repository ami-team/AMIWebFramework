<script type="text/javascript">
/*-------------------------------------------------------------------------*/
/* CLASS AMICodeViewer                                                    */
/*-------------------------------------------------------------------------*/

function AMICodeViewer() {
	/*-----------------------------------------------------------------*/

	this.show = function(code) {

		var tmp = [];

		for(var i = 0; i < code.split('\n').length; i++) {
			tmp.push(i);
		}

		var nums = tmp.join('\n');

		$('#modal_common_code_viewer .amicode').html(
			'<span>' + nums + '</span>'
			+
			'<code>' + code + '</code>'
			+
			'<div style="clear: both; display: block;"></div>'
		);

		$('#modal_common_code_viewer').modal('show');
	};

	/*-----------------------------------------------------------------*/
}

/*-------------------------------------------------------------------------*/

amiCodeViewer = new AMICodeViewer();

/*-------------------------------------------------------------------------*/
</script>

<div class="modal fade" id="modal_common_code_viewer">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
        <h4 class="modal-title"><i class="fa fa-file-text-o"></i> Text Viewer</h4>
      </div>
      <div class="modal-body">
        <pre class="amicode"></pre>
      </div>
    </div>
  </div>
</div>
