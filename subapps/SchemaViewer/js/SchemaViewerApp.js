/*!
 * AMI Web Framework
 *
 * Copyright (c) 2014-XXXX The AMI Team / LPSC / IN2P3
 *
 * This file must be used under the terms of the CeCILL-C:
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-fr.html
 *
 * @global jscolor
 *
 */$AMIClass("SchemaViewerApp",{$extends:ami.SubApp,onReady:function onReady(userdata){var _this=this;$("#ami_breadcrumb_content").css("display","none");var result=$.Deferred();amiWebApp.loadResources(["js/3rd-party/jscolor.min.js","subapps/SchemaViewer/twig/SchemaViewerApp.twig","subapps/SchemaViewer/css/SchemaViewerApp.css","ctrl:schema"]).done(function(data){amiWebApp.replaceHTML("#ami_main_content",data[1],{dict:{command:userdata}}).done(function(){_this.colorPicker=new jscolor("F542C5DA_46FD_6A57_76CB_9A6A949E7F39",{hash:true});var dropZone=document.getElementById("EFAEDA1C_C8B2_46EA_AC47_A591A0704FE3");dropZone.addEventListener("dragover",_this.handleDragOver,false);dropZone.addEventListener("drop",_this.handleDrop,false);$("#C6DDFAF6_9E75_41C5_87BD_0896B5299559").outerHeight($(document).height()-$("#C6DDFAF6_9E75_41C5_87BD_0896B5299559").offset().top-8);_this.schema=new data[3];_this.schema.render("#C6DDFAF6_9E75_41C5_87BD_0896B5299559",{onFocus:function onFocus(cell){if(cell){this.colorPicker.fromString(cell.getColor())}},onBlur:function onBlur(){this.colorPicker.fromString("#0066CC")}}).done(function(){$("#D015B3C1_B150_4E27_99D9_A628B3F9B0AC").change(function(){_this.defaultCatalog=$("#D015B3C1_B150_4E27_99D9_A628B3F9B0AC option:selected").val()});_this.defaultCatalog=userdata;result.resolve()})})}).fail(function(message){result.reject(message)});return result},onLogin:function onLogin(){var _this2=this;var result=$.Deferred();amiCommand.execute("ListCatalogs").done(function(data){var L=["<option value=\"\" style=\"display: none;\">Choose a catalog</option>"];$.each(amiWebApp.jspath("..field{.@name===\"externalCatalog\"}.$",data),function(index,value){if(value===_this2.defaultCatalog){L.push("<option value=\""+amiWebApp.textToHtml(value)+"\" selected=\"selected\">"+amiWebApp.textToHtml(value)+"</option>")}else{L.push("<option value=\""+amiWebApp.textToHtml(value)+"\" xxxxxxxx=\"xxxxxxxx\">"+amiWebApp.textToHtml(value)+"</option>")}});_this2.openSchema().done(function(){var disable=amiLogin.hasRole("AMI_ADMIN")===false;$("#D015B3C1_B150_4E27_99D9_A628B3F9B0AC").html(L.join(""));$("#D015B3C1_B150_4E27_99D9_A628B3F9B0AC").prop("disabled",false);$("#A9A20536_D366_4AFE_96E3_56E3FAF52179").prop("disabled",false);$("#D342245F_B95E_4CAB_84C5_53B509C28319").prop("disabled",disable);if(disable){$("#D316F050_F66C_8D02_33A0_CFF920BEF817").hide();$("#A20151B8_B578_A3F1_AF65_FB5AE59287E6").hide()}else{$("#D316F050_F66C_8D02_33A0_CFF920BEF817").show();$("#A20151B8_B578_A3F1_AF65_FB5AE59287E6").show()}$("#F542C5DA_46FD_6A57_76CB_9A6A949E7F39").prop("disabled",disable);$("#A8A2E848_F02A_40C7_8327_53F73B1B2BD6").prop("disabled",false);$("#DA57C571_E294_4D75_B36F_FF6BB066D504").prop("disabled",false);result.resolve()}).fail(function(message){result.reject(message)})}).fail(function(data,message){result.reject(message)});return result},onLogout:function onLogout(){this.schema.clear();$("#D015B3C1_B150_4E27_99D9_A628B3F9B0AC").empty();$("#D015B3C1_B150_4E27_99D9_A628B3F9B0AC").prop("disabled",true);$("#A9A20536_D366_4AFE_96E3_56E3FAF52179").prop("disabled",true);$("#D342245F_B95E_4CAB_84C5_53B509C28319").prop("disabled",true);$("#D316F050_F66C_8D02_33A0_CFF920BEF817").hide();$("#A20151B8_B578_A3F1_AF65_FB5AE59287E6").hide();$("#F542C5DA_46FD_6A57_76CB_9A6A949E7F39").prop("disabled",true);$("#A8A2E848_F02A_40C7_8327_53F73B1B2BD6").prop("disabled",true);$("#DA57C571_E294_4D75_B36F_FF6BB066D504").prop("disabled",true)},handleDragOver:function handleDragOver(e){e.stopPropagation();e.preventDefault();e.dataTransfer.dropEffect="copy"},handleDrop:function handleDrop(e){e.stopPropagation();e.preventDefault();var files=e.dataTransfer.files;for(var i=0,file;file=files[i];i++){var reader=new FileReader;reader.onload=function(e){try{var json=JSON.parse(e.target.result);schemaViewerApp.schema.setJSON(json)}catch(message){amiWebApp.error(message,true)}};reader.readAsText(file)}},openSchema:function openSchema(){var _this3=this;amiWebApp.lock();return this.schema.refresh(this.defaultCatalog,{showShowTool:true,showEditTool:amiLogin.hasRole("AMI_ADMIN")}).done(function(){window.history.pushState("","",amiWebApp.webAppURL+"?subapp=schemaViewer"+(_this3.defaultCatalog?"&userdata="+encodeURIComponent(_this3.defaultCatalog):""));amiWebApp.unlock()}).fail(function(message){amiWebApp.error(message,true)})},saveSchema:function saveSchema(){if(!this.defaultCatalog){return}amiWebApp.lock();var custom={};$.each(this.schema.graph.getCells(),function(index,value){if(value.get("type")==="sql.Entity"){var position=value.getPosition();var color=value.getColor();custom[value.get("entity")]={x:position.x,y:position.y,color:color}}});if(jQuery.isEmptyObject(custom)===false){var text=JSON.stringify(custom);amiCommand.execute("SetJSONSchema -catalog=\""+amiWebApp.textToString(this.defaultCatalog)+"\" -json=\""+amiWebApp.textToString(text)+"\"").done(function(data,message){amiWebApp.success(message,true)}).fail(function(data,message){amiWebApp.error(message,true)})}},flushServerCachesFast:function flushServerCachesFast(){if(!confirm("Please confirm...")){return}amiWebApp.lock();amiCommand.execute("FlushServerCaches").done(function(data,message){amiWebApp.success(message,true)}).fail(function(data,message){amiWebApp.error(message,true)})},flushServerCachesSlow:function flushServerCachesSlow(){if(!confirm("Please confirm...")){return}amiWebApp.lock();amiCommand.execute("FlushServerCaches -full").done(function(data,message){amiWebApp.success(message,true)}).fail(function(data,message){amiWebApp.error(message,true)})},setBoxColor:function setBoxColor(color){var currentCell=this.schema.getCurrentCell();if(currentCell){currentCell.setColor(color)}},exportSchema:function exportSchema(){this.schema.exportSchema()},printSchema:function printSchema(){this.schema.printSchema()}});var schemaViewerApp=new SchemaViewerApp;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNjaGVtYVZpZXdlckFwcC5lczYuanMiXSwibmFtZXMiOlsiJEFNSUNsYXNzIiwiJGV4dGVuZHMiLCJhbWkiLCJTdWJBcHAiLCJvblJlYWR5IiwidXNlcmRhdGEiLCIkIiwiY3NzIiwicmVzdWx0IiwiRGVmZXJyZWQiLCJhbWlXZWJBcHAiLCJsb2FkUmVzb3VyY2VzIiwiZG9uZSIsImRhdGEiLCJyZXBsYWNlSFRNTCIsImRpY3QiLCJjb21tYW5kIiwiY29sb3JQaWNrZXIiLCJqc2NvbG9yIiwiaGFzaCIsImRyb3Bab25lIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVEcmFnT3ZlciIsImhhbmRsZURyb3AiLCJvdXRlckhlaWdodCIsImhlaWdodCIsIm9mZnNldCIsInRvcCIsInNjaGVtYSIsInJlbmRlciIsIm9uRm9jdXMiLCJjZWxsIiwiZnJvbVN0cmluZyIsImdldENvbG9yIiwib25CbHVyIiwiY2hhbmdlIiwiZGVmYXVsdENhdGFsb2ciLCJ2YWwiLCJyZXNvbHZlIiwiZmFpbCIsIm1lc3NhZ2UiLCJyZWplY3QiLCJvbkxvZ2luIiwiYW1pQ29tbWFuZCIsImV4ZWN1dGUiLCJMIiwiZWFjaCIsImpzcGF0aCIsImluZGV4IiwidmFsdWUiLCJwdXNoIiwidGV4dFRvSHRtbCIsIm9wZW5TY2hlbWEiLCJkaXNhYmxlIiwiYW1pTG9naW4iLCJoYXNSb2xlIiwiaHRtbCIsImpvaW4iLCJwcm9wIiwiaGlkZSIsInNob3ciLCJvbkxvZ291dCIsImNsZWFyIiwiZW1wdHkiLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwicHJldmVudERlZmF1bHQiLCJkYXRhVHJhbnNmZXIiLCJkcm9wRWZmZWN0IiwiZmlsZXMiLCJpIiwiZmlsZSIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJqc29uIiwiSlNPTiIsInBhcnNlIiwidGFyZ2V0Iiwic2NoZW1hVmlld2VyQXBwIiwic2V0SlNPTiIsImVycm9yIiwicmVhZEFzVGV4dCIsImxvY2siLCJyZWZyZXNoIiwic2hvd1Nob3dUb29sIiwic2hvd0VkaXRUb29sIiwid2luZG93IiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsIndlYkFwcFVSTCIsImVuY29kZVVSSUNvbXBvbmVudCIsInVubG9jayIsInNhdmVTY2hlbWEiLCJjdXN0b20iLCJncmFwaCIsImdldENlbGxzIiwiZ2V0IiwicG9zaXRpb24iLCJnZXRQb3NpdGlvbiIsImNvbG9yIiwieCIsInkiLCJqUXVlcnkiLCJpc0VtcHR5T2JqZWN0IiwidGV4dCIsInN0cmluZ2lmeSIsInRleHRUb1N0cmluZyIsInN1Y2Nlc3MiLCJmbHVzaFNlcnZlckNhY2hlc0Zhc3QiLCJjb25maXJtIiwiZmx1c2hTZXJ2ZXJDYWNoZXNTbG93Iiwic2V0Qm94Q29sb3IiLCJjdXJyZW50Q2VsbCIsImdldEN1cnJlbnRDZWxsIiwic2V0Q29sb3IiLCJleHBvcnRTY2hlbWEiLCJwcmludFNjaGVtYSIsIlNjaGVtYVZpZXdlckFwcCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7O0dBZUFBLFNBQVMsQ0FBQyxpQkFBRCxDQUFvQixDQUc1QkMsUUFBUSxDQUFFQyxHQUFHLENBQUNDLE1BSGMsQ0FPNUJDLE9BQU8sQ0FBRSxpQkFBU0MsUUFBVCxDQUNULGdCQUdDQyxDQUFDLENBQUMseUJBQUQsQ0FBRCxDQUE2QkMsR0FBN0IsQ0FBaUMsU0FBakMsQ0FBNEMsTUFBNUMsRUFJQSxHQUFNQyxDQUFBQSxNQUFNLENBQUdGLENBQUMsQ0FBQ0csUUFBRixFQUFmLENBRUFDLFNBQVMsQ0FBQ0MsYUFBVixDQUF3QixDQUN2Qiw2QkFEdUIsQ0FFdkIsZ0RBRnVCLENBR3ZCLDhDQUh1QixDQUt2QixhQUx1QixDQUF4QixFQU1HQyxJQU5ILENBTVEsU0FBQ0MsSUFBRCxDQUFVLENBRWpCSCxTQUFTLENBQUNJLFdBQVYsQ0FBc0IsbUJBQXRCLENBQTJDRCxJQUFJLENBQUMsQ0FBRCxDQUEvQyxDQUFvRCxDQUFDRSxJQUFJLENBQUUsQ0FBQ0MsT0FBTyxDQUFF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QSxDQUlEdEcsU0FBUyxDQUFDMkUsSUFBVixHQUlBeEMsVUFBVSxDQUFDQyxPQUFYLENBQW1CLHlCQUFuQixFQUE4Q2xDLElBQTlDLENBQW1ELFNBQUNDLElBQUQsQ0FBTzZCLE9BQVAsQ0FBbUIsQ0FFckVoQyxTQUFTLENBQUNvRyxPQUFWLENBQWtCcEUsT0FBbEIsQ0FBMkIsSUFBM0IsQ0FFQSxDQUpELEVBSUdELElBSkgsQ0FJUSxTQUFDNUIsSUFBRCxDQUFPNkIsT0FBUCxDQUFtQixDQUUxQmhDLFNBQVMsQ0FBQ3lFLEtBQVYsQ0FBZ0J6QyxPQUFoQixDQUF5QixJQUF6QixDQUNBLENBUEQsQ0FVQSxDQWxXMkIsQ0FzVzVCd0UsV0FBVyxDQUFFLHFCQUFTWixLQUFULENBQ2IsQ0FDQyxHQUFNYSxDQUFBQSxXQUFXLENBQUcsS0FBS3JGLE1BQUwsQ0FBWXNGLGNBQVosRUFBcEIsQ0FFQSxHQUFHRCxXQUFILENBQ0EsQ0FDQ0EsV0FBVyxDQUFDRSxRQUFaLENBQXFCZixLQUFyQixDQUNBLENBQ0QsQ0E5VzJCLENBa1g1QmdCLFlBQVksQ0FBRSx1QkFDZCxDQUNDLEtBQUt4RixNQUFMLENBQVl3RixZQUFaLEVBQ0EsQ0FyWDJCLENBeVg1QkMsV0FBVyxDQUFFLHNCQUNiLENBQ0MsS0FBS3pGLE1BQUwsQ0FBWXlGLFdBQVosRUFDQSxDQTVYMkIsQ0FBcEIsQ0FBVCxDQXFZQSxHQUFNdEMsQ0FBQUEsZUFBZSxDQUFHLEdBQUl1QyxDQUFBQSxlQUE1QiIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQU1JIFdlYiBGcmFtZXdvcmtcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtWFhYWCBUaGUgQU1JIFRlYW0gLyBMUFNDIC8gSU4yUDNcbiAqXG4gKiBUaGlzIGZpbGUgbXVzdCBiZSB1c2VkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgQ2VDSUxMLUM6XG4gKiBodHRwOi8vd3d3LmNlY2lsbC5pbmZvL2xpY2VuY2VzL0xpY2VuY2VfQ2VDSUxMLUNfVjEtZW4uaHRtbFxuICogaHR0cDovL3d3dy5jZWNpbGwuaW5mby9saWNlbmNlcy9MaWNlbmNlX0NlQ0lMTC1DX1YxLWZyLmh0bWxcbiAqXG4gKiBAZ2xvYmFsIGpzY29sb3JcbiAqXG4gKi9cblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiRBTUlDbGFzcygnU2NoZW1hVmlld2VyQXBwJywge1xuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdCRleHRlbmRzOiBhbWkuU3ViQXBwLFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0b25SZWFkeTogZnVuY3Rpb24odXNlcmRhdGEpXG5cdHtcblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHQkKCcjYW1pX2JyZWFkY3J1bWJfY29udGVudCcpLmNzcygnZGlzcGxheScsICdub25lJyk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRjb25zdCByZXN1bHQgPSAkLkRlZmVycmVkKCk7XG5cblx0XHRhbWlXZWJBcHAubG9hZFJlc291cmNlcyhbXG5cdFx0XHQnanMvM3JkLXBhcnR5L2pzY29sb3IubWluLmpzJyxcblx0XHRcdCdzdWJhcHBzL1NjaGVtYVZpZXdlci90d2lnL1NjaGVtYVZpZXdlckFwcC50d2lnJyxcblx0XHRcdCdzdWJhcHBzL1NjaGVtYVZpZXdlci9jc3MvU2NoZW1hVmlld2VyQXBwLmNzcycsXG5cdFx0XHQvKiovXG5cdFx0XHQnY3RybDpzY2hlbWEnLFxuXHRcdF0pLmRvbmUoKGRhdGEpID0+IHtcblxuXHRcdFx0YW1pV2ViQXBwLnJlcGxhY2VIVE1MKCcjYW1pX21haW5fY29udGVudCcsIGRhdGFbMV0sIHtkaWN0OiB7Y29tbWFuZDogdXNlcmRhdGF9fSkuZG9uZSgoKSA9PiB7XG5cblx0XHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0XHRcdFx0LyogQ09MT1IgUElDS0VSICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblx0XHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0XHR0aGlzLmNvbG9yUGlja2VyID0gbmV3IGpzY29sb3IoJ0Y1NDJDNURBXzQ2RkRfNkE1N183NkNCXzlBNkE5NDlFN0YzOScsIHtoYXNoOiB0cnVlfSk7XG5cblx0XHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0XHRcdFx0LyogRFJPUCBaT05FICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblx0XHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0XHRjb25zdCBkcm9wWm9uZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdFRkFFREExQ19DOEIyXzQ2RUFfQUM0N19BNTkxQTA3MDRGRTMnKTtcblxuXHRcdFx0XHRkcm9wWm9uZS5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIHRoaXMuaGFuZGxlRHJhZ092ZXIsIGZhbHNlKTtcblx0XHRcdFx0ZHJvcFpvbmUuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcgICAgLCB0aGlzLmhhbmRsZURyb3AgICAgLCBmYWxzZSk7XG5cblx0XHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0XHRcdFx0LyogRURJVE9SICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblx0XHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0XHQkKCcjQzZEREZBRjZfOUU3NV80MUM1Xzg3QkRfMDg5NkI1Mjk5NTU5Jykub3V0ZXJIZWlnaHQoXG5cdFx0XHRcdFx0JChkb2N1bWVudCkuaGVpZ2h0KCkgLSAkKCcjQzZEREZBRjZfOUU3NV80MUM1Xzg3QkRfMDg5NkI1Mjk5NTU5Jykub2Zmc2V0KCkudG9wIC0gOFxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRcdFx0dGhpcy5zY2hlbWEgPSBuZXcgZGF0YVszXSgpO1xuXG5cdFx0XHRcdHRoaXMuc2NoZW1hLnJlbmRlcignI0M2RERGQUY2XzlFNzVfNDFDNV84N0JEXzA4OTZCNTI5OTU1OScsIHtcblx0XHRcdFx0XHRvbkZvY3VzOiBmdW5jdGlvbihjZWxsKSB7XG5cblx0XHRcdFx0XHRcdGlmKGNlbGwpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5jb2xvclBpY2tlci5mcm9tU3RyaW5nKGNlbGwuZ2V0Q29sb3IoKSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRvbkJsdXI6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0LyoqL1xuXHRcdFx0XHRcdFx0XHR0aGlzLmNvbG9yUGlja2VyLmZyb21TdHJpbmcoKCgoJyMwMDY2Q0MnKSkpKTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9KS5kb25lKCgpID0+IHtcblxuXHRcdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRcdFx0JCgnI0QwMTVCM0MxX0IxNTBfNEUyN185OUQ5X0E2MjhCM0Y5QjBBQycpLmNoYW5nZSgoKSA9PiB7XG5cblx0XHRcdFx0XHRcdHRoaXMuZGVmYXVsdENhdGFsb2cgPSAkKCcjRDAxNUIzQzFfQjE1MF80RTI3Xzk5RDlfQTYyOEIzRjlCMEFDIG9wdGlvbjpzZWxlY3RlZCcpLnZhbCgpO1xuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0dGhpcy5kZWZhdWx0Q2F0YWxvZyA9IC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLyB1c2VyZGF0YSAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi87XG5cblx0XHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0XHRcdHJlc3VsdC5yZXNvbHZlKCk7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRcdH0pO1xuXG5cdFx0fSkuZmFpbCgobWVzc2FnZSkgPT4ge1xuXG5cdFx0XHRyZXN1bHQucmVqZWN0KG1lc3NhZ2UpO1xuXHRcdH0pO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdG9uTG9naW46IGZ1bmN0aW9uKClcblx0e1xuXHRcdGNvbnN0IHJlc3VsdCA9ICQuRGVmZXJyZWQoKTtcblxuXHRcdGFtaUNvbW1hbmQuZXhlY3V0ZSgnTGlzdENhdGFsb2dzJykuZG9uZSgoZGF0YSkgPT4ge1xuXG5cdFx0XHRjb25zdCBMID0gWyc8b3B0aW9uIHZhbHVlPVwiXCIgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiPkNob29zZSBhIGNhdGFsb2c8L29wdGlvbj4nXTtcblxuXHRcdFx0JC5lYWNoKGFtaVdlYkFwcC5qc3BhdGgoJy4uZmllbGR7LkBuYW1lPT09XCJleHRlcm5hbENhdGFsb2dcIn0uJCcsIGRhdGEpLCAoaW5kZXgsIHZhbHVlKSA9PiB7XG5cblx0XHRcdFx0aWYodmFsdWUgPT09IHRoaXMuZGVmYXVsdENhdGFsb2cpIHtcblx0XHRcdFx0XHRMLnB1c2goJzxvcHRpb24gdmFsdWU9XCInICsgYW1pV2ViQXBwLnRleHRUb0h0bWwodmFsdWUpICsgJ1wiIHNlbGVjdGVkPVwic2VsZWN0ZWRcIj4nICsgYW1pV2ViQXBwLnRleHRUb0h0bWwodmFsdWUpICsgJzwvb3B0aW9uPicpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdEwucHVzaCgnPG9wdGlvbiB2YWx1ZT1cIicgKyBhbWlXZWJBcHAudGV4dFRvSHRtbCh2YWx1ZSkgKyAnXCIgeHh4eHh4eHg9XCJ4eHh4eHh4eFwiPicgKyBhbWlXZWJBcHAudGV4dFRvSHRtbCh2YWx1ZSkgKyAnPC9vcHRpb24+Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0fSk7XG5cblx0XHRcdHRoaXMub3BlblNjaGVtYSgpLmRvbmUoKCkgPT4ge1xuXG5cdFx0XHRcdGNvbnN0IGRpc2FibGUgPSBhbWlMb2dpbi5oYXNSb2xlKCdBTUlfQURNSU4nKSA9PT0gZmFsc2U7XG5cblx0XHRcdFx0JCgnI0QwMTVCM0MxX0IxNTBfNEUyN185OUQ5X0E2MjhCM0Y5QjBBQycpLmh0bWwoTC5qb2luKCcnKSk7XG5cblx0XHRcdFx0JCgnI0QwMTVCM0MxX0IxNTBfNEUyN185OUQ5X0E2MjhCM0Y5QjBBQycpLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xuXG5cdFx0XHRcdCQoJyNBOUEyMDUzNl9EMzY2XzRBRkVfOTZFM181NkUzRkFGNTIxNzknKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcblx0XHRcdFx0JCgnI0QzNDIyNDVGX0I5NUVfNENBQl84NEM1XzUzQjUwOUMyODMxOScpLnByb3AoJ2Rpc2FibGVkJywgZGlzYWJsZSk7XG5cblx0XHRcdFx0aWYoZGlzYWJsZSlcblx0XHRcdFx0e1xuXHRcdFx0XHRcdCQoJyNEMzE2RjA1MF9GNjZDXzhEMDJfMzNBMF9DRkY5MjBCRUY4MTcnKS5oaWRlKCk7XG5cdFx0XHRcdFx0JCgnI0EyMDE1MUI4X0I1NzhfQTNGMV9BRjY1X0ZCNUFFNTkyODdFNicpLmhpZGUoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdHtcblx0XHRcdFx0XHQkKCcjRDMxNkYwNTBfRjY2Q184RDAyXzMzQTBfQ0ZGOTIwQkVGODE3Jykuc2hvdygpO1xuXHRcdFx0XHRcdCQoJyNBMjAxNTFCOF9CNTc4X0EzRjFfQUY2NV9GQjVBRTU5Mjg3RTYnKS5zaG93KCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQkKCcjRjU0MkM1REFfNDZGRF82QTU3Xzc2Q0JfOUE2QTk0OUU3RjM5JykucHJvcCgnZGlzYWJsZWQnLCBkaXNhYmxlKTtcblxuXHRcdFx0XHQkKCcjQThBMkU4NDhfRjAyQV80MEM3XzgzMjdfNTNGNzNCMUIyQkQ2JykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG5cdFx0XHRcdCQoJyNEQTU3QzU3MV9FMjk0XzRENzVfQjM2Rl9GRjZCQjA2NkQ1MDQnKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcblxuXHRcdFx0XHRyZXN1bHQucmVzb2x2ZSgpO1xuXG5cdFx0XHR9KS5mYWlsKChtZXNzYWdlKSA9PiB7XG5cblx0XHRcdFx0cmVzdWx0LnJlamVjdChtZXNzYWdlKTtcblx0XHRcdH0pO1xuXG5cdFx0fSkuZmFpbCgoZGF0YSwgbWVzc2FnZSkgPT4ge1xuXG5cdFx0XHRyZXN1bHQucmVqZWN0KG1lc3NhZ2UpO1xuXHRcdH0pO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdG9uTG9nb3V0OiBmdW5jdGlvbigpXG5cdHtcblx0XHR0aGlzLnNjaGVtYS5jbGVhcigpO1xuXG5cdFx0JCgnI0QwMTVCM0MxX0IxNTBfNEUyN185OUQ5X0E2MjhCM0Y5QjBBQycpLmVtcHR5KCk7XG5cblx0XHQkKCcjRDAxNUIzQzFfQjE1MF80RTI3Xzk5RDlfQTYyOEIzRjlCMEFDJykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcblxuXHRcdCQoJyNBOUEyMDUzNl9EMzY2XzRBRkVfOTZFM181NkUzRkFGNTIxNzknKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xuXHRcdCQoJyNEMzQyMjQ1Rl9COTVFXzRDQUJfODRDNV81M0I1MDlDMjgzMTknKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xuXG5cdFx0JCgnI0QzMTZGMDUwX0Y2NkNfOEQwMl8zM0EwX0NGRjkyMEJFRjgxNycpLmhpZGUoKTtcblx0XHQkKCcjQTIwMTUxQjhfQjU3OF9BM0YxX0FGNjVfRkI1QUU1OTI4N0U2JykuaGlkZSgpO1xuXG5cdFx0JCgnI0Y1NDJDNURBXzQ2RkRfNkE1N183NkNCXzlBNkE5NDlFN0YzOScpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG5cblx0XHQkKCcjQThBMkU4NDhfRjAyQV80MEM3XzgzMjdfNTNGNzNCMUIyQkQ2JykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcblx0XHQkKCcjREE1N0M1NzFfRTI5NF80RDc1X0IzNkZfRkY2QkIwNjZENTA0JykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdGhhbmRsZURyYWdPdmVyOiBmdW5jdGlvbihlKVxuXHR7XG5cdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRlLmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gJ2NvcHknO1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0aGFuZGxlRHJvcDogZnVuY3Rpb24oZSlcblx0e1xuXHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0Y29uc3QgZmlsZXMgPSBlLmRhdGFUcmFuc2Zlci5maWxlcztcblxuXHRcdGZvcihsZXQgaSA9IDAsIGZpbGU7IChmaWxlID0gZmlsZXNbaV0pOyBpKyspXG5cdFx0e1xuXHRcdFx0Y29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcblxuXHRcdFx0cmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGUpXG5cdFx0XHR7XG5cdFx0XHRcdHRyeVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0Y29uc3QganNvbiA9IEpTT04ucGFyc2UoZS50YXJnZXQucmVzdWx0KTtcblxuXHRcdFx0XHRcdHNjaGVtYVZpZXdlckFwcC5zY2hlbWEuc2V0SlNPTihqc29uKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjYXRjaChtZXNzYWdlKVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0YW1pV2ViQXBwLmVycm9yKG1lc3NhZ2UsIHRydWUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0XHRyZWFkZXIucmVhZEFzVGV4dChmaWxlKTtcblx0XHR9XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRvcGVuU2NoZW1hOiBmdW5jdGlvbigpXG5cdHtcblx0XHRhbWlXZWJBcHAubG9jaygpO1xuXG5cdFx0cmV0dXJuIHRoaXMuc2NoZW1hLnJlZnJlc2godGhpcy5kZWZhdWx0Q2F0YWxvZywge3Nob3dTaG93VG9vbDogdHJ1ZSwgc2hvd0VkaXRUb29sOiBhbWlMb2dpbi5oYXNSb2xlKCdBTUlfQURNSU4nKX0pLmRvbmUoKCkgPT4ge1xuXG5cdFx0XHR3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoJycsICcnLCBhbWlXZWJBcHAud2ViQXBwVVJMICsgJz9zdWJhcHA9c2NoZW1hVmlld2VyJyArICh0aGlzLmRlZmF1bHRDYXRhbG9nID8gJyZ1c2VyZGF0YT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuZGVmYXVsdENhdGFsb2cpIDogJycpKTtcblxuXHRcdFx0YW1pV2ViQXBwLnVubG9jaygpO1xuXG5cdFx0fSkuZmFpbCgobWVzc2FnZSkgPT4ge1xuXG5cdFx0XHRhbWlXZWJBcHAuZXJyb3IobWVzc2FnZSwgdHJ1ZSk7XG5cdFx0fSk7XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRzYXZlU2NoZW1hOiBmdW5jdGlvbigpXG5cdHtcblx0XHRpZighdGhpcy5kZWZhdWx0Q2F0YWxvZylcblx0XHR7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0YW1pV2ViQXBwLmxvY2soKTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdGNvbnN0IGN1c3RvbSA9IHt9O1xuXG5cdFx0JC5lYWNoKHRoaXMuc2NoZW1hLmdyYXBoLmdldENlbGxzKCksIChpbmRleCwgdmFsdWUpID0+IHtcblxuXHRcdFx0aWYodmFsdWUuZ2V0KCd0eXBlJykgPT09ICdzcWwuRW50aXR5Jylcblx0XHRcdHtcblx0XHRcdFx0Y29uc3QgcG9zaXRpb24gPSB2YWx1ZS5nZXRQb3NpdGlvbigpO1xuXHRcdFx0XHRjb25zdCBjb2xvciAgICA9IHZhbHVlLmdldENvbG9yKCkgICA7XG5cblx0XHRcdFx0Y3VzdG9tW3ZhbHVlLmdldCgnZW50aXR5JyldID0ge1xuXHRcdFx0XHRcdHg6IHBvc2l0aW9uLngsXG5cdFx0XHRcdFx0eTogcG9zaXRpb24ueSxcblx0XHRcdFx0XHRjb2xvcjogY29sb3IsXG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRpZihqUXVlcnkuaXNFbXB0eU9iamVjdChjdXN0b20pID09PSBmYWxzZSlcblx0XHR7XG5cdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0Y29uc3QgdGV4dCA9IEpTT04uc3RyaW5naWZ5KGN1c3RvbSk7XG5cblx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRhbWlDb21tYW5kLmV4ZWN1dGUoJ1NldEpTT05TY2hlbWEgLWNhdGFsb2c9XCInICsgYW1pV2ViQXBwLnRleHRUb1N0cmluZyh0aGlzLmRlZmF1bHRDYXRhbG9nKSArICdcIiAtanNvbj1cIicgKyBhbWlXZWJBcHAudGV4dFRvU3RyaW5nKHRleHQpICsgJ1wiJykuZG9uZSgoZGF0YSwgbWVzc2FnZSkgPT4ge1xuXG5cdFx0XHRcdGFtaVdlYkFwcC5zdWNjZXNzKG1lc3NhZ2UsIHRydWUpO1xuXG5cdFx0XHR9KS5mYWlsKChkYXRhLCBtZXNzYWdlKSA9PiB7XG5cblx0XHRcdFx0YW1pV2ViQXBwLmVycm9yKG1lc3NhZ2UsIHRydWUpO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHRcdH1cblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdGZsdXNoU2VydmVyQ2FjaGVzRmFzdDogZnVuY3Rpb24oKVxuXHR7XG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0aWYoIWNvbmZpcm0oJ1BsZWFzZSBjb25maXJtLi4uJykpXG5cdFx0e1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdGFtaVdlYkFwcC5sb2NrKCk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRhbWlDb21tYW5kLmV4ZWN1dGUoJ0ZsdXNoU2VydmVyQ2FjaGVzJykuZG9uZSgoZGF0YSwgbWVzc2FnZSkgPT4ge1xuXG5cdFx0XHRhbWlXZWJBcHAuc3VjY2VzcyhtZXNzYWdlLCB0cnVlKTtcblxuXHRcdH0pLmZhaWwoKGRhdGEsIG1lc3NhZ2UpID0+IHtcblxuXHRcdFx0YW1pV2ViQXBwLmVycm9yKG1lc3NhZ2UsIHRydWUpO1xuXHRcdH0pO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0Zmx1c2hTZXJ2ZXJDYWNoZXNTbG93OiBmdW5jdGlvbigpXG5cdHtcblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRpZighY29uZmlybSgnUGxlYXNlIGNvbmZpcm0uLi4nKSlcblx0XHR7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0YW1pV2ViQXBwLmxvY2soKTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdGFtaUNvbW1hbmQuZXhlY3V0ZSgnRmx1c2hTZXJ2ZXJDYWNoZXMgLWZ1bGwnKS5kb25lKChkYXRhLCBtZXNzYWdlKSA9PiB7XG5cblx0XHRcdGFtaVdlYkFwcC5zdWNjZXNzKG1lc3NhZ2UsIHRydWUpO1xuXG5cdFx0fSkuZmFpbCgoZGF0YSwgbWVzc2FnZSkgPT4ge1xuXG5cdFx0XHRhbWlXZWJBcHAuZXJyb3IobWVzc2FnZSwgdHJ1ZSk7XG5cdFx0fSk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRzZXRCb3hDb2xvcjogZnVuY3Rpb24oY29sb3IpXG5cdHtcblx0XHRjb25zdCBjdXJyZW50Q2VsbCA9IHRoaXMuc2NoZW1hLmdldEN1cnJlbnRDZWxsKCk7XG5cblx0XHRpZihjdXJyZW50Q2VsbClcblx0XHR7XG5cdFx0XHRjdXJyZW50Q2VsbC5zZXRDb2xvcihjb2xvcik7XG5cdFx0fVxuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0ZXhwb3J0U2NoZW1hOiBmdW5jdGlvbigpXG5cdHtcblx0XHR0aGlzLnNjaGVtYS5leHBvcnRTY2hlbWEoKTtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdHByaW50U2NoZW1hOiBmdW5jdGlvbigpXG5cdHtcblx0XHR0aGlzLnNjaGVtYS5wcmludFNjaGVtYSgpO1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG59KTtcblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4vKiBHTE9CQUwgSU5TVEFOQ0UgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5jb25zdCBzY2hlbWFWaWV3ZXJBcHAgPSBuZXcgU2NoZW1hVmlld2VyQXBwKCk7XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLyJdfQ==
