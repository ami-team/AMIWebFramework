/*!
 * AMI Web Framework
 *
 * Copyright (c) 2014-XXXX The AMI Team / LPSC / IN2P3
 *
 * This file must be used under the terms of the CeCILL-C:
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-fr.html
 *
 */$AMIClass("ResetPasswordApp",{$extends:ami.SubApp,onReady:function onReady(userdata){var _this=this;var result=$.Deferred();amiWebApp.loadResources(["subapps/ResetPassword/twig/ResetPasswordApp.twig"]).done(function(data){var dict;try{dict=JSON.parse(amiWebApp.base64Decode(userdata))}catch(e){dict={}}amiWebApp.replaceHTML("#ami_main_content",data[0],{dict:dict,context:_this}).done(function(){$("#F956453E_2AB6_9397_4976_A11EE21B8FAB,#EB5C35F7_F6E0_9B1E_E356_9FB235003814").change(function(){var pass1=$("#F956453E_2AB6_9397_4976_A11EE21B8FAB").val();var pass2=$("#EB5C35F7_F6E0_9B1E_E356_9FB235003814").val();$("#EB5C35F7_F6E0_9B1E_E356_9FB235003814").get(0).setCustomValidity(pass1.length>0&&pass2.length>0&&pass1!==pass2?"Passwords don't match.":"")});$("#C12ED50C_4BF7_DAD3_C698_DE0DCBB3228C").submit(function(e){e.preventDefault();resetPasswordApp.change($("#A5A54104_A082_094F_F88C_10333C985981").val(),$("#F6520017_DBEB_C555_6D06_0E50AA50C43C").val(),$("#F956453E_2AB6_9397_4976_A11EE21B8FAB").val())});result.resolve()})}).fail(function(data){result.reject(data)});return result},change:function change(user,oldPass,newPass){amiWebApp.lock();amiCommand.changePass(user,oldPass,newPass).then(function(data,message){amiWebApp.success(message)},function(data,message){amiWebApp.error(message)})}});var resetPasswordApp=new ResetPasswordApp;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJlc2V0UGFzc3dvcmRBcHAuZXM2LmpzIl0sIm5hbWVzIjpbIiRBTUlDbGFzcyIsIiRleHRlbmRzIiwiYW1pIiwiU3ViQXBwIiwib25SZWFkeSIsInVzZXJkYXRhIiwicmVzdWx0IiwiJCIsIkRlZmVycmVkIiwiYW1pV2ViQXBwIiwibG9hZFJlc291cmNlcyIsImRvbmUiLCJkYXRhIiwiZGljdCIsIkpTT04iLCJwYXJzZSIsImJhc2U2NERlY29kZSIsImUiLCJyZXBsYWNlSFRNTCIsImNvbnRleHQiLCJjaGFuZ2UiLCJwYXNzMSIsInZhbCIsInBhc3MyIiwiZ2V0Iiwic2V0Q3VzdG9tVmFsaWRpdHkiLCJsZW5ndGgiLCJzdWJtaXQiLCJwcmV2ZW50RGVmYXVsdCIsInJlc2V0UGFzc3dvcmRBcHAiLCJyZXNvbHZlIiwiZmFpbCIsInJlamVjdCIsInVzZXIiLCJvbGRQYXNzIiwibmV3UGFzcyIsImxvY2siLCJhbWlDb21tYW5kIiwiY2hhbmdlUGFzcyIsInRoZW4iLCJtZXNzYWdlIiwic3VjY2VzcyIsImVycm9yIiwiUmVzZXRQYXNzd29yZEFwcCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7OztHQWFBQSxTQUFTLENBQUMsa0JBQUQsQ0FBcUIsQ0FHN0JDLFFBQVEsQ0FBRUMsR0FBRyxDQUFDQyxNQUhlLENBTzdCQyxPQUFPLENBQUUsaUJBQVNDLFFBQVQsQ0FDVCxnQkFDQyxHQUFJQyxDQUFBQSxNQUFNLENBQUdDLENBQUMsQ0FBQ0MsUUFBRixFQUFiLENBRUFDLFNBQVMsQ0FBQ0MsYUFBVixDQUF3QixDQUN2QixrREFEdUIsQ0FBeEIsRUFFR0MsSUFGSCxDQUVRLFNBQUNDLElBQUQsQ0FBVSxDQUVqQixHQUFJQyxDQUFBQSxJQUFKLENBRUEsR0FDQSxDQUNDQSxJQUFJLENBQUdDLElBQUksQ0FBQ0MsS0FBTCxDQUFXTixTQUFTLENBQUNPLFlBQVYsQ0FBdUJYLFFBQXZCLENBQVgsQ0FDUCxDQUNELE1BQU1ZLENBQU4sQ0FDQSxDQUNDSixJQUFJLENBQXdCLEVBQzVCLENBRURKLFNBQVMsQ0FBQ1MsV0FBVixDQUFzQixtQkFBdEIsQ0FBMkNOLElBQUksQ0FBQyxDQUFELENBQS9DLENBQW9ELENBQUNDLElBQUksQ0FBRUEsSUFBUCxDQUFhTSxPQUFPLENBQUUsS0FBdEIsQ0FBcEQsRUFBaUZSLElBQWpGLENBQXNGLFVBQVcsQ0FFakdKLENBQUMsQ0FBQyw2RUFBRCxDQUFELENBQWlGYSxNQUFqRixDQUF3RixVQUFNLENBRTVGLEdBQU1DLENBQUFBLEtBQUssQ0FBR2QsQ0FBQyxDQUFDLHVDQUFELENBQUQsQ0FBMkNlLEdBQTNDLEVBQWQsQ0FDQSxHQUFNQyxDQUFBQSxLQUFLLENBQUdoQixDQUFDLENBQUMsdUNBQUQsQ0FBRCxDQUEyQ2UsR0FBM0MsRUFBZCxDQUVBZixDQUFDLENBQUMsdUNBQUQsQ0FBRCxDQUEyQ2lCLEdBQTNDLENBQStDLENBQS9DLEVBQWtEQyxpQkFBbEQsQ0FDQ0osS0FBSyxDQUFDSyxNQUFOLENBQWUsQ0FBZixFQUFvQkgsS0FBSyxDQUFDRyxNQUFOLENBQWUsQ0FBbkMsRUFBd0NMLEtBQUssR0FBS0UsS0FBbEQsQ0FBMEQsd0JBQTFELENBQXNGLEVBRHZGLENBR0EsQ0FSRixFQVVDaEIsQ0FBQyxDQUFDLHVDQUFELENBQUQsQ0FBMkNvQixNQUEzQyxDQUFrRCxTQUFTVixDQUFULENBQVksQ0FFNURBLENBQUMsQ0FBQ1csY0FBRixHQUVBQyxnQkFBZ0IsQ0FBQ1QsTUFBakIsQ0FDQ2IsQ0FBQyxDQUFDLHVDQUFELENBQUQsQ0FBMkNlLEdBQTNDLEVBREQsQ0FFQ2YsQ0FBQyxDQUFDLHVDQUFELENBQUQsQ0FBMkNlLEdBQTNDLEVBRkQsQ0FHQ2YsQ0FBQyxDQUFDLHVDQUFELENBQUQsQ0FBMkNlLEdBQTNDLEVBSEQsQ0FLRCxDQVRELEVBV0FoQixNQUFNLENBQUN3QixPQUFQLEVBQ0EsQ0F4QkQsQ0EwQkEsQ0F6Q0QsRUF5Q0dDLElBekNILENBeUNRLFNBQUNuQixJQUFELENBQVUsQ0FFakJOLE1BQU0sQ0FBQzBCLE1BQVAsQ0FBY3BCLElBQWQsQ0FDQSxDQTVDRCxFQThDQSxNQUFPTixDQUFBQSxNQUNQLENBMUQ0QixDQThEN0JjLE1BQU0sQ0FBRSxnQkFBU2EsSUFBVCxDQUFlQyxPQUFmLENBQXdCQyxPQUF4QixDQUNSLENBQ0MxQixTQUFTLENBQUMyQixJQUFWLEdBRUFDLFVBQVUsQ0FBQ0MsVUFBWCxDQUFzQkwsSUFBdEIsQ0FBNEJDLE9BQTVCLENBQXFDQyxPQUFyQyxFQUE4Q0ksSUFBOUMsQ0FBbUQsU0FBQzNCLElBQUQsQ0FBTzRCLE9BQVAsQ0FBbUIsQ0FFckUvQixTQUFTLENBQUNnQyxPQUFWLENBQWtCRCxPQUFsQixDQUVBLENBSkQsQ0FJRyxTQUFDNUIsSUFBRCxDQUFPNEIsT0FBUCxDQUFtQixDQUVyQi9CLFNBQVMsQ0FBQ2lDLEtBQVYsQ0FBZ0JGLE9BQWhCLENBQ0EsQ0FQRCxDQVFBLENBMUU0QixDQUFyQixDQUFULENBbUZBLEdBQUlYLENBQUFBLGdCQUFnQixDQUFHLEdBQUljLENBQUFBLGdCQUEzQiIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQU1JIFdlYiBGcmFtZXdvcmtcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtWFhYWCBUaGUgQU1JIFRlYW0gLyBMUFNDIC8gSU4yUDNcbiAqXG4gKiBUaGlzIGZpbGUgbXVzdCBiZSB1c2VkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgQ2VDSUxMLUM6XG4gKiBodHRwOi8vd3d3LmNlY2lsbC5pbmZvL2xpY2VuY2VzL0xpY2VuY2VfQ2VDSUxMLUNfVjEtZW4uaHRtbFxuICogaHR0cDovL3d3dy5jZWNpbGwuaW5mby9saWNlbmNlcy9MaWNlbmNlX0NlQ0lMTC1DX1YxLWZyLmh0bWxcbiAqXG4gKi9cblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiRBTUlDbGFzcygnUmVzZXRQYXNzd29yZEFwcCcsIHtcblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQkZXh0ZW5kczogYW1pLlN1YkFwcCxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdG9uUmVhZHk6IGZ1bmN0aW9uKHVzZXJkYXRhKVxuXHR7XG5cdFx0dmFyIHJlc3VsdCA9ICQuRGVmZXJyZWQoKTtcblxuXHRcdGFtaVdlYkFwcC5sb2FkUmVzb3VyY2VzKFtcblx0XHRcdCdzdWJhcHBzL1Jlc2V0UGFzc3dvcmQvdHdpZy9SZXNldFBhc3N3b3JkQXBwLnR3aWcnXG5cdFx0XSkuZG9uZSgoZGF0YSkgPT4ge1xuXG5cdFx0XHR2YXIgZGljdDtcblxuXHRcdFx0dHJ5XG5cdFx0XHR7XG5cdFx0XHRcdGRpY3QgPSBKU09OLnBhcnNlKGFtaVdlYkFwcC5iYXNlNjREZWNvZGUodXNlcmRhdGEpKTtcblx0XHRcdH1cblx0XHRcdGNhdGNoKGUpXG5cdFx0XHR7XG5cdFx0XHRcdGRpY3QgPSAvKi0tLS0tLS0tLS0tLS0tLS0tKi97fS8qLS0tLS0tLS0tLS0tLS0tLS0qLztcblx0XHRcdH1cblxuXHRcdFx0YW1pV2ViQXBwLnJlcGxhY2VIVE1MKCcjYW1pX21haW5fY29udGVudCcsIGRhdGFbMF0sIHtkaWN0OiBkaWN0LCBjb250ZXh0OiB0aGlzfSkuZG9uZShmdW5jdGlvbigpIHtcblxuXHRcdFx0JCgnI0Y5NTY0NTNFXzJBQjZfOTM5N180OTc2X0ExMUVFMjFCOEZBQiwjRUI1QzM1RjdfRjZFMF85QjFFX0UzNTZfOUZCMjM1MDAzODE0JykuY2hhbmdlKCgpID0+IHtcblxuXHRcdFx0XHRcdGNvbnN0IHBhc3MxID0gJCgnI0Y5NTY0NTNFXzJBQjZfOTM5N180OTc2X0ExMUVFMjFCOEZBQicpLnZhbCgpO1xuXHRcdFx0XHRcdGNvbnN0IHBhc3MyID0gJCgnI0VCNUMzNUY3X0Y2RTBfOUIxRV9FMzU2XzlGQjIzNTAwMzgxNCcpLnZhbCgpO1xuXG5cdFx0XHRcdFx0JCgnI0VCNUMzNUY3X0Y2RTBfOUIxRV9FMzU2XzlGQjIzNTAwMzgxNCcpLmdldCgwKS5zZXRDdXN0b21WYWxpZGl0eShcblx0XHRcdFx0XHRcdHBhc3MxLmxlbmd0aCA+IDAgJiYgcGFzczIubGVuZ3RoID4gMCAmJiBwYXNzMSAhPT0gcGFzczIgPyAnUGFzc3dvcmRzIGRvblxcJ3QgbWF0Y2guJyA6ICcnXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0JCgnI0MxMkVENTBDXzRCRjdfREFEM19DNjk4X0RFMERDQkIzMjI4QycpLnN1Ym1pdChmdW5jdGlvbihlKSB7XG5cblx0XHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XG5cdFx0XHRcdFx0XHRyZXNldFBhc3N3b3JkQXBwLmNoYW5nZShcblx0XHRcdFx0XHRcdFx0JCgnI0E1QTU0MTA0X0EwODJfMDk0Rl9GODhDXzEwMzMzQzk4NTk4MScpLnZhbCgpLFxuXHRcdFx0XHRcdFx0XHQkKCcjRjY1MjAwMTdfREJFQl9DNTU1XzZEMDZfMEU1MEFBNTBDNDNDJykudmFsKCksXG5cdFx0XHRcdFx0XHRcdCQoJyNGOTU2NDUzRV8yQUI2XzkzOTdfNDk3Nl9BMTFFRTIxQjhGQUInKS52YWwoKVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0cmVzdWx0LnJlc29sdmUoKTtcblx0XHRcdH0pO1xuXG5cdFx0fSkuZmFpbCgoZGF0YSkgPT4ge1xuXG5cdFx0XHRyZXN1bHQucmVqZWN0KGRhdGEpO1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdGNoYW5nZTogZnVuY3Rpb24odXNlciwgb2xkUGFzcywgbmV3UGFzcylcblx0e1xuXHRcdGFtaVdlYkFwcC5sb2NrKCk7XG5cblx0XHRhbWlDb21tYW5kLmNoYW5nZVBhc3ModXNlciwgb2xkUGFzcywgbmV3UGFzcykudGhlbigoZGF0YSwgbWVzc2FnZSkgPT4ge1xuXG5cdFx0XHRhbWlXZWJBcHAuc3VjY2VzcyhtZXNzYWdlKTtcblxuXHRcdH0sIChkYXRhLCBtZXNzYWdlKSA9PiB7XG5cblx0XHRcdGFtaVdlYkFwcC5lcnJvcihtZXNzYWdlKTtcblx0XHR9KTtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xufSk7XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuLyogR0xPQkFMIElOU1RBTkNFICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxudmFyIHJlc2V0UGFzc3dvcmRBcHAgPSBuZXcgUmVzZXRQYXNzd29yZEFwcCgpO1xuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbiJdfQ==
