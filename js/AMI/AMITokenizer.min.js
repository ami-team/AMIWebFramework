/*!
 * AMIWebApp class
 *
 * Copyright (c) 2014 The AMI Team
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html
 *
 */
;function AMITokenizer(){this.tokenize=function(j,e,d,f,g){var k=[];var a="";var h=false;var c=0;var b=j.length;while(c<b){if(j.charAt(c) in e){if(!a){k.push(a);a=""}c++;continue}h=false;$.arrayFor(d,function(m,i){if(j.substring(c).indexOf(i)===0){if(!a){k.push(a);a=""}var l=c+i.length;k.push(j.substring(c,l));c=l;h=true;return}});if(h){continue}h=false;$.arrayFor(f,function(m,i){if(j.substring(c).indexOf(i)===0){if(!a){k.push(a);a=""}var l=c+shift(j.substring(c),i,g);k.push(j.substring(c,l));c=l;h=true;return}});if(h){continue}a+=j.charAt(c++)}if(!a){k.push(a)}return k};this.shift=function(f,c,g){var b=f.length;var a=c.length;var h=g.length;var e=a;var d=0;while(e<b){if(f.substring(e).indexOf(c)===0){e+=a;if(d%2==0){return e}d=0}else{if(f.substring(e).indexOf(g)===0){e+=h;d+=1}else{e+=1;d=0}}}throw"syntax error, missing token `"+c+"`"}}amiTokenizer=new AMITokenizer();