{"version":3,"sources":["AMI/external/ami-twig.es6.js","AMI/external/jspath.js","AMI/AMIExtension.js","AMI/AMIObject.js","AMI/AMIRouter.js","AMI/AMIWebApp.js","AMI/AMIInterface.js","AMI/AMICommand.js","AMI/AMILogin.js","AMI/AMIDoc.js"],"names":[],"mappings":"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","sourcesContent":["/*!\n * AMI Twig Engine\n *\n * Copyright (c) 2014-2019 The AMI Team / LPSC / IN2P3\n *\n * This file must be used under the terms of the CeCILL-C:\n * http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html\n * http://www.cecill.info/licences/Licence_CeCILL-C_V1-fr.html\n *\n */\n\n/*-------------------------------------------------------------------------*/\n/* amiTwig                                                                 */\n/*-------------------------------------------------------------------------*/\n\nvar amiTwig = {\n\tversion: '1.0.0'\n};\n\n/*-------------------------------------------------------------------------*/\n/* exports.amiTwig                                                         */\n/*-------------------------------------------------------------------------*/\n\nif(typeof exports !== 'undefined')\n{\n\tamiTwig.fs = require('fs');\n\n\tmodule.exports.amiTwig = amiTwig;\n}\n\n/*-------------------------------------------------------------------------*/\n\n/*\n * AMI Twig Engine\n *\n * Copyright (c) 2014-2019 The AMI Team / LPSC / IN2P3\n *\n * This file must be used under the terms of the CeCILL-C:\n * http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html\n * http://www.cecill.info/licences/Licence_CeCILL-C_V1-fr.html\n *\n */\n\n/*-------------------------------------------------------------------------*/\n/* amiTwig.tokenizer                                                       */\n/*-------------------------------------------------------------------------*/\n\namiTwig.tokenizer = {\n\t/*---------------------------------------------------------------------*/\n\n\ttokenize: function(code, line, spaces, tokenDefs, tokenTypes, error)\n\t{\n\t\tif(tokenDefs.length !== tokenTypes.length)\n\t\t{\n\t\t\tthrow '`tokenDefs.length != tokenTypes.length`';\n\t\t}\n\n\t\tconst result_tokens = [];\n\t\tconst result_types = [];\n\t\tconst result_lines = [];\n\n\t\tlet i = 0x000000000;\n\t\tconst l = code.length;\n\n\t\tlet word = '', token, c;\n\n__l0:\t\twhile(i < l)\n\t\t{\n\t\t\tc = code.charAt(0);\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t\t/* COUNT LINES                                                 */\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tif(c === '\\n')\n\t\t\t{\n\t\t\t\tline++;\n\t\t\t}\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t\t/* EAT SPACES                                                  */\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tif(spaces.indexOf(c) >= 0)\n\t\t\t{\n\t\t\t\tif(word)\n\t\t\t\t{\n\t\t\t\t\tif(error)\n\t\t\t\t\t{\n\t\t\t\t\t\tthrow 'invalid token `' + word + '`';\n\t\t\t\t\t}\n\n\t\t\t\t\tresult_tokens.push(word);\n\t\t\t\t\tresult_types.push(-1);\n\t\t\t\t\tresult_lines.push(line);\n\t\t\t\t\tword = '';\n\t\t\t\t}\n\n\t\t\t\tcode = code.substring(1);\n\t\t\t\ti += 1;\n\n\t\t\t\tcontinue __l0;\n\t\t\t}\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t\t/* EAT REGEXES                                                 */\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tfor(const j in tokenDefs)\n\t\t\t{\n\t\t\t\ttoken = this._match(code, tokenDefs[j]);\n\n\t\t\t\tif(token)\n\t\t\t\t{\n\t\t\t\t\tif(word)\n\t\t\t\t\t{\n\t\t\t\t\t\tif(error)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthrow 'invalid token `' + word + '`';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tresult_tokens.push(word);\n\t\t\t\t\t\tresult_types.push(-1);\n\t\t\t\t\t\tresult_lines.push(line);\n\t\t\t\t\t\tword = '';\n\t\t\t\t\t}\n\n\t\t\t\t\tresult_tokens.push(token);\n\t\t\t\t\tresult_types.push(tokenTypes[j]);\n\t\t\t\t\tresult_lines.push(line);\n\n\t\t\t\t\tcode = code.substring(token.length);\n\t\t\t\t\ti += token.length;\n\n\t\t\t\t\tcontinue __l0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t\t/* EAT REMAINING CHARACTERES                                   */\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tword += c;\n\n\t\t\tcode = code.substring(1);\n\t\t\ti += 1;\n\n/*\t\t\tcontinue __l0;\n */\n\t\t\t/*-------------------------------------------------------------*/\n\t\t}\n\n\t\tif(word)\n\t\t{\n\t\t\tif(error)\n\t\t\t{\n\t\t\t\tthrow 'invalid token `' + word + '`';\n\t\t\t}\n\n\t\t\tresult_tokens.push(word);\n\t\t\tresult_types.push(-1);\n\t\t\tresult_lines.push(line);\n/*\t\t\tword = '';\n */\t\t}\n\n\t\treturn {\n\t\t\ttokens: result_tokens,\n\t\t\ttypes: result_types,\n\t\t\tlines: result_lines,\n\t\t};\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t_match: function(s, stringOrRegExp)\n\t{\n\t\tlet m;\n\n\t\tif(stringOrRegExp instanceof RegExp)\n\t\t{\n\t\t\tm = s.match(stringOrRegExp);\n\n\t\t\treturn m !== null && this._checkNextChar(s, /*-*/m[0]/*-*/) ? /*-*/m[0]/*-*/ : null;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tm = s.indexOf(stringOrRegExp);\n\n\t\t\treturn m === 0x00 && this._checkNextChar(s, stringOrRegExp) ? stringOrRegExp : null;\n\t\t}\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t_alnum: [\n\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0,\n\t\t0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,\n\t\t1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1,\n\t\t0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,\n\t\t1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0,\n\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t],\n\n\t_checkNextChar: function(s, token)\n\t{\n\t\tconst length = token.length;\n\n\t\tconst charCode2 = s.charCodeAt(length - 0);\n\t\tconst charCode1 = s.charCodeAt(length - 1);\n\n\t\treturn isNaN(charCode2)\n\t\t       ||\n\t\t       this._alnum[charCode2] === 0\n\t\t       ||\n\t\t       this._alnum[charCode1] === 0\n\t\t;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n};\n\n/*-------------------------------------------------------------------------*/\n\n/*\n * AMI Twig Engine\n *\n * Copyright (c) 2014-2019 The AMI Team / LPSC / IN2P3\n *\n * This file must be used under the terms of the CeCILL-C:\n * http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html\n * http://www.cecill.info/licences/Licence_CeCILL-C_V1-fr.html\n *\n */\n\n/*-------------------------------------------------------------------------*/\n/* amiTwig.expr                                                            */\n/*-------------------------------------------------------------------------*/\n\namiTwig.expr = {};\n\n/*-------------------------------------------------------------------------*/\n/* amiTwig.expr.tokens                                                     */\n/*-------------------------------------------------------------------------*/\n\namiTwig.expr.tokens = {\n\t/*---------------------------------------------------------------------*/\n\n\t$init: function()\n\t{\n\t\t/*-----------------------------------------------------------------*/\n\t\t/* COMPOSITE TOKENS                                                */\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tthis.IS_XXX = [\n\t\t\tthis.DEFINED,\n\t\t\tthis.NULL,\n\t\t\tthis.EMPTY,\n\t\t\tthis.ITERABLE,\n\t\t\tthis.EVEN,\n\t\t\tthis.ODD,\n\t\t];\n\n\t\tthis.XXX_WITH = [\n\t\t\tthis.STARTS_WITH,\n\t\t\tthis.ENDS_WITH,\n\t\t];\n\n\t\tthis.PLUS_MINUS = [\n\t\t\tthis.CONCAT,\n\t\t\tthis.PLUS,\n\t\t\tthis.MINUS,\n\t\t];\n\n\t\tthis.MUL_FLDIV_DIV_MOD = [\n\t\t\tthis.MUL,\n\t\t\tthis.FLDIV,\n\t\t\tthis.DIV,\n\t\t\tthis.MOD,\n\t\t];\n\n\t\tthis.RX = [\n\t\t\tthis.RP,\n\t\t\tthis.RB1,\n\t\t];\n\n\t\t/*-----------------------------------------------------------------*/\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\t/* REAL TOKENS                                                         */\n\t/*---------------------------------------------------------------------*/\n\n\tLOGICAL_OR: 100,\n\tLOGICAL_AND: 101,\n\tBITWISE_OR: 102,\n\tBITWISE_XOR: 103,\n\tBITWISE_AND: 104,\n\tNOT: 105,\n\tIS: 106,\n\tDEFINED: 107,\n\tNULL: 108,\n\tEMPTY: 109,\n\tITERABLE: 110,\n\tEVEN: 111,\n\tODD: 112,\n\tCMP_OP: 113,\n\tSTARTS_WITH: 114,\n\tENDS_WITH: 115,\n\tMATCHES: 116,\n\tIN: 117,\n\tRANGE: 118,\n\tCONCAT: 119,\n\tPLUS: 120,\n\tMINUS: 121,\n\tPOWER: 122,\n\tMUL: 123,\n\tFLDIV: 124,\n\tDIV: 125,\n\tMOD: 126,\n\tCOLON: 127,\n\tDOT: 128,\n\tCOMMA: 129,\n\tPIPE: 130,\n\tLP: 131,\n\tRP: 132,\n\tLB1: 133,\n\tRB1: 134,\n\tLB2: 135,\n\tRB2: 136,\n\tSID: 137,\n\tTERMINAL: 138,\n\n\t/*---------------------------------------------------------------------*/\n\t/* VIRTUAL TOKENS                                                      */\n\t/*---------------------------------------------------------------------*/\n\n\tLST: 200,\n\tDIC: 201,\n\tFUN: 202,\n\tVAR: 203,\n\n\t/*---------------------------------------------------------------------*/\n};\n\n/*-------------------------------------------------------------------------*/\n\namiTwig.expr.tokens.$init();\n\n/*-------------------------------------------------------------------------*/\n/* amiTwig.expr.Tokenizer                                                  */\n/*-------------------------------------------------------------------------*/\n\namiTwig.expr.Tokenizer = function(code, line) {\n\t/*---------------------------------------------------------------------*/\n\n\tthis._spaces = [' ', '\\t', '\\n', '\\r'];\n\n\t/*---------------------------------------------------------------------*/\n\n\tthis._tokenDefs = [\n\t\t'or',\n\t\t'and',\n\t\t'b-or',\n\t\t'b-xor',\n\t\t'b-and',\n\t\t'not',\n\t\t'is',\n\t\t'defined',\n\t\t'null',\n\t\t'empty',\n\t\t'iterable',\n\t\t'even',\n\t\t'odd',\n\t\t'===',\n\t\t'==',\n\t\t'!==',\n\t\t'!=',\n\t\t'<=',\n\t\t'>=',\n\t\t'<',\n\t\t'>',\n\t\t/^starts\\s+with/,\n\t\t/^ends\\s+with/,\n\t\t'matches',\n\t\t'in',\n\t\t'..',\n\t\t'~',\n\t\t'+',\n\t\t'-',\n\t\t'**',\n\t\t'*',\n\t\t'//',\n\t\t'/',\n\t\t'%',\n\t\t':',\n\t\t'.',\n\t\t',',\n\t\t'|',\n\t\t'(',\n\t\t')',\n\t\t'[',\n\t\t']',\n\t\t'{',\n\t\t'}',\n\t\t'true',\n\t\t'false',\n\t\t/^[0-9]+\\.[0-9]+/,\n\t\t/^[0-9]+/,\n\t\t/^'(\\\\'|[^'])*'/,\n\t\t/^\"(\\\\\"|[^\"])*\"/,\n\t\t/^[a-zA-Z_$][a-zA-Z0-9_$]*/,\n\t];\n\n\t/*---------------------------------------------------------------------*/\n\n\tthis._tokenTypes = [\n\t\tamiTwig.expr.tokens.LOGICAL_OR,\n\t\tamiTwig.expr.tokens.LOGICAL_AND,\n\t\tamiTwig.expr.tokens.BITWISE_OR,\n\t\tamiTwig.expr.tokens.BITWISE_XOR,\n\t\tamiTwig.expr.tokens.BITWISE_AND,\n\t\tamiTwig.expr.tokens.NOT,\n\t\tamiTwig.expr.tokens.IS,\n\t\tamiTwig.expr.tokens.DEFINED,\n\t\tamiTwig.expr.tokens.NULL,\n\t\tamiTwig.expr.tokens.EMPTY,\n\t\tamiTwig.expr.tokens.ITERABLE,\n\t\tamiTwig.expr.tokens.EVEN,\n\t\tamiTwig.expr.tokens.ODD,\n\t\tamiTwig.expr.tokens.CMP_OP,\n\t\tamiTwig.expr.tokens.CMP_OP,\n\t\tamiTwig.expr.tokens.CMP_OP,\n\t\tamiTwig.expr.tokens.CMP_OP,\n\t\tamiTwig.expr.tokens.CMP_OP,\n\t\tamiTwig.expr.tokens.CMP_OP,\n\t\tamiTwig.expr.tokens.CMP_OP,\n\t\tamiTwig.expr.tokens.CMP_OP,\n\t\tamiTwig.expr.tokens.STARTS_WITH,\n\t\tamiTwig.expr.tokens.ENDS_WITH,\n\t\tamiTwig.expr.tokens.MATCHES,\n\t\tamiTwig.expr.tokens.IN,\n\t\tamiTwig.expr.tokens.RANGE,\n\t\tamiTwig.expr.tokens.CONCAT,\n\t\tamiTwig.expr.tokens.PLUS,\n\t\tamiTwig.expr.tokens.MINUS,\n\t\tamiTwig.expr.tokens.POWER,\n\t\tamiTwig.expr.tokens.MUL,\n\t\tamiTwig.expr.tokens.FLDIV,\n\t\tamiTwig.expr.tokens.DIV,\n\t\tamiTwig.expr.tokens.MOD,\n\t\tamiTwig.expr.tokens.COLON,\n\t\tamiTwig.expr.tokens.DOT,\n\t\tamiTwig.expr.tokens.COMMA,\n\t\tamiTwig.expr.tokens.PIPE,\n\t\tamiTwig.expr.tokens.LP,\n\t\tamiTwig.expr.tokens.RP,\n\t\tamiTwig.expr.tokens.LB1,\n\t\tamiTwig.expr.tokens.RB1,\n\t\tamiTwig.expr.tokens.LB2,\n\t\tamiTwig.expr.tokens.RB2,\n\t\tamiTwig.expr.tokens.TERMINAL,\n\t\tamiTwig.expr.tokens.TERMINAL,\n\t\tamiTwig.expr.tokens.TERMINAL,\n\t\tamiTwig.expr.tokens.TERMINAL,\n\t\tamiTwig.expr.tokens.TERMINAL,\n\t\tamiTwig.expr.tokens.TERMINAL,\n\t\tamiTwig.expr.tokens.SID,\n\t];\n\n\t/*---------------------------------------------------------------------*/\n\n\tthis.$init = function(code, line)\n\t{\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tconst result = amiTwig.tokenizer.tokenize(\n\t\t\tcode,\n\t\t\tline,\n\t\t\tthis._spaces,\n\t\t\tthis._tokenDefs,\n\t\t\tthis._tokenTypes,\n\t\t\ttrue\n\t\t);\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tthis.tokens = result.tokens;\n\t\tthis.types = result.types;\n\n\t\tthis.i = 0;\n\n\t\t/*-----------------------------------------------------------------*/\n\t};\n\n\t/*---------------------------------------------------------------------*/\n\n\tthis.next = function(n = 1)\n\t{\n\t\tthis.i += n;\n\t};\n\n\t/*---------------------------------------------------------------------*/\n\n\tthis.isEmpty = function()\n\t{\n\t\treturn this.i >= this.tokens.length;\n\t};\n\n\t/*---------------------------------------------------------------------*/\n\n\tthis.peekToken = function()\n\t{\n\t\treturn this.tokens[this.i];\n\t};\n\n\t/*---------------------------------------------------------------------*/\n\n\tthis.peekType = function()\n\t{\n\t\treturn this.types[this.i];\n\t};\n\n\t/*---------------------------------------------------------------------*/\n\n\tthis.checkType = function(type)\n\t{\n\t\tif(this.i < this.tokens.length)\n\t\t{\n\t\t\tconst TYPE = this.types[this.i];\n\n\t\t\treturn (type instanceof Array) ? (type.indexOf(TYPE) >= 0) : (type === TYPE);\n\t\t}\n\n\t\treturn false;\n\t};\n\n\t/*---------------------------------------------------------------------*/\n\n\tthis.$init(code, line);\n\n\t/*---------------------------------------------------------------------*/\n};\n\n/*-------------------------------------------------------------------------*/\n/* amiTwig.expr.Compiler                                                   */\n/*-------------------------------------------------------------------------*/\n\namiTwig.expr.Compiler = function(code, line) {\n\n\tthis.$init(code, line);\n};\n\n/*-------------------------------------------------------------------------*/\n\namiTwig.expr.Compiler.prototype = {\n\t/*---------------------------------------------------------------------*/\n\n\t$init: function(code, line)\n\t{\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tthis.tokenizer = new amiTwig.expr.Tokenizer(\n\t\t\tthis.code = code,\n\t\t\tthis.line = line\n\t\t);\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tthis.rootNode = this.parseFilter();\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tif(this.tokenizer.isEmpty() === false)\n\t\t{\n\t\t\tthrow 'syntax error, line `' + this.line + '`, unexpected token `' + this.tokenizer.peekToken() + '`';\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tdump: function()\n\t{\n\t\treturn this.rootNode.dump();\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tparseFilter: function()\n\t{\n\t\tlet left = this.parseLogicalOr(), node, temp;\n\n\t\t/*-----------------------------------------------------------------*/\n\t\t/* Filter : LogicalOr ('|' Dot1)*                                  */\n\t\t/*-----------------------------------------------------------------*/\n\n\t\twhile(this.tokenizer.checkType(amiTwig.expr.tokens.PIPE))\n\t\t{\n\t\t\tthis.tokenizer.next();\n\n\t\t\tnode = this.parseDot1(true);\n\n\t\t\tfor(temp = node; temp.nodeType === amiTwig.expr.tokens.DOT; temp = temp.nodeLeft);\n\n\t\t\ttemp.list.unshift(left);\n\n\t\t\tleft = node;\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn left;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tparseLogicalOr: function()\n\t{\n\t\tlet left = this.parseLogicalAnd(), right, node;\n\n\t\t/*-----------------------------------------------------------------*/\n\t\t/* LogicalOr : LogicalAnd ('or' LogicalAnd)*                       */\n\t\t/*-----------------------------------------------------------------*/\n\n\t\twhile(this.tokenizer.checkType(amiTwig.expr.tokens.LOGICAL_OR))\n\t\t{\n\t\t\tnode = new amiTwig.expr.Node(this.tokenizer.peekType(), this.tokenizer.peekToken());\n\t\t\tthis.tokenizer.next();\n\n\t\t\tright = this.parseLogicalAnd();\n\n\t\t\tnode.nodeLeft = left;\n\t\t\tnode.nodeRight = right;\n\n\t\t\tleft = node;\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn left;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tparseLogicalAnd: function()\n\t{\n\t\tlet left = this.parseBitwiseOr(), right, node;\n\n\t\t/*-----------------------------------------------------------------*/\n\t\t/* LogicalAnd : BitwiseOr ('and' BitwiseOr)*                       */\n\t\t/*-----------------------------------------------------------------*/\n\n\t\twhile(this.tokenizer.checkType(amiTwig.expr.tokens.LOGICAL_AND))\n\t\t{\n\t\t\tnode = new amiTwig.expr.Node(this.tokenizer.peekType(), this.tokenizer.peekToken());\n\t\t\tthis.tokenizer.next();\n\n\t\t\tright = this.parseBitwiseOr();\n\n\t\t\tnode.nodeLeft = left;\n\t\t\tnode.nodeRight = right;\n\n\t\t\tleft = node;\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn left;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tparseBitwiseOr: function()\n\t{\n\t\tlet left = this.parseBitwiseXor(), right, node;\n\n\t\t/*-----------------------------------------------------------------*/\n\t\t/* BitwiseOr : BitwiseXor ('b-or' BitwiseXor)*                     */\n\t\t/*-----------------------------------------------------------------*/\n\n\t\twhile(this.tokenizer.checkType(amiTwig.expr.tokens.BITWISE_OR))\n\t\t{\n\t\t\tnode = new amiTwig.expr.Node(this.tokenizer.peekType(), this.tokenizer.peekToken());\n\t\t\tthis.tokenizer.next();\n\n\t\t\tright = this.parseBitwiseXor();\n\n\t\t\tnode.nodeLeft = left;\n\t\t\tnode.nodeRight = right;\n\n\t\t\tleft = node;\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn left;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tparseBitwiseXor: function()\n\t{\n\t\tlet left = this.parseBitwiseAnd(), right, node;\n\n\t\t/*-----------------------------------------------------------------*/\n\t\t/* BitwiseXor : BitwiseAnd ('b-xor' BitwiseAnd)*                   */\n\t\t/*-----------------------------------------------------------------*/\n\n\t\twhile(this.tokenizer.checkType(amiTwig.expr.tokens.BITWISE_XOR))\n\t\t{\n\t\t\tnode = new amiTwig.expr.Node(this.tokenizer.peekType(), this.tokenizer.peekToken());\n\t\t\tthis.tokenizer.next();\n\n\t\t\tright = this.parseBitwiseAnd();\n\n\t\t\tnode.nodeLeft = left;\n\t\t\tnode.nodeRight = right;\n\n\t\t\tleft = node;\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn left;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tparseBitwiseAnd: function()\n\t{\n\t\tlet left = this.parseNot(), right, node;\n\n\t\t/*-----------------------------------------------------------------*/\n\t\t/* BitwiseAnd : Not ('b-and' Not)*                                 */\n\t\t/*-----------------------------------------------------------------*/\n\n\t\twhile(this.tokenizer.checkType(amiTwig.expr.tokens.BITWISE_AND))\n\t\t{\n\t\t\tnode = new amiTwig.expr.Node(this.tokenizer.peekType(), this.tokenizer.peekToken());\n\t\t\tthis.tokenizer.next();\n\n\t\t\tright = this.parseNot();\n\n\t\t\tnode.nodeLeft = left;\n\t\t\tnode.nodeRight = right;\n\n\t\t\tleft = node;\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn left;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tparseNot: function()\n\t{\n\t\tlet right, node;\n\n\t\t/*-----------------------------------------------------------------*/\n\t\t/* Not : 'not' Comp                                                */\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tif(this.tokenizer.checkType(amiTwig.expr.tokens.NOT))\n\t\t{\n\t\t\tnode = new amiTwig.expr.Node(this.tokenizer.peekType(), this.tokenizer.peekToken());\n\t\t\tthis.tokenizer.next();\n\n\t\t\tright = this.parseComp();\n\n\t\t\tnode.nodeLeft = null;\n\t\t\tnode.nodeRight = right;\n\n\t\t\treturn node;\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\t\t/*     | Comp                                                      */\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn this.parseComp();\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tparseComp: function()\n\t{\n\t\tlet left = this.parseAddSub(), right, node, swap;\n\n\t\t/*-----------------------------------------------------------------*/\n\t\t/* Comp : AddSub 'is' 'not'? ('defined' | 'null' | ...)            */\n\t\t/*-----------------------------------------------------------------*/\n\n\t\t/**/ if(this.tokenizer.checkType(amiTwig.expr.tokens.IS))\n\t\t{\n\t\t\tnode = new amiTwig.expr.Node(this.tokenizer.peekType(), this.tokenizer.peekToken());\n\t\t\tthis.tokenizer.next();\n\n\t\t\t/* swap 'is' and 'not' */\n\t\t\tswap = node;\n\t\t\t/* swap 'is' and 'not' */\n\n\t\t\tif(this.tokenizer.checkType(amiTwig.expr.tokens.NOT))\n\t\t\t{\n\t\t\t\tnode = new amiTwig.expr.Node(this.tokenizer.peekType(), this.tokenizer.peekToken());\n\t\t\t\tthis.tokenizer.next();\n\n\t\t\t\tnode.nodeLeft = null;\n\t\t\t\tnode.nodeRight = swap;\n\t\t\t}\n\n\t\t\tif(this.tokenizer.checkType(amiTwig.expr.tokens.IS_XXX))\n\t\t\t{\n\t\t\t\tright = new amiTwig.expr.Node(this.tokenizer.peekType(), this.tokenizer.peekToken());\n\t\t\t\tthis.tokenizer.next();\n\n\t\t\t\tswap.nodeLeft = left;\n\t\t\t\tswap.nodeRight = right;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthrow 'syntax error, line `' + this.line + '`, keyword `defined`, `null`, `empty`, `iterable`, `even` or `odd` expected';\n\t\t\t}\n\n\t\t\tleft = node;\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\t\t/*      | AddSub ('===' | '==' | ...) AddSub                       */\n\t\t/*-----------------------------------------------------------------*/\n\n\t\telse if(this.tokenizer.checkType(amiTwig.expr.tokens.CMP_OP))\n\t\t{\n\t\t\tnode = new amiTwig.expr.Node(this.tokenizer.peekType(), this.tokenizer.peekToken());\n\t\t\tthis.tokenizer.next();\n\n\t\t\tright = this.parseAddSub();\n\n\t\t\tnode.nodeLeft = left;\n\t\t\tnode.nodeRight = right;\n\n\t\t\tleft = node;\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\t\t/*      | AddSub ('starts' | 'ends') `with` AddSub                 */\n\t\t/*-----------------------------------------------------------------*/\n\n\t\telse if(this.tokenizer.checkType(amiTwig.expr.tokens.XXX_WITH))\n\t\t{\n\t\t\tnode = new amiTwig.expr.Node(this.tokenizer.peekType(), this.tokenizer.peekToken());\n\t\t\tthis.tokenizer.next();\n\n\t\t\tright = this.parseAddSub();\n\n\t\t\tnode.nodeLeft = left;\n\t\t\tnode.nodeRight = right;\n\n\t\t\tleft = node;\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\t\t/*      | AddSub 'matches' AddSub                                  */\n\t\t/*-----------------------------------------------------------------*/\n\n\t\telse if(this.tokenizer.checkType(amiTwig.expr.tokens.MATCHES))\n\t\t{\n\t\t\tnode = new amiTwig.expr.Node(this.tokenizer.peekType(), this.tokenizer.peekToken());\n\t\t\tthis.tokenizer.next();\n\n\t\t\tright = this.parseAddSub();\n\n\t\t\tnode.nodeLeft = left;\n\t\t\tnode.nodeRight = right;\n\n\t\t\tleft = node;\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\t\t/*      | AddSub 'in' AddSub                                       */\n\t\t/*-----------------------------------------------------------------*/\n\n\t\telse if(this.tokenizer.checkType(amiTwig.expr.tokens.IN))\n\t\t{\n\t\t\tnode = new amiTwig.expr.Node(this.tokenizer.peekType(), this.tokenizer.peekToken());\n\t\t\tthis.tokenizer.next();\n\n\t\t\tright = this.parseAddSub();\n\n\t\t\tnode.nodeLeft = left;\n\t\t\tnode.nodeRight = right;\n\n\t\t\tleft = node;\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\t\t/*      | AddSub                                                   */\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn left;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tparseAddSub: function()\n\t{\n\t\tlet left = this.parseMulDiv(), right, node;\n\n\t\t/*-----------------------------------------------------------------*/\n\t\t/* AddSub : MulDiv (('+' | '-') MulDiv)*                           */\n\t\t/*-----------------------------------------------------------------*/\n\n\t\twhile(this.tokenizer.checkType(amiTwig.expr.tokens.PLUS_MINUS))\n\t\t{\n\t\t\tnode = new amiTwig.expr.Node(this.tokenizer.peekType(), this.tokenizer.peekToken());\n\t\t\tthis.tokenizer.next();\n\n\t\t\tright = this.parseMulDiv();\n\n\t\t\tnode.nodeLeft = left;\n\t\t\tnode.nodeRight = right;\n\n\t\t\tleft = node;\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn left;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tparseMulDiv: function()\n\t{\n\t\tlet left = this.parsePlusMinus(), right, node;\n\n\t\t/*-----------------------------------------------------------------*/\n\t\t/* MulDiv : PlusMinus (('*' | '//' | '/' | '%') PlusMinus)*        */\n\t\t/*-----------------------------------------------------------------*/\n\n\t\twhile(this.tokenizer.checkType(amiTwig.expr.tokens.MUL_FLDIV_DIV_MOD))\n\t\t{\n\t\t\tnode = new amiTwig.expr.Node(this.tokenizer.peekType(), this.tokenizer.peekToken());\n\t\t\tthis.tokenizer.next();\n\n\t\t\tright = this.parsePlusMinus();\n\n\t\t\tnode.nodeLeft = left;\n\t\t\tnode.nodeRight = right;\n\n\t\t\tleft = node;\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn left;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tparsePlusMinus: function()\n\t{\n\t\tlet right, node;\n\n\t\t/*-----------------------------------------------------------------*/\n\t\t/* PlusMinus : ('-' | '+') Power                                   */\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tif(this.tokenizer.checkType(amiTwig.expr.tokens.PLUS_MINUS))\n\t\t{\n\t\t\tnode = new amiTwig.expr.Node(this.tokenizer.peekType(), this.tokenizer.peekToken());\n\t\t\tthis.tokenizer.next();\n\n\t\t\tright = this.parsePower();\n\n\t\t\tnode.nodeLeft = null;\n\t\t\tnode.nodeRight = right;\n\n\t\t\treturn node;\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\t\t/*           | Dot1                                                */\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn this.parsePower();\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tparsePower: function()\n\t{\n\t\tlet left = this.parseDot1(), right, node;\n\n\t\t/*-----------------------------------------------------------------*/\n\t\t/* Power : Dot1 ('**' Dot1)*                                       */\n\t\t/*-----------------------------------------------------------------*/\n\n\t\twhile(this.tokenizer.checkType(amiTwig.expr.tokens.POWER))\n\t\t{\n\t\t\tnode = new amiTwig.expr.Node(this.tokenizer.peekType(), this.tokenizer.peekToken());\n\t\t\tthis.tokenizer.next();\n\n\t\t\tright = this.parseDot1();\n\n\t\t\tnode.nodeLeft = left;\n\t\t\tnode.nodeRight = right;\n\n\t\t\tleft = node;\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn left;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tparseDot1: function(isFilter)\n\t{\n\t\tconst node = this.parseDot2(isFilter);\n\n\t\tif(node)\n\t\t{\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tlet temp = node;\n\n\t\t\tfor(; temp.nodeType === amiTwig.expr.tokens.DOT; temp = temp.nodeLeft);\n\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tif(temp.q)\n\t\t\t{\n\t\t\t\t/**/ if(temp.nodeType === amiTwig.expr.tokens.FUN)\n\t\t\t\t{\n\t\t\t\t\tif(temp.nodeValue in amiTwig.stdlib)\n\t\t\t\t\t{\n\t\t\t\t\t\ttemp.nodeValue = 'amiTwig.stdlib.' + temp.nodeValue;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\ttemp.nodeValue = /*---*/'_.'/*---*/ + temp.nodeValue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(temp.nodeType === amiTwig.expr.tokens.VAR)\n\t\t\t\t{\n\t\t\t\t\ttemp.nodeValue = /*---*/'_.'/*---*/ + temp.nodeValue;\n\t\t\t\t}\n\n\t\t\t\ttemp.q = false;\n\t\t\t}\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t}\n\n\t\treturn node;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tparseDot2: function(isFilter)\n\t{\n\t\tlet left = this.parseDot3(isFilter), right, node;\n\n\t\t/*-----------------------------------------------------------------*/\n\t\t/* Dot2 : Dot3 ('.' Dot3)*                                         */\n\t\t/*-----------------------------------------------------------------*/\n\n\t\twhile(this.tokenizer.checkType(amiTwig.expr.tokens.DOT))\n\t\t{\n\t\t\tnode = new amiTwig.expr.Node(this.tokenizer.peekType(), '.');\n\t\t\tthis.tokenizer.next();\n\n\t\t\tright = this.parseDot3(isFilter);\n\n\t\t\tnode.nodeLeft = left;\n\t\t\tnode.nodeRight = right;\n\n\t\t\tleft = node;\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn left;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tparseDot3: function(isFilter)\n\t{\n\t\tlet left = this.parseX(isFilter), right, node;\n\n\t\t/*-----------------------------------------------------------------*/\n\t\t/* parseDot3 : X ('[' Filter ']')*                                 */\n\t\t/*-----------------------------------------------------------------*/\n\n\t\twhile(this.tokenizer.checkType(amiTwig.expr.tokens.LB1))\n\t\t{\n\t\t\tthis.tokenizer.next();\n\n\t\t\tright = this.parseFilter();\n\n\t\t\tif(this.tokenizer.checkType(amiTwig.expr.tokens.RB1))\n\t\t\t{\n\t\t\t\tthis.tokenizer.next();\n\n\t\t\t\tnode = new amiTwig.expr.Node(amiTwig.expr.tokens.DOT, '[]');\n\n\t\t\t\tnode.nodeLeft = left;\n\t\t\t\tnode.nodeRight = right;\n\n\t\t\t\tleft = node;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthrow 'syntax error, line `' + this.line + '`, `]` expected';\n\t\t\t}\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\t\t/*         | X                                                     */\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn left;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tparseX: function(isFilter)\n\t{\n\t\tlet node;\n\n\t\t/*-----------------------------------------------------------------*/\n\t\t/* X : Group | Array | Object | FunVar | Terminal                  */\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tif((node = this.parseGroup())) {\n\t\t\treturn node;\n\t\t}\n\n\t\tif((node = this.parseArray())) {\n\t\t\treturn node;\n\t\t}\n\n\t\tif((node = this.parseObject())) {\n\t\t\treturn node;\n\t\t}\n\n\t\tif((node = this.parseFunVar(isFilter))) {\n\t\t\treturn node;\n\t\t}\n\n\t\tif((node = this.parseTerminal())) {\n\t\t\treturn node;\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\t\t/* SYNTAX ERROR                                                    */\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tthrow 'syntax error, line `' + this.line + '`, syntax error or tuncated expression';\n\n\t\t/*-----------------------------------------------------------------*/\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tparseGroup: function()\n\t{\n\t\tlet node;\n\n\t\t/*-----------------------------------------------------------------*/\n\t\t/* Group : '(' Filter ')'                                          */\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tif(this.tokenizer.checkType(amiTwig.expr.tokens.LP))\n\t\t{\n\t\t\tthis.tokenizer.next();\n\n\t\t\tnode = this.parseFilter();\n\n\t\t\tif(this.tokenizer.checkType(amiTwig.expr.tokens.RP))\n\t\t\t{\n\t\t\t\tthis.tokenizer.next();\n\n\t\t\t\treturn node;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthrow 'syntax error, line `' + this.line + '`, `)` expected';\n\t\t\t}\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn null;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tparseArray: function()\n\t{\n\t\tlet node, list;\n\n\t\t/*-----------------------------------------------------------------*/\n\t\t/* Array : '[' Singlets ']'                                        */\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tif(this.tokenizer.checkType(amiTwig.expr.tokens.LB1))\n\t\t{\n\t\t\tthis.tokenizer.next();\n\n\t\t\tlist = this._parseSinglets();\n\n\t\t\tif(this.tokenizer.checkType(amiTwig.expr.tokens.RB1))\n\t\t\t{\n\t\t\t\tthis.tokenizer.next();\n\n\t\t\t\tnode = new amiTwig.expr.Node(amiTwig.expr.tokens.LST, 'Array');\n\n\t\t\t\tnode.list = list;\n\n\t\t\t\treturn node;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthrow 'syntax error, line `' + this.line + '`, `]` expected';\n\t\t\t}\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn null;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tparseObject: function()\n\t{\n\t\tlet node, dict;\n\n\t\t/*-----------------------------------------------------------------*/\n\t\t/* Object : '{' Doublets '}'                                       */\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tif(this.tokenizer.checkType(amiTwig.expr.tokens.LB2))\n\t\t{\n\t\t\tthis.tokenizer.next();\n\n\t\t\tdict = this._parseDoublets();\n\n\t\t\tif(this.tokenizer.checkType(amiTwig.expr.tokens.RB2))\n\t\t\t{\n\t\t\t\tthis.tokenizer.next();\n\n\t\t\t\tnode = new amiTwig.expr.Node(amiTwig.expr.tokens.DIC, 'Object');\n\n\t\t\t\tnode.dict = dict;\n\n\t\t\t\treturn node;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthrow 'syntax error, line `' + this.line + '`, `}` expected';\n\t\t\t}\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn null;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tparseFunVar: function(isFilter)\n\t{\n\t\tlet node;\n\n\t\tif(this.tokenizer.checkType(amiTwig.expr.tokens.SID))\n\t\t{\n\t\t\tnode = new amiTwig.expr.Node(0, isFilter ? 'filter_' + this.tokenizer.peekToken() : this.tokenizer.peekToken());\n\n\t\t\tnode.q = true;\n\n\t\t\tthis.tokenizer.next();\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t\t/* FunVar : SID '(' Singlets ')'                               */\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\t/**/ if(this.tokenizer.checkType(amiTwig.expr.tokens.LP))\n\t\t\t{\n\t\t\t\tthis.tokenizer.next();\n\n\t\t\t\tnode.list = this._parseSinglets();\n\n\t\t\t\tif(this.tokenizer.checkType(amiTwig.expr.tokens.RP))\n\t\t\t\t{\n\t\t\t\t\tthis.tokenizer.next();\n\n\t\t\t\t\tnode.nodeType = amiTwig.expr.tokens.FUN;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthrow 'syntax error, line `' + this.line + '`, `)` expected';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t\t/*        | SID                                                */\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\telse\n\t\t\t{\n\t\t\t\tnode.nodeType = isFilter ? amiTwig.expr.tokens.FUN\n\t\t\t\t                         : amiTwig.expr.tokens.VAR\n\t\t\t\t;\n\n\t\t\t\tnode.list = [];\n\t\t\t}\n\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\treturn node;\n\t\t}\n\n\t\treturn null;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t_parseSinglets: function()\n\t{\n\t\tconst result = [];\n\n\t\twhile(this.tokenizer.checkType(amiTwig.expr.tokens.RX) === false)\n\t\t{\n\t\t\tthis._parseSinglet(result);\n\n\t\t\tif(this.tokenizer.checkType(amiTwig.expr.tokens.COMMA) === true)\n\t\t\t{\n\t\t\t\tthis.tokenizer.next();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t_parseDoublets: function()\n\t{\n\t\tconst result = {};\n\n\t\twhile(this.tokenizer.checkType(amiTwig.expr.tokens.RB2) === false)\n\t\t{\n\t\t\tthis._parseDoublet(result);\n\n\t\t\tif(this.tokenizer.checkType(amiTwig.expr.tokens.COMMA) === true)\n\t\t\t{\n\t\t\t\tthis.tokenizer.next();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t_parseSinglet: function(result)\n\t{\n\t\tresult.push(this.parseFilter());\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t_parseDoublet: function(result)\n\t{\n\t\tif(this.tokenizer.checkType(amiTwig.expr.tokens.TERMINAL))\n\t\t{\n\t\t\tconst key = this.tokenizer.peekToken();\n\t\t\tthis.tokenizer.next();\n\n\t\t\tif(this.tokenizer.checkType(amiTwig.expr.tokens.COLON))\n\t\t\t{\n/*\t\t\t\tconst colon = this.tokenizer.peekToken();\n */\t\t\t\tthis.tokenizer.next();\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tresult[key] = this.parseFilter();\n\n\t\t\t\t/*---------------------------------------------------------*/\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthrow 'syntax error, line `' + this.line + '`, `:` expected';\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthrow 'syntax error, line `' + this.line + '`, terminal expected';\n\t\t}\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tparseTerminal: function()\n\t{\n\t\tlet left, right, node;\n\n\t\t/*-----------------------------------------------------------------*/\n\t\t/* Terminal : TERMINAL | RANGE                                     */\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tif(this.tokenizer.checkType(amiTwig.expr.tokens.TERMINAL))\n\t\t{\n\t\t\tleft = new amiTwig.expr.Node(this.tokenizer.peekType(), this.tokenizer.peekToken());\n\t\t\tthis.tokenizer.next();\n\n\t\t\tif(this.tokenizer.checkType(amiTwig.expr.tokens.RANGE))\n\t\t\t{\n\t\t\t\tnode = new amiTwig.expr.Node(this.tokenizer.peekType(), this.tokenizer.peekToken());\n\t\t\t\tthis.tokenizer.next();\n\n\t\t\t\tif(this.tokenizer.checkType(amiTwig.expr.tokens.TERMINAL))\n\t\t\t\t{\n\t\t\t\t\tright = new amiTwig.expr.Node(this.tokenizer.peekType(), this.tokenizer.peekToken());\n\t\t\t\t\tthis.tokenizer.next();\n\n\t\t\t\t\tnode.nodeLeft = left;\n\t\t\t\t\tnode.nodeRight = right;\n\n\t\t\t\t\treturn node;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn left;\n\t\t\t}\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn null;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n};\n\n/*-------------------------------------------------------------------------*/\n/* amiTwig.expr.Node                                                       */\n/*-------------------------------------------------------------------------*/\n\namiTwig.expr.Node = function(nodeType, nodeValue) {\n\n\tthis.$init(nodeType, nodeValue);\n};\n\n/*-------------------------------------------------------------------------*/\n\namiTwig.expr.Node.prototype = {\n\t/*---------------------------------------------------------------------*/\n\n\t$init: function(nodeType, nodeValue)\n\t{\n\t\tthis.nodeType = nodeType;\n\t\tthis.nodeValue = nodeValue;\n\t\tthis.nodeLeft = null;\n\t\tthis.nodeRight = null;\n\t\tthis.list = null;\n\t\tthis.dict = null;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t_dump: function(nodes, edges, pCnt)\n\t{\n\t\tlet CNT;\n\n\t\tconst cnt = pCnt[0];\n\n\t\tnodes.push('\\tnode' + cnt + ' [label=\"' + this.nodeValue.replace(/\"/g, '\\\\\"') + '\"];');\n\n\t\tif(this.nodeLeft)\n\t\t{\n\t\t\tCNT = ++pCnt[0];\n\t\t\tedges.push('\\tnode' + cnt + ' -> node' + CNT + ';');\n\t\t\tthis.nodeLeft._dump(nodes, edges, pCnt);\n\t\t}\n\n\t\tif(this.nodeRight)\n\t\t{\n\t\t\tCNT = ++pCnt[0];\n\t\t\tedges.push('\\tnode' + cnt + ' -> node' + CNT + ';');\n\t\t\tthis.nodeRight._dump(nodes, edges, pCnt);\n\t\t}\n\n\t\tif(this.list)\n\t\t{\n\t\t\tfor(const i in this.list)\n\t\t\t{\n\t\t\t\tCNT = ++pCnt[0];\n\t\t\t\tedges.push('\\tnode' + cnt + ' -> node' + CNT + ' [label=\"[' + i.replace(/\"/g, '\\\\\"') + ']\"];');\n\t\t\t\tthis.list[i]._dump(nodes, edges, pCnt);\n\t\t\t}\n\t\t}\n\n\t\tif(this.dict)\n\t\t{\n\t\t\tfor(const i in this.dict)\n\t\t\t{\n\t\t\t\tCNT = ++pCnt[0];\n\t\t\t\tedges.push('\\tnode' + cnt + ' -> node' + CNT + ' [label=\"[' + i.replace(/\"/g, '\\\\\"') + ']\"];');\n\t\t\t\tthis.dict[i]._dump(nodes, edges, pCnt);\n\t\t\t}\n\t\t}\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tdump: function()\n\t{\n\t\tconst nodes = [];\n\t\tconst edges = [];\n\n\t\tthis._dump(nodes, edges, [0]);\n\n\t\treturn 'digraph ast {\\n\\trankdir=TB;\\n' + nodes.join('\\n') + '\\n' + edges.join('\\n') + '\\n}';\n\t},\n\n\t/*---------------------------------------------------------------------*/\n};\n\n/*-------------------------------------------------------------------------*/\n\n/*\n * AMI Twig Engine\n *\n * Copyright (c) 2014-2019 The AMI Team / LPSC / IN2P3\n *\n * This file must be used under the terms of the CeCILL-C:\n * http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html\n * http://www.cecill.info/licences/Licence_CeCILL-C_V1-fr.html\n *\n */\n\n/*-------------------------------------------------------------------------*/\n/* amiTwig.tmpl                                                            */\n/*-------------------------------------------------------------------------*/\n\namiTwig.tmpl = {};\n\n/*-------------------------------------------------------------------------*/\n/* amiTwig.tmpl.Compiler                                                   */\n/*-------------------------------------------------------------------------*/\n\namiTwig.tmpl.Compiler = function(tmpl) {\n\n\tthis.$init(tmpl);\n};\n\n/*-------------------------------------------------------------------------*/\n\namiTwig.tmpl.Compiler.prototype = {\n\t/*---------------------------------------------------------------------*/\n\n\tSTATEMENT_RE: /\\{%\\s*([a-zA-Z]+)\\s*((?:.|\\n)*?)\\s*%\\}/,\n\n\tCOMMENT_RE: /\\{#\\s*((?:.|\\n)*?)\\s*#\\}/g,\n\n\t/*---------------------------------------------------------------------*/\n\n\t_count: function(s)\n\t{\n\t\tlet result = 0;\n\n\t\tconst l = s.length;\n\n\t\tfor(let i = 0; i < l; i++)\n\t\t{\n\t\t\tif(s[i] === '\\n') result++;\n\t\t}\n\n\t\treturn result;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t$init: function(tmpl)\n\t{\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tlet line = 1;\n\n\t\tlet column;\n\t\tlet COLUMN;\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tthis.rootNode = {\n\t\t\tline: line,\n\t\t\tkeyword: '@root',\n\t\t\texpression: '',\n\t\t\tblocks: [{\n\t\t\t\texpression: '@true',\n\t\t\t\tlist: [],\n\t\t\t}],\n\t\t\tvalue: '',\n\t\t};\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tconst stack1 = [this.rootNode];\n\t\tconst stack2 = [0x00000000000];\n\n\t\tlet item;\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tfor(tmpl = tmpl.replace(this.COMMENT_RE, '');; tmpl = tmpl.substr(COLUMN))\n\t\t{\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tconst curr = stack1[stack1.length - 1];\n\t\t\t let  indx = stack2[stack2.length - 1];\n\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tconst m = tmpl.match(this.STATEMENT_RE);\n\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tif(m === null)\n\t\t\t{\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tline += this._count(tmpl);\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tcurr.blocks[indx].list.push({\n\t\t\t\t\tline: line,\n\t\t\t\t\tkeyword: '@text',\n\t\t\t\t\texpression: '',\n\t\t\t\t\tblocks: [],\n\t\t\t\t\tvalue: tmpl,\n\t\t\t\t});\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tconst errors = [];\n\n\t\t\t\tfor(let i = stack1.length - 1; i > 0; i--)\n\t\t\t\t{\n\t\t\t\t\t/**/ if(stack1[i].keyword === 'if')\n\t\t\t\t\t{\n\t\t\t\t\t\terrors.push('missing keyword `endif`');\n\t\t\t\t\t}\n\t\t\t\t\telse if(stack1[i].keyword === 'for')\n\t\t\t\t\t{\n\t\t\t\t\t \terrors.push('missing keyword `endfor`');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(errors.length > 0)\n\t\t\t\t{\n\t\t\t\t\tthrow 'syntax error, line `' + line + '`, ' + errors.join(', ');\n\t\t\t\t}\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tconst match = m[0];\n\t\t\tconst keyword = m[1];\n\t\t\tconst expression = m[2];\n\n\t\t\tcolumn = m.index + 0x0000000000;\n\t\t\tCOLUMN = m.index + match.length;\n\n\t\t\tconst value = tmpl.substr(0, column);\n\t\t\tconst VALUE = tmpl.substr(0, COLUMN);\n\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tline += this._count(VALUE);\n\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tif(value)\n\t\t\t{\n\t\t\t\titem = {\n\t\t\t\t\tline: line,\n\t\t\t\t\tkeyword: '@text',\n\t\t\t\t\texpression: '',\n\t\t\t\t\tblocks: [],\n\t\t\t\t\tvalue: value,\n\t\t\t\t}\n\n\t\t\t\tcurr.blocks[indx].list.push(item);\n\t\t\t}\n\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tswitch(keyword)\n\t\t\t{\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tcase 'flush':\n\t\t\t\tcase 'autoescape':\n\t\t\t\tcase 'spaceless':\n\t\t\t\tcase 'verbatim':\n\n\t\t\t\t\t/* IGNORE */\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tcase 'do':\n\t\t\t\tcase 'set':\n\t\t\t\tcase 'include':\n\n\t\t\t\t\titem = {\n\t\t\t\t\t\tline: line,\n\t\t\t\t\t\tkeyword: keyword,\n\t\t\t\t\t\texpression: expression,\n\t\t\t\t\t\tblocks: [],\n\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t};\n\n\t\t\t\t\tcurr.blocks[indx].list.push(item);\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tcase 'if':\n\t\t\t\tcase 'for':\n\n\t\t\t\t\titem = {\n\t\t\t\t\t\tline: line,\n\t\t\t\t\t\tkeyword: keyword,\n\t\t\t\t\t\tblocks: [{\n\t\t\t\t\t\t\texpression: expression,\n\t\t\t\t\t\t\tlist: [],\n\t\t\t\t\t\t}],\n\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t};\n\n\t\t\t\t\tcurr.blocks[indx].list.push(item);\n\n\t\t\t\t\tstack1.push(item);\n\t\t\t\t\tstack2.push(0x00);\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tcase 'elseif':\n\n\t\t\t\t\tif(curr['keyword'] !== 'if')\n\t\t\t\t\t{\n\t\t\t\t\t\tthrow 'syntax error, line `' + line + '`, unexpected keyword `elseif`';\n\t\t\t\t\t}\n\n\t\t\t\t\tindx = curr.blocks.length;\n\n\t\t\t\t\tcurr.blocks.push({\n\t\t\t\t\t\texpression: expression,\n\t\t\t\t\t\tlist: [],\n\t\t\t\t\t});\n\n\t\t\t\t\tstack2[stack2.length - 1] = indx;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tcase 'else':\n\n\t\t\t\t\tif(curr['keyword'] !== 'if')\n\t\t\t\t\t{\n\t\t\t\t\t\tthrow 'syntax error, line `' + line + '`, unexpected keyword `else`';\n\t\t\t\t\t}\n\n\t\t\t\t\tindx = curr.blocks.length;\n\n\t\t\t\t\tcurr.blocks.push({\n\t\t\t\t\t\texpression: '@true',\n\t\t\t\t\t\tlist: [],\n\t\t\t\t\t});\n\n\t\t\t\t\tstack2[stack2.length - 1] = indx;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tcase 'endif':\n\n\t\t\t\t\tif(curr['keyword'] !== 'if')\n\t\t\t\t\t{\n\t\t\t\t\t\tthrow 'syntax error, line `' + line + '`, unexpected keyword `endif`';\n\t\t\t\t\t}\n\n\t\t\t\t\tstack1.pop();\n\t\t\t\t\tstack2.pop();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tcase 'endfor':\n\n\t\t\t\t\tif(curr['keyword'] !== 'for')\n\t\t\t\t\t{\n\t\t\t\t\t\tthrow 'syntax error, line `' + line + '`, unexpected keyword `endfor`';\n\t\t\t\t\t}\n\n\t\t\t\t\tstack1.pop();\n\t\t\t\t\tstack2.pop();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tthrow 'syntax error, line `' + line + '`, unknown keyword `' + keyword + '`';\n\n\t\t\t\t/*---------------------------------------------------------*/\n\t\t\t}\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tdump: function()\n\t{\n\t\treturn JSON.stringify(this.rootNode, null, 2);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n};\n\n/*-------------------------------------------------------------------------*/\n\n/*\n * AMI Twig Engine\n *\n * Copyright (c) 2014-2019 The AMI Team / LPSC / IN2P3\n *\n * This file must be used under the terms of the CeCILL-C:\n * http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html\n * http://www.cecill.info/licences/Licence_CeCILL-C_V1-fr.html\n *\n */\n\n/*-------------------------------------------------------------------------*/\n/* amiTwig.engine                                                          */\n/*-------------------------------------------------------------------------*/\n\namiTwig.engine = {\n\t/*---------------------------------------------------------------------*/\n\n\tVARIABLE_RE: /\\{\\{\\s*(.*?)\\s*\\}\\}/g,\n\n\t/*---------------------------------------------------------------------*/\n\n\t_render: function(result, item, dict = {})\n\t{\n\t\tlet m;\n\n\t\tlet expression;\n\n\t\tthis.dict = dict;\n\n\t\tswitch(item.keyword)\n\t\t{\n\t\t\t/*-------------------------------------------------------------*/\n\t\t\t/* DO                                                          */\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tcase 'do':\n\t\t\t{\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tamiTwig.expr.cache.eval(item.expression, item.line, dict);\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t\t/* SET                                                         */\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tcase 'set':\n\t\t\t{\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tm = item.expression.match(/([a-zA-Z_$][a-zA-Z0-9_$]*)\\s*=\\s*(.+)/)\n\n\t\t\t\tif(!m)\n\t\t\t\t{\n\t\t\t\t\tthrow 'syntax error, line `' + item.line + '`, invalid `set` statement';\n\t\t\t\t}\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tdict[m[1]] = amiTwig.expr.cache.eval(m[2], item.line, dict);\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t\t/* @TEXT                                                       */\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tcase '@text':\n\t\t\t{\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tresult.push(item.value.replace(this.VARIABLE_RE, function(match, expression) {\n\n\t\t\t\t\tlet value = amiTwig.expr.cache.eval(expression, item.line, dict);\n\n\t\t\t\t\treturn value !== null && value !== undefined ? value : '';\n\t\t\t\t}));\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t\t/* IF                                                          */\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tcase 'if':\n\t\t\tcase '@root':\n\t\t\t{\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\titem.blocks.every((block) => {\n\n\t\t\t\t\texpression = block.expression;\n\n\t\t\t\t\tif(expression === '@true' || amiTwig.expr.cache.eval(expression, item.line, dict))\n\t\t\t\t\t{\n\t\t\t\t\t\tblock.list.forEach((item) => {\n\n\t\t\t\t\t\t\tthis._render(result, item, dict);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t\t/* FOR                                                         */\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tcase 'for':\n\t\t\t{\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tm = item.blocks[0].expression.match(/([a-zA-Z_$][a-zA-Z0-9_$]*)\\s+in\\s+(.+)/)\n\n\t\t\t\tif(!m)\n\t\t\t\t{\n\t\t\t\t\tthrow 'syntax error, line `' + item.line + '`, invalid `for` statement';\n\t\t\t\t}\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tconst symb = m[1];\n\t\t\t\tconst expr = m[2];\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tlet value = amiTwig.expr.cache.eval(expr, item.line, dict);\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tconst typeName = Object.prototype.toString.call(value);\n\n\t\t\t\tif(typeName === '[object Object]')\n\t\t\t\t{\n\t\t\t\t\tvalue = Object.keys(value);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif(typeName !== '[object Array]'\n\t\t\t\t\t   &&\n\t\t\t\t\t   typeName !== '[object String]'\n\t\t\t\t\t ) {\n\t\t\t\t\t\tthrow 'syntax error, line `' + item.line + '`, right operande not iterable';\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tconst old1 = dict[(symb)];\n\t\t\t\tconst old2 = dict['loop'];\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tlet k = 0x0000000000;\n\t\t\t\tconst l = value.length;\n\n\t\t\t\tdict.loop = {length: l};\n\n\t\t\t\tconst list = item.blocks[0].list;\n\n\t\t\t\tfor(const i in value)\n\t\t\t\t{\n\t\t\t\t\tdict[symb] = value[i];\n\n\t\t\t\t\tdict.loop.first = (k === (0 - 0));\n\t\t\t\t\tdict.loop.last = (k === (l - 1));\n\n\t\t\t\t\tdict.loop.index0 = k;\n\t\t\t\t\tk++;\n\t\t\t\t\tdict.loop.index = k;\n\n\t\t\t\t\tfor(const j in list)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis._render(result, list[j], dict);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tdict['loop'] = old2;\n\t\t\t\tdict[(symb)] = old1;\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t\t/* INCLUDE                                                     */\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tcase 'include':\n\t\t\t{\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tlet m_1_ = item.expression, with_subexpr, with_context;\n\n\t\t\t\t/**/ if((m = m_1_.match(/(.+)\\s+with\\s+(.+)\\s+only$/)))\n\t\t\t\t{\n\t\t\t\t\texpression = m[1];\n\t\t\t\t\twith_subexpr = m[2];\n\t\t\t\t\twith_context = false;\n\t\t\t\t}\n\t\t\t\telse if((m = m_1_.match(/(.+)\\s+with\\s+(.+)$/)))\n\t\t\t\t{\n\t\t\t\t\texpression = m[1];\n\t\t\t\t\twith_subexpr = m[2];\n\t\t\t\t\twith_context = true;\n\t\t\t\t}\n\t\t\t\telse if((m = m_1_.match(/(.+)\\s+only$/)))\n\t\t\t\t{\n\t\t\t\t\texpression = m[1];\n\t\t\t\t\twith_subexpr = '{}';\n\t\t\t\t\twith_context = false;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\texpression = m_1_;\n\t\t\t\t\twith_subexpr = '{}';\n\t\t\t\t\twith_context = true;\n\t\t\t\t}\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tconst fileName = amiTwig.expr.cache.eval(expression, item.line, dict) || '';\n\n\t\t\t\tif(Object.prototype.toString.call(fileName) !== '[object String]')\n\t\t\t\t{\n\t\t\t\t\tthrow 'runtime error, line `' + item.line + '`, string expected';\n\t\t\t\t}\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tconst variables = amiTwig.expr.cache.eval(with_subexpr, item.line, dict) || {};\n\n\t\t\t\tif(Object.prototype.toString.call(variables) !== '[object Object]')\n\t\t\t\t{\n\t\t\t\t\tthrow 'runtime error, line `' + item.line + '`, object expected';\n\t\t\t\t}\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tresult.push(amiTwig.stdlib.include(\n\t\t\t\t\tfileName,\n\t\t\t\t\tvariables,\n\t\t\t\t\twith_context,\n\t\t\t\t\tfalse\n\t\t\t\t));\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\trender: function(tmpl, dict = {})\n\t{\n\t\tconst result = [];\n\n\t\tswitch(Object.prototype.toString.call(tmpl))\n\t\t{\n\t\t\tcase '[object String]':\n\t\t\t\tthis._render(result, new amiTwig.tmpl.Compiler(tmpl).rootNode, dict);\n\t\t\t\tbreak;\n\n\t\t\tcase '[object Object]':\n\t\t\t\tthis._render(result, /*--------------*/tmpl/*--------------*/, dict);\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn result.join('');\n\t},\n\n\t/*---------------------------------------------------------------------*/\n};\n\n/*-------------------------------------------------------------------------*/\n\n/*\n * AMI Twig Engine\n *\n * Copyright (c) 2014-2019 The AMI Team / LPSC / IN2P3\n *\n * This file must be used under the terms of the CeCILL-C:\n * http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html\n * http://www.cecill.info/licences/Licence_CeCILL-C_V1-fr.html\n *\n */\n\n/*-------------------------------------------------------------------------*/\n/* amiTwig.expr.cache                                                      */\n/*-------------------------------------------------------------------------*/\n\namiTwig.expr.cache = {\n\t/*---------------------------------------------------------------------*/\n\n\tdict: {},\n\n\t/*---------------------------------------------------------------------*/\n\n\teval: function(expression, line, _)\n\t{\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tlet f;\n\n\t\tif(expression in this.dict)\n\t\t{\n\t\t\tf = this.dict[expression];\n\t\t}\n\t\telse\n\t\t{\n\t\t\tf = this.dict[expression] = eval(\n\t\t\t\tamiTwig.expr.interpreter.getJS(\n\t\t\t\t\tnew amiTwig.expr.Compiler(expression, line)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tif(!_) _ = {};\n\n\t\treturn f.call(_, _);\n\n\t\t/*-----------------------------------------------------------------*/\n\t},\n\n\t/*---------------------------------------------------------------------*/\n};\n\n/*-------------------------------------------------------------------------*/\n\n/*\n * AMI Twig Engine\n *\n * Copyright (c) 2014-2019 The AMI Team / LPSC / IN2P3\n *\n * This file must be used under the terms of the CeCILL-C:\n * http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html\n * http://www.cecill.info/licences/Licence_CeCILL-C_V1-fr.html\n *\n */\n\n/*-------------------------------------------------------------------------*/\n/* amiTwig.date                                                            */\n/*-------------------------------------------------------------------------*/\n\n/* TODO */\n\n/*-------------------------------------------------------------------------*/\n\n/*\n * AMI Twig Engine\n *\n * Copyright (c) 2014-2019 The AMI Team / LPSC / IN2P3\n *\n * This file must be used under the terms of the CeCILL-C:\n * http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html\n * http://www.cecill.info/licences/Licence_CeCILL-C_V1-fr.html\n *\n */\n\n/*-------------------------------------------------------------------------*/\n/* amiTwig.ajax                                                            */\n/*-------------------------------------------------------------------------*/\n\namiTwig.ajax = {\n\t/*---------------------------------------------------------------------*/\n\n\tdict: {},\n\n\t/*---------------------------------------------------------------------*/\n\n\tget: function(url, done, fail)\n\t{\n\t\tlet txt;\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tif(url in this.dict)\n\t\t{\n\t\t\tif(done)\n\t\t\t{\n\t\t\t\tdone(this.dict[url]);\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tif(amiTwig.fs)\n\t\t{\n\t\t\t/*-------------------------------------------------------------*/\n\t\t\t/* NODEJS                                                      */\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\ttry\n\t\t\t{\n\t\t\t\ttxt = this.dict[url] = amiTwig.fs.readFileSync(url, 'utf8');\n\n\t\t\t\tif(done)\n\t\t\t\t{\n\t\t\t\t\tdone(txt);\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch(err)\n\t\t\t{\n\t\t\t\tif(fail)\n\t\t\t\t{\n\t\t\t\t\tfail(err);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t}\n\t\telse\n\t\t{\n\t\t\t/*-------------------------------------------------------------*/\n\t\t\t/* BROWSER                                                     */\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tconst xmlHttpRequest = new XMLHttpRequest();\n\n\t\t\txmlHttpRequest.open('GET', url, false);\n\t\t\txmlHttpRequest.send();\n\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tif(xmlHttpRequest.status === 200)\n\t\t\t{\n\t\t\t\ttxt = this.dict[url] = xmlHttpRequest.responseText;\n\n\t\t\t\tif(done)\n\t\t\t\t{\n\t\t\t\t\tdone(txt);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\ttxt = /**************/ xmlHttpRequest.responseText;\n\n\t\t\t\tif(fail)\n\t\t\t\t{\n\t\t\t\t\tfail(txt);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\t},\n\n\t/*---------------------------------------------------------------------*/\n};\n\n/*-------------------------------------------------------------------------*/\n\n/*\n * AMI Twig Engine\n *\n * Copyright (c) 2014-2019 The AMI Team / LPSC / IN2P3\n *\n * This file must be used under the terms of the CeCILL-C:\n * http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html\n * http://www.cecill.info/licences/Licence_CeCILL-C_V1-fr.html\n *\n */\n\n/*-------------------------------------------------------------------------*/\n/* amiTwig.stdlib                                                          */\n/*-------------------------------------------------------------------------*/\n\namiTwig.stdlib = {\n\t/*---------------------------------------------------------------------*/\n\t/* VARIABLES                                                           */\n\t/*---------------------------------------------------------------------*/\n\n\t'isUndefined': function(x)\n\t{\n\t\treturn x === undefined;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'isDefined': function(x)\n\t{\n\t\treturn x !== undefined;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'isNull': function(x)\n\t{\n\t\treturn x === null;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'isNotNull': function(x)\n\t{\n\t\treturn x !== null;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'isEmpty': function(x)\n\t{\n\t\tif(x === null\n\t\t   ||\n\t\t   x === false\n\t\t   ||\n\t\t   x === ((''))\n\t\t ) {\n\t\t\treturn true;\n\t\t}\n\n\t\tconst typeName = Object.prototype.toString.call(x);\n\n\t\treturn (typeName === '[object Array]' && x.length === 0)\n\t\t       ||\n\t\t       (typeName === '[object Object]' && Object.keys(x).length === 0)\n\t\t;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'isNumber': function(x)\n\t{\n\t\treturn Object.prototype.toString.call(x) === '[object Number]';\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'isString': function(x)\n\t{\n\t\treturn Object.prototype.toString.call(x) === '[object String]';\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'isArray': function(x)\n\t{\n\t\treturn Object.prototype.toString.call(x) === '[object Array]';\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'isObject': function(x)\n\t{\n\t\treturn Object.prototype.toString.call(x) === '[object Object]';\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'isIterable': function(x)\n\t{\n\t\tconst typeName = Object.prototype.toString.call(x);\n\n\t\treturn typeName === '[object String]'\n\t\t       ||\n\t\t       typeName === '[object Array]'\n\t\t       ||\n\t\t       typeName === '[object Object]'\n\t\t;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'isEven': function(x)\n\t{\n\t\treturn this.isNumber(x) && (x & 1) === 0;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'isOdd': function(x)\n\t{\n\t\treturn this.isNumber(x) && (x & 1) === 1;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\t/* ITERABLES                                                           */\n\t/*---------------------------------------------------------------------*/\n\n\t'isInObject': function(x, y)\n\t{\n\t\tif(this.isArray(y)\n\t\t   ||\n\t\t   this.isString(y)\n\t\t ) {\n\t\t\treturn y.indexOf(x) >= 0;\n\t\t}\n\n\t\tif(this.isObject(y))\n\t\t{\n\t\t\treturn x in y;\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'isInRange': function(x, x1, x2)\n\t{\n\t\tif(this.isNumber(x1)\n\t\t   &&\n\t\t   this.isNumber(x2)\n\t\t ) {\n\t\t\treturn (/*---*/x/*---*/ >= /*---*/x1/*---*/)\n\t\t\t       &&\n\t\t\t       (/*---*/x/*---*/ <= /*---*/x2/*---*/)\n\t\t\t;\n\t\t}\n\n\t\tif(this.isString(x1) && x1.length === 1\n\t\t   &&\n\t\t   this.isString(x2) && x2.length === 1\n\t\t ) {\n\t\t\treturn (x.charCodeAt(0) >= x1.charCodeAt(0))\n\t\t\t       &&\n\t\t\t       (x.charCodeAt(0) <= x2.charCodeAt(0))\n\t\t\t;\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'range': function(x1, x2, step = 1)\n\t{\n\t\tconst result = [];\n\n\t\t/**/ if(this.isNumber(x1)\n\t\t        &&\n\t\t        this.isNumber(x2)\n\t\t ) {\n\t\t\tfor(let i = /*---*/x1/*---*/; i <= /*---*/x2/*---*/; i += step)\n\t\t\t{\n\t\t\t\tresult.push(/*---------------*/(i));\n\t\t\t}\n\t\t}\n\t\telse if(this.isString(x1) && x1.length === 1\n\t\t        &&\n\t\t        this.isString(x2) && x2.length === 1\n\t\t ) {\n\t\t\tfor(let i = x1.charCodeAt(0); i <= x2.charCodeAt(0); i += step)\n\t\t\t{\n\t\t\t\tresult.push(String.fromCharCode(i));\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'filter_length': function(x)\n\t{\n\t\tif(this.isString(x)\n\t\t   ||\n\t\t   this.isArray(x)\n\t\t ) {\n\t\t\treturn x.length;\n\t\t}\n\n\t\tif(this.isObject(x))\n\t\t{\n\t\t\treturn Object.keys(x).length;\n\t\t}\n\n\t\treturn 0;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'filter_first': function(x)\n\t{\n\t\treturn (this.isString(x) || this.isArray(x)) && x.length > 0 ? x[0x0000000000] : '';\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'filter_last': function(x)\n\t{\n\t\treturn (this.isString(x) || this.isArray(x)) && x.length > 0 ? x[x.length - 1] : '';\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'filter_slice': function(x, idx1, idx2)\n\t{\n\t\treturn (this.isString(x) || this.isArray(x)) ? x.slice(idx1, idx2) : null;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'filter_merge': function()\n\t{\n\t\tif(arguments.length > 1)\n\t\t{\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tif(this.isString(arguments[0]))\n\t\t\t{\n\t\t\t\tconst L = [];\n\n\t\t\t\tfor(const i in arguments)\n\t\t\t\t{\n\t\t\t\t\tconst item = arguments[i];\n\n\t\t\t\t\tif(!this.isString(item))\n\t\t\t\t\t{\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\n\t\t\t\t\tL.push(arguments[i]);\n\t\t\t\t}\n\n\t\t\t\treturn L.join('');\n\t\t\t}\n\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tif(this.isArray(arguments[0]))\n\t\t\t{\n\t\t\t\tconst L = [];\n\n\t\t\t\tfor(const i in arguments)\n\t\t\t\t{\n\t\t\t\t\tconst item = arguments[i];\n\n\t\t\t\t\tif(!this.isArray(item))\n\t\t\t\t\t{\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\n\t\t\t\t\tfor(const j in item) L.push(item[j]);\n\t\t\t\t}\n\n\t\t\t\treturn L;\n\t\t\t}\n\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tif(this.isObject(arguments[0]))\n\t\t\t{\n\t\t\t\tconst D = {};\n\n\t\t\t\tfor(const i in arguments)\n\t\t\t\t{\n\t\t\t\t\tconst item = arguments[i];\n\n\t\t\t\t\tif(!this.isObject(item))\n\t\t\t\t\t{\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\n\t\t\t\t\tfor(const j in item) D[j] = item[j];\n\t\t\t\t}\n\n\t\t\t\treturn D;\n\t\t\t}\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t}\n\n\t\treturn null;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'filter_sort': function(x)\n\t{\n\t\treturn this.isArray(x) ? x.sort() : [];\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'filter_reverse': function(x)\n\t{\n\t\treturn this.isArray(x) ? x.reverse() : [];\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'filter_join': function(x, sep)\n\t{\n\t\treturn this.isArray(x) ? x.join(sep) : '';\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'filter_keys': function(x)\n\t{\n\t\treturn this.isObject(x) ? Object.keys(x) : [];\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\t/* STRINGS                                                             */\n\t/*---------------------------------------------------------------------*/\n\n\t'startsWith': function(s1, s2)\n\t{\n\t\tif(this.isString(s1)\n\t\t   &&\n\t\t   this.isString(s2)\n\t\t ) {\n\t\t\tconst base = 0x0000000000000000000;\n\n\t\t\treturn s1.indexOf(s2, base) === base;\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'endsWith': function(s1, s2)\n\t{\n\t\tif(this.isString(s1)\n\t\t   &&\n\t\t   this.isString(s2)\n\t\t ) {\n\t\t\tconst base = s1.length - s2.length;\n\n\t\t\treturn s1.indexOf(s2, base) === base;\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'match': function(s, regex)\n\t{\n\t\tif(this.isString(((s)))\n\t\t   &&\n\t\t   this.isString(regex)\n\t\t ) {\n\t\t\tconst idx1 = regex.  indexOf  ('/');\n\t\t\tconst idx2 = regex.lastIndexOf('/');\n\n\t\t\tif(idx1 === 0 || idx1 < idx2)\n\t\t\t{\n\t\t\t\ttry\n\t\t\t\t{\n\t\t\t\t\treturn new RegExp(regex.substring(idx1 + 1, idx2), regex.substring(idx2 + 1)).test(s);\n\t\t\t\t}\n\t\t\t\tcatch(err)\n\t\t\t\t{\n\t\t\t\t\t/* IGNORE */\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'filter_default': function(s1, s2)\n\t{\n\t\treturn s1 || s2 || '';\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'filter_lower': function(s)\n\t{\n\t\treturn this.isString(s) ? s.toLowerCase() : '';\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'filter_upper': function(s)\n\t{\n\t\treturn this.isString(s) ? s.toUpperCase() : '';\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'filter_capitalize': function(s)\n\t{\n\t\tif(this.isString(s))\n\t\t{\n\t\t\treturn s.trim().toLowerCase().replace(/^\\S/g, function(c) {\n\n\t\t\t\treturn c.toUpperCase();\n\t\t\t});\n\t\t}\n\n\t\treturn '';\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'filter_title': function(s)\n\t{\n\t\tif(this.isString(s))\n\t\t{\n\t\t\treturn s.trim().toLowerCase().replace(/(?:^|\\s)\\S/g, function(c) {\n\n\t\t\t\treturn c.toUpperCase();\n\t\t\t});\n\t\t}\n\n\t\treturn '';\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'filter_trim': function(s)\n\t{\n\t\treturn this.isString(s) ? s.trim()\n\t\t                        : ''\n\t\t;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'_replace': function(s, oldStrs, newStrs)\n\t{\n\t\tconst result = [];\n\n\t\tconst l = (((s))).length;\n\t\tconst m = oldStrs.length;\n\t\tconst n = newStrs.length;\n\n\t\tif(m != n)\n\t\t{\n\t\t\tthrow 'internal error';\n\t\t}\n\n__l0:\t\tfor(let i = 0; i < l; i += 0)\n\t\t{\n\t\t\tconst p = s.substring(i);\n\n\t\t\tfor(let j = 0; j < m; j += 1)\n\t\t\t{\n\t\t\t\tif(p.indexOf(oldStrs[j]) === 0)\n\t\t\t\t{\n\t\t\t\t\tresult.push(newStrs[j]);\n\n\t\t\t\t\ti += oldStrs[j].length;\n\n\t\t\t\t\tcontinue __l0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tresult.push(s.charAt(i++));\n\t\t}\n\n\t\treturn result.join('');\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'_textToHtmlX': ['&'    , '\"'     , '<'   , '>'   ],\n\t'_textToHtmlY': ['&amp;', '&quot;', '&lt;', '&gt;'],\n\n\t/*---------------------------------------------------------------------*/\n\n\t'_textToStringX': ['\\\\'  , '\\n' , '\"'  , '\\''  ],\n\t'_textToStringY': ['\\\\\\\\', '\\\\n', '\\\\\"', '\\\\\\''],\n\n\t/*---------------------------------------------------------------------*/\n\n\t'_textToJsonStringX': ['\\\\'  , '\\n' , '\"'  ],\n\t'_textToJsonStringY': ['\\\\\\\\', '\\\\n', '\\\\\"'],\n\n\t/*---------------------------------------------------------------------*/\n\n\t'filter_escape': function(s, mode)\n\t{\n\t\tif(this.isString(s))\n\t\t{\n\t\t\tswitch(mode || 'html')\n\t\t\t{\n\t\t\t\tcase 'html':\n\t\t\t\tcase 'html_attr':\n\t\t\t\t\treturn this._replace(s, this._textToHtmlX, this._textToHtmlY);\n\n\t\t\t\tcase 'js':\n\t\t\t\tcase 'string':\n\t\t\t\t\treturn this._replace(s, this._textToStringX, this._textToStringY);\n\n\t\t\t\tcase 'json':\n\t\t\t\t\treturn this._replace(s, this._textToJsonStringX, this._textToJsonStringY);\n\n\t\t\t\tcase 'url':\n\t\t\t\t\treturn encodeURIComponent(s);\n\n\t\t\t\tdefault:\n\t\t\t\t\treturn s;\n\t\t\t}\n\t\t}\n\n\t\treturn '';\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'filter_url_encode': function(s)\n\t{\n\t\treturn this.isString(s) ? encodeURIComponent(s)\n\t\t                        : ''\n\t\t;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'filter_nl2br': function(s)\n\t{\n\t\treturn this.isString(s) ? s.replace(/\\n/g, '<br/>')\n\t\t                        : ''\n\t\t;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'filter_raw': function(s)\n\t{\n\t\treturn this.isString(s) ? s\n\t\t                        : ''\n\t\t;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'filter_replace': function(s, dict)\n\t{\n\t\treturn this.isString(s) && this.isObject(dict) ? this._replace(s, Object.keys(dict), Object.values(dict))\n\t\t                                               : ''\n\t\t;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'filter_split': function(s, sep, max)\n\t{\n\t\treturn this.isString(s) ? s.split(sep, max)\n\t\t                        : []\n\t\t;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\t/* NUMBERS                                                             */\n\t/*---------------------------------------------------------------------*/\n\n\t'filter_abs': function(x)\n\t{\n\t\treturn Math.abs(x);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'filter_round': function(x, mode)\n\t{\n\t\tswitch(mode)\n\t\t{\n\t\t\tcase 'ceil':\n\t\t\t\treturn Math.ceil(x);\n\n\t\t\tcase 'floor':\n\t\t\t\treturn Math.floor(x);\n\n\t\t\tdefault:\n\t\t\t\treturn Math.round(x);\n\t\t}\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'min': function()\n\t{\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tconst args = (arguments.length === 1) && (this.isArray(arguments[0]) || this.isObject(arguments[0])) ? arguments[0]\n\t\t                                                                                                     : arguments\n\t\t;\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tlet result = Number.POSITIVE_INFINITY;\n\n\t\tfor(const i in args)\n\t\t{\n\t\t\tif(!this.isNumber(args[i]))\n\t\t\t{\n\t\t\t\treturn Number.NaN;\n\t\t\t}\n\n\t\t\tif(result > args[i])\n\t\t\t{\n\t\t\t\tresult = args[i];\n\t\t\t}\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn result;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'max': function()\n\t{\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tconst args = (arguments.length === 1) && (this.isArray(arguments[0]) || this.isObject(arguments[0])) ? arguments[0]\n\t\t                                                                                                     : arguments\n\t\t;\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tlet result = Number.NEGATIVE_INFINITY;\n\n\t\tfor(const i in args)\n\t\t{\n\t\t\tif(!this.isNumber(args[i]))\n\t\t\t{\n\t\t\t\treturn Number.NaN;\n\t\t\t}\n\n\t\t\tif(result < args[i])\n\t\t\t{\n\t\t\t\tresult = args[i];\n\t\t\t}\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn result;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\t/* RANDOM                                                              */\n\t/*---------------------------------------------------------------------*/\n\n\t'random': function(x)\n\t{\n\t\tconst y = Math.random();\n\n\t\tif(x)\n\t\t{\n\t\t\tif(this.isArray(x)\n\t\t\t   ||\n\t\t\t   this.isObject(x)\n\t\t\t ) {\n\t\t\t \tconst X = Object.keys(x);\n\n\t\t\t\treturn x[\n\t\t\t\t\tX[Math.floor(X.length * y)]\n\t\t\t\t];\n\t\t\t}\n\n\t\t\tif(this.isString(x))\n\t\t\t{\n\t\t\t\treturn x[Math.floor(x.length * y)];\n\t\t\t}\n\n\t\t\tif(this.isNumber(x))\n\t\t\t{\n\t\t\t\treturn Math.floor(x * y);\n\t\t\t}\n\t\t}\n\n\t\tx = Number.MAX_SAFE_INTEGER;\n\n\t\treturn Math.floor(x * y);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\t/* JSON                                                                */\n\t/*---------------------------------------------------------------------*/\n\n\t'filter_json_encode': function(x, indent)\n\t{\n\t\treturn JSON.stringify(x, null, this.isNumber(indent) ? indent : 2);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t'filter_json_jspath': function(x, path)\n\t{\n\t\treturn typeof JSPath !== 'undefined' ? JSPath.apply(path, x)\n\t\t                                     : []\n\t\t;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\t/* TEMPLATES                                                           */\n\t/*---------------------------------------------------------------------*/\n\n\t'include': function(fileName, variables = {}, withContext = true, ignoreMissing = false)\n\t{\n\t\tconst temp = {};\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tif(withContext)\n\t\t{\n\t\t\tfor(const i in amiTwig.engine.dict)\n\t\t\t{\n\t\t\t\ttemp[i] = amiTwig.engine.dict[i];\n\t\t\t}\n\t\t}\n\n\t\tif(variables)\n\t\t{\n\t\t\tfor(const i in /*-*/variables/*-*/)\n\t\t\t{\n\t\t\t\ttemp[i] = /*-*/variables/*-*/[i];\n\t\t\t}\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tlet result = '';\n\n\t\tamiTwig.ajax.get(\n\t\t\tfileName,\n\t\t\tfunction(data)\n\t\t\t{\n\t\t\t\tresult = amiTwig.engine.render(data, temp);\n\t\t\t},\n\t\t\tfunction(/**/)\n\t\t\t{\n\t\t\t\tif(!ignoreMissing)\n\t\t\t\t{\n\t\t\t\t\tthrow 'runtime error, could not open `' + fileName + '`';\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn result;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n};\n\n/*-------------------------------------------------------------------------*/\n\namiTwig.stdlib.filter_e = amiTwig.stdlib.filter_escape;\n\n/*-------------------------------------------------------------------------*/\n\n/*\n * AMI Twig Engine\n *\n * Copyright (c) 2014-2019 The AMI Team / LPSC / IN2P3\n *\n * This file must be used under the terms of the CeCILL-C:\n * http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html\n * http://www.cecill.info/licences/Licence_CeCILL-C_V1-fr.html\n *\n */\n\n/*-------------------------------------------------------------------------*/\n/* amiTwig.expr.interpreter                                                */\n/*-------------------------------------------------------------------------*/\n\namiTwig.expr.interpreter = {\n\t/*---------------------------------------------------------------------*/\n\n\t_getJS: function(node)\n\t{\n\t\tlet L;\n\t\tlet x;\n\t\tlet left;\n\t\tlet right;\n\t\tlet operator;\n\n\t\tswitch(node.nodeType)\n\t\t{\n\t\t\t/*-------------------------------------------------------------*/\n\t\t\t/* LST                                                         */\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tcase amiTwig.expr.tokens.LST:\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tL = [];\n\n\t\t\t\tfor(const i in node.list)\n\t\t\t\t{\n\t\t\t\t\tL.push(/*-----*/ this._getJS(node.list[i]));\n\t\t\t\t}\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\treturn '[' + L.join(',') + ']';\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t\t/* DIC                                                         */\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tcase amiTwig.expr.tokens.DIC:\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tL = [];\n\t\n\t\t\t\tfor(const i in node.dict)\n\t\t\t\t{\n\t\t\t\t\tL.push(i + ':' + this._getJS(node.dict[i]));\n\t\t\t\t}\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\treturn '{' + L.join(',') + '}';\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t\t/* FUN                                                         */\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tcase amiTwig.expr.tokens.FUN:\n\t\t \t\t/*---------------------------------------------------------*/\n\n\t\t\t\tL = [];\n\n\t\t\t\tfor(const i in node.list)\n\t\t\t\t{\n\t\t\t\t\tL.push(this._getJS(node.list[i]));\n\t\t\t\t}\n\n\t\t\t \t/*---------------------------------------------------------*/\n\n\t\t\t\treturn node.nodeValue + '(' + L.join(',') + ')';\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t\t/* VAR                                                         */\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tcase amiTwig.expr.tokens.VAR:\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tL = [];\n\n\t\t\t\tfor(const i in node.list)\n\t\t\t\t{\n\t\t\t\t\tL.push('[' + this._getJS(node.list[i]) + ']');\n\t\t\t\t}\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\treturn L.length > 0 ? node.nodeValue + L.join('') : node.nodeValue;\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t\t/* TERMINAL                                                    */\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tcase amiTwig.expr.tokens.TERMINAL:\n\n\t\t\t\treturn node.nodeValue;\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t\t/* IS                                                          */\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tcase amiTwig.expr.tokens.IS:\n\n\t\t\t\tleft = this._getJS(node.nodeLeft);\n\n\t\t\t\tswitch(node.nodeRight.nodeType)\n\t\t\t\t{\n\t\t\t\t\tcase amiTwig.expr.tokens.DEFINED:\n\t\t\t\t\t\treturn 'amiTwig.stdlib.isDefined(' + left + ')';\n\n\t\t\t\t\tcase amiTwig.expr.tokens.NULL:\n\t\t\t\t\t\treturn 'amiTwig.stdlib.isNull(' + left + ')';\n\n\t\t\t\t\tcase amiTwig.expr.tokens.EMPTY:\n\t\t\t\t\t\treturn 'amiTwig.stdlib.isEmpty(' + left + ')';\n\n\t\t\t\t\tcase amiTwig.expr.tokens.ITERABLE:\n\t\t\t\t\t\treturn 'amiTwig.stdlib.isIterable(' + left + ')';\n\n\t\t\t\t\tcase amiTwig.expr.tokens.EVEN:\n\t\t\t\t\t\treturn 'amiTwig.stdlib.isEven(' + left + ')';\n\n\t\t\t\t\tcase amiTwig.expr.tokens.ODD:\n\t\t\t\t\t\treturn 'amiTwig.stdlib.isOdd(' + left + ')';\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthrow 'internal error';\n\t\t\t\t}\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t\t/* IN                                                          */\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tcase amiTwig.expr.tokens.IN:\n\n\t\t\t\tif(node.nodeRight.nodeType !== amiTwig.expr.tokens.RANGE)\n\t\t\t\t{\n\t\t\t\t\tleft = this._getJS(node.nodeLeft);\n\t\t\t\t\tright = this._getJS(node.nodeRight);\n\n\t\t\t\t\treturn 'amiTwig.stdlib.isInObject(' + left + ',' + right + ')';\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tx = this._getJS(node.nodeLeft);\n\n\t\t\t\t\tleft = node.nodeRight.nodeLeft.nodeValue;\n\t\t\t\t\tright = node.nodeRight.nodeRight.nodeValue;\n\n\t\t\t\t\treturn 'amiTwig.stdlib.isInRange(' + x + ',' + left + ',' + right + ')';\n\t\t\t\t}\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t\t/* STARTS_WITH                                                 */\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tcase amiTwig.expr.tokens.STARTS_WITH:\n\n\t\t\t\tleft = this._getJS(node.nodeLeft);\n\t\t\t\tright = this._getJS(node.nodeRight);\n\n\t\t\t\treturn 'amiTwig.stdlib.startsWith(' + left + ',' + right + ')';\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t\t/* ENDS_WITH                                                   */\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tcase amiTwig.expr.tokens.ENDS_WITH:\n\n\t\t\t\tleft = this._getJS(node.nodeLeft);\n\t\t\t\tright = this._getJS(node.nodeRight);\n\n\t\t\t\treturn 'amiTwig.stdlib.endsWith(' + left + ',' + right + ')';\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t\t/* MATCHES                                                     */\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tcase amiTwig.expr.tokens.MATCHES:\n\n\t\t\t\tleft = this._getJS(node.nodeLeft);\n\t\t\t\tright = this._getJS(node.nodeRight);\n\n\t\t\t\treturn 'amiTwig.stdlib.match(' + left + ',' + right + ')';\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t\t/* RANGE                                                       */\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tcase amiTwig.expr.tokens.RANGE:\n\n\t\t\t\tleft = this._getJS(node.nodeLeft);\n\t\t\t\tright = this._getJS(node.nodeRight);\n\n\t\t\t\treturn 'amiTwig.stdlib.range(' + left + ',' + right + ')';\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t\t/* DOT                                                         */\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tcase amiTwig.expr.tokens.DOT:\n\n\t\t\t\tleft = this._getJS(node.nodeLeft);\n\t\t\t\tright = this._getJS(node.nodeRight);\n\n\t\t\t\tif(node.nodeValue[0] === '.')\n\t\t\t\t{\n\t\t\t\t\treturn left + '.' + right;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\treturn left + '[' + right + ']';\n\t\t\t\t}\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t\t/* FLDIV                                                       */\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tcase amiTwig.expr.tokens.FLDIV:\n\n\t\t\t\tleft = this._getJS(node.nodeLeft);\n\t\t\t\tright = this._getJS(node.nodeRight);\n\n\t\t\t\treturn 'Math.floor(' + left + '/' + right + ')';\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t\t/* POWER                                                       */\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tcase amiTwig.expr.tokens.POWER:\n\n\t\t\t\tleft = this._getJS(node.nodeLeft);\n\t\t\t\tright = this._getJS(node.nodeRight);\n\n\t\t\t\treturn 'Math.pow(' + left + ',' + right + ')';\n\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tdefault:\n\t\t\t\t/*---------------------------------------------------------*/\n\t\t\t\t/* UNIARY OPERATOR                                         */\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tif(node.nodeLeft === null\n\t\t\t\t   &&\n\t\t\t\t   node.nodeRight !== null\n\t\t\t\t ) {\n\t\t\t\t\toperator = (node.nodeType !== amiTwig.expr.tokens.NOT) ? node.nodeValue : '!';\n\n\t\t\t\t\treturn operator + '(' + this._getJS(node.nodeRight) + ')';\n\t\t\t\t}\n\n\t\t\t\tif(node.nodeLeft !== null\n\t\t\t\t   &&\n\t\t\t\t   node.nodeRight === null\n\t\t\t\t ) {\n\t\t\t\t\toperator = (node.nodeType !== amiTwig.expr.tokens.NOT) ? node.nodeValue : '!';\n\n\t\t\t\t\treturn '(' + this._getJS(node.nodeLeft) + ')' + operator;\n\t\t\t\t}\n\n\t\t\t\t/*---------------------------------------------------------*/\n\t\t\t\t/* BINARY OPERATOR                                         */\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tif(node.nodeLeft !== null\n\t\t\t\t   &&\n\t\t\t\t   node.nodeRight !== null\n\t\t\t\t ) {\n\t\t\t\t\tswitch(node.nodeType)\n\t\t\t\t\t{\n\t\t\t\t\t\t/*-------------------------------------------------*/\n\n\t\t\t\t\t\tcase amiTwig.expr.tokens.LOGICAL_OR:\n\t\t\t\t\t\t\toperator = '||';\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t/*-------------------------------------------------*/\n\n\t\t\t\t\t\tcase amiTwig.expr.tokens.LOGICAL_AND:\n\t\t\t\t\t\t\toperator = '&&';\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t/*-------------------------------------------------*/\n\n\t\t\t\t\t\tcase amiTwig.expr.tokens.BITWISE_OR:\n\t\t\t\t\t\t\toperator = '|';\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t/*-------------------------------------------------*/\n\n\t\t\t\t\t\tcase amiTwig.expr.tokens.BITWISE_XOR:\n\t\t\t\t\t\t\toperator = '^';\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t/*-------------------------------------------------*/\n\n\t\t\t\t\t\tcase amiTwig.expr.tokens.BITWISE_AND:\n\t\t\t\t\t\t\toperator = '&';\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t/*-------------------------------------------------*/\n\n\t\t\t\t\t\tcase amiTwig.expr.tokens.CONCAT:\n\t\t\t\t\t\t\toperator = '+';\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t/*-------------------------------------------------*/\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\toperator = node.nodeValue;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t/*-------------------------------------------------*/\n\t\t\t\t\t}\n\n\t\t\t\t\tleft = this._getJS(node.nodeLeft);\n\t\t\t\t\tright = this._getJS(node.nodeRight);\n\n\t\t\t\t\treturn '(' + left + operator + right + ')';\n\t\t\t\t}\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tgetJS: function(expr)\n\t{\n\t\treturn '(function(_) { return ' + this._getJS(expr.rootNode) + '; })';\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\teval: function(expr, _)\n\t{\n\t\tif(!_) _ = {};\n\n\t\treturn eval(this.getJS(expr)).call(_, _);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n};\n\n/*-------------------------------------------------------------------------*/\n","(function() {\n\nvar SYNTAX = {\n        PATH            : 1,\n        SELECTOR        : 2,\n        OBJ_PRED        : 3,\n        POS_PRED        : 4,\n        LOGICAL_EXPR    : 5,\n        COMPARISON_EXPR : 6,\n        MATH_EXPR       : 7,\n        CONCAT_EXPR     : 8,\n        UNARY_EXPR      : 9,\n        POS_EXPR        : 10,\n        LITERAL         : 11\n    };\n\n// parser\n\nvar parse = (function() {\n\n    var TOKEN = {\n            ID    : 1,\n            NUM   : 2,\n            STR   : 3,\n            BOOL  : 4,\n            NULL  : 5,\n            PUNCT : 6,\n            EOP   : 7\n        },\n        MESSAGES = {\n            UNEXP_TOKEN : 'Unexpected token \"%0\"',\n            UNEXP_EOP   : 'Unexpected end of path'\n        };\n\n    var path, idx, buf, len;\n\n    function parse(_path) {\n        path = _path.split('');\n        idx = 0;\n        buf = null;\n        len = path.length;\n\n        var res = parsePathConcatExpr(),\n            token = lex();\n\n        if(token.type !== TOKEN.EOP) {\n            throwUnexpected(token);\n        }\n\n        return res;\n    }\n\n    function parsePathConcatExpr() {\n        var expr = parsePathConcatPartExpr(),\n            operands;\n\n        while(match('|')) {\n            lex();\n            (operands || (operands = [expr])).push(parsePathConcatPartExpr());\n        }\n\n        return operands?\n            {\n                type : SYNTAX.CONCAT_EXPR,\n                args : operands\n            } :\n            expr;\n    }\n\n    function parsePathConcatPartExpr() {\n        return match('(')?\n            parsePathGroupExpr() :\n            parsePath();\n    }\n\n    function parsePathGroupExpr() {\n        expect('(');\n        var expr = parsePathConcatExpr();\n        expect(')');\n\n        var parts = [],\n            part;\n        while((part = parsePredicate())) {\n            parts.push(part);\n        }\n\n        if(!parts.length) {\n            return expr;\n        }\n        else if(expr.type === SYNTAX.PATH) {\n            expr.parts = expr.parts.concat(parts);\n            return expr;\n        }\n\n        parts.unshift(expr);\n\n        return {\n            type  : SYNTAX.PATH,\n            parts : parts\n        };\n    }\n\n    function parsePredicate() {\n        if(match('[')) {\n            return parsePosPredicate();\n        }\n\n        if(match('{')) {\n            return parseObjectPredicate();\n        }\n\n        if(match('(')) {\n            return parsePathGroupExpr();\n        }\n    }\n\n    function parsePath() {\n        if(!matchPath()) {\n            throwUnexpected(lex());\n        }\n\n        var fromRoot = false,\n            subst;\n\n        if(match('^')) {\n            lex();\n            fromRoot = true;\n        }\n        else if(matchSubst()) {\n            subst = lex().val.substr(1);\n        }\n\n        var parts = [],\n            part;\n        while((part = parsePathPart())) {\n            parts.push(part);\n        }\n\n        return {\n            type     : SYNTAX.PATH,\n            fromRoot : fromRoot,\n            subst    : subst,\n            parts    : parts\n        };\n    }\n\n    function parsePathPart() {\n        return matchSelector()?\n            parseSelector() :\n            parsePredicate();\n    }\n\n    function parseSelector() {\n        var selector = lex().val,\n            token = lookahead(),\n            prop;\n\n        if(match('*') || token.type === TOKEN.ID || token.type === TOKEN.STR) {\n            prop = lex().val;\n        }\n\n        return {\n            type     : SYNTAX.SELECTOR,\n            selector : selector,\n            prop     : prop\n        };\n    }\n\n    function parsePosPredicate() {\n        expect('[');\n        var expr = parsePosExpr();\n        expect(']');\n\n        return {\n            type : SYNTAX.POS_PRED,\n            arg  : expr\n        };\n    }\n\n    function parseObjectPredicate() {\n        expect('{');\n        var expr = parseLogicalORExpr();\n        expect('}');\n\n        return {\n            type : SYNTAX.OBJ_PRED,\n            arg  : expr\n        };\n    }\n\n    function parseLogicalORExpr() {\n        var expr = parseLogicalANDExpr(),\n            operands;\n\n        while(match('||')) {\n            lex();\n            (operands || (operands = [expr])).push(parseLogicalANDExpr());\n        }\n\n        return operands?\n            {\n                type : SYNTAX.LOGICAL_EXPR,\n                op   : '||',\n                args : operands\n            } :\n            expr;\n    }\n\n    function parseLogicalANDExpr() {\n        var expr = parseEqualityExpr(),\n            operands;\n\n        while(match('&&')) {\n            lex();\n            (operands || (operands = [expr])).push(parseEqualityExpr());\n        }\n\n        return operands?\n            {\n                type : SYNTAX.LOGICAL_EXPR,\n                op   : '&&',\n                args : operands\n            } :\n            expr;\n    }\n\n    function parseEqualityExpr() {\n        var expr = parseRelationalExpr();\n\n        while(\n            match('==') || match('!=') || match('===') || match('!==') ||\n            match('^==') || match('==^') ||match('^=') || match('=^') ||\n            match('$==') || match('==$') || match('$=') || match('=$') ||\n            match('*==') || match('==*')|| match('*=') || match('=*')\n        ) {\n            expr = {\n                type : SYNTAX.COMPARISON_EXPR,\n                op   : lex().val,\n                args : [expr, parseEqualityExpr()]\n            };\n        }\n\n        return expr;\n    }\n\n    function parseRelationalExpr() {\n        var expr = parseAdditiveExpr();\n\n        while(match('<') || match('>') || match('<=') || match('>=')) {\n            expr = {\n                type : SYNTAX.COMPARISON_EXPR,\n                op   : lex().val,\n                args : [expr, parseRelationalExpr()]\n            };\n        }\n\n        return expr;\n    }\n\n    function parseAdditiveExpr() {\n        var expr = parseMultiplicativeExpr();\n\n        while(match('+') || match('-')) {\n            expr = {\n                type : SYNTAX.MATH_EXPR,\n                op   : lex().val,\n                args : [expr, parseMultiplicativeExpr()]\n            };\n        }\n\n        return expr;\n    }\n\n    function parseMultiplicativeExpr() {\n        var expr = parseUnaryExpr();\n\n        while(match('*') || match('/') || match('%')) {\n            expr = {\n                type : SYNTAX.MATH_EXPR,\n                op   : lex().val,\n                args : [expr, parseMultiplicativeExpr()]\n            };\n        }\n\n        return expr;\n    }\n\n    function parsePosExpr() {\n        if(match(':')) {\n            lex();\n            return {\n                type  : SYNTAX.POS_EXPR,\n                toIdx : parseUnaryExpr()\n            };\n        }\n\n        var fromExpr = parseUnaryExpr();\n        if(match(':')) {\n            lex();\n            if(match(']')) {\n                return {\n                    type    : SYNTAX.POS_EXPR,\n                    fromIdx : fromExpr\n                };\n            }\n\n            return {\n                type    : SYNTAX.POS_EXPR,\n                fromIdx : fromExpr,\n                toIdx   : parseUnaryExpr()\n            };\n        }\n\n        return {\n            type : SYNTAX.POS_EXPR,\n            idx  : fromExpr\n        };\n    }\n\n    function parseUnaryExpr() {\n        if(match('!') || match('-')) {\n            return {\n                type : SYNTAX.UNARY_EXPR,\n                op   : lex().val,\n                arg  : parseUnaryExpr()\n            };\n        }\n\n        return parsePrimaryExpr();\n    }\n\n    function parsePrimaryExpr() {\n        var token = lookahead(),\n            type = token.type;\n\n        if(type === TOKEN.STR || type === TOKEN.NUM || type === TOKEN.BOOL || type === TOKEN.NULL) {\n            return {\n                type : SYNTAX.LITERAL,\n                val  : lex().val\n            };\n        }\n\n        if(matchPath()) {\n            return parsePath();\n        }\n\n        if(match('(')) {\n            return parseGroupExpr();\n        }\n\n        return throwUnexpected(lex());\n    }\n\n    function parseGroupExpr() {\n        expect('(');\n        var expr = parseLogicalORExpr();\n        expect(')');\n\n        return expr;\n    }\n\n    function match(val) {\n        var token = lookahead();\n        return token.type === TOKEN.PUNCT && token.val === val;\n    }\n\n    function matchPath() {\n        return matchSelector() || matchSubst() || match('^');\n    }\n\n    function matchSelector() {\n        var token = lookahead();\n        if(token.type === TOKEN.PUNCT) {\n            var val = token.val;\n            return val === '.' || val === '..';\n        }\n\n        return false;\n    }\n\n    function matchSubst() {\n        var token = lookahead();\n        return token.type === TOKEN.ID && token.val[0] === '$';\n    }\n\n    function expect(val) {\n        var token = lex();\n        if(token.type !== TOKEN.PUNCT || token.val !== val) {\n            throwUnexpected(token);\n        }\n    }\n\n    function lookahead() {\n        if(buf !== null) {\n            return buf;\n        }\n\n        var pos = idx;\n        buf = advance();\n        idx = pos;\n\n        return buf;\n    }\n\n    function advance() {\n        while(isWhiteSpace(path[idx])) {\n            ++idx;\n        }\n\n        if(idx >= len) {\n            return {\n                type  : TOKEN.EOP,\n                range : [idx, idx]\n            };\n        }\n\n        var token = scanPunctuator();\n        if(token ||\n                (token = scanId()) ||\n                (token = scanString()) ||\n                (token = scanNumeric())) {\n            return token;\n        }\n\n        token = { range : [idx, idx] };\n        idx >= len?\n            token.type = TOKEN.EOP :\n            token.val = path[idx];\n\n        throwUnexpected(token);\n    }\n\n    function lex() {\n        var token;\n\n        if(buf) {\n            idx = buf.range[1];\n            token = buf;\n            buf = null;\n            return token;\n        }\n\n        return advance();\n    }\n\n    function isDigit(ch) {\n        return '0123456789'.indexOf(ch) >= 0;\n    }\n\n    function isWhiteSpace(ch) {\n        return ' \\r\\n\\t'.indexOf(ch) > -1;\n    }\n\n    function isIdStart(ch) {\n        return ch === '$' || ch === '@' || ch === '_' || (ch >= 'a' && ch <= 'z') || (ch >= 'A' && ch <= 'Z');\n    }\n\n    function isIdPart(ch) {\n        return isIdStart(ch) || (ch >= '0' && ch <= '9');\n    }\n\n    function scanId() {\n        var ch = path[idx];\n\n        if(!isIdStart(ch)) {\n            return;\n        }\n\n        var start = idx,\n            id = ch;\n\n        while(++idx < len) {\n            ch = path[idx];\n            if(!isIdPart(ch)) {\n                break;\n            }\n            id += ch;\n        }\n\n        switch(id) {\n            case 'true':\n            case 'false':\n                return {\n                    type  : TOKEN.BOOL,\n                    val   : id === 'true',\n                    range : [start, idx]\n                };\n\n            case 'null':\n                return {\n                    type  : TOKEN.NULL,\n                    val   : null,\n                    range : [start, idx]\n                };\n\n            default:\n                return {\n                    type  : TOKEN.ID,\n                    val   : id,\n                    range : [start, idx]\n                };\n        }\n    }\n\n    function scanString() {\n        if(path[idx] !== '\"' && path[idx] !== '\\'') {\n            return;\n        }\n\n        var orig = path[idx],\n            start = ++idx,\n            str = '',\n            eosFound = false,\n            ch;\n\n        while(idx < len) {\n            ch = path[idx++];\n            if(ch === '\\\\') {\n                ch = path[idx++];\n            }\n            else if((ch === '\"' || ch === '\\'') && ch === orig) {\n                eosFound = true;\n                break;\n            }\n            str += ch;\n        }\n\n        if(eosFound) {\n            return {\n                type : TOKEN.STR,\n                val : str,\n                range : [start, idx]\n            };\n        }\n    }\n\n    function scanNumeric() {\n        var start = idx,\n            ch = path[idx],\n            isFloat = ch === '.';\n\n        if(isFloat || isDigit(ch)) {\n            var num = ch;\n            while(++idx < len) {\n                ch = path[idx];\n                if(ch === '.') {\n                    if(isFloat) {\n                        return;\n                    }\n                    isFloat = true;\n                }\n                else if(!isDigit(ch)) {\n                    break;\n                }\n\n                num += ch;\n            }\n\n            return {\n                type  : TOKEN.NUM,\n                val   : isFloat? parseFloat(num) : parseInt(num, 10),\n                range : [start, idx]\n            };\n        }\n    }\n\n    function scanPunctuator() {\n        var start = idx,\n            ch1 = path[idx],\n            ch2 = path[idx + 1];\n\n        if(ch1 === '.') {\n            if(isDigit(ch2)) {\n                return;\n            }\n\n            return path[++idx] === '.'?\n                {\n                    type  : TOKEN.PUNCT,\n                    val   : '..',\n                    range : [start, ++idx]\n                } :\n                {\n                    type  : TOKEN.PUNCT,\n                    val   : '.',\n                    range : [start, idx]\n                };\n        }\n\n        if(ch2 === '=') {\n            var ch3 = path[idx + 2];\n            if(ch3 === '=') {\n                if('=!^$*'.indexOf(ch1) >= 0) {\n                    return {\n                        type  : TOKEN.PUNCT,\n                        val   : ch1 + ch2 + ch3,\n                        range : [start, idx += 3]\n                    };\n                }\n            }\n            else if('^$*'.indexOf(ch3) >= 0) {\n                if(ch1 === '=') {\n                    return {\n                        type  : TOKEN.PUNCT,\n                        val   : ch1 + ch2 + ch3,\n                        range : [start, idx += 3]\n                    };\n                }\n            }\n            else if('=!^$*><'.indexOf(ch1) >= 0) {\n                return {\n                    type  : TOKEN.PUNCT,\n                    val   : ch1 + ch2,\n                    range : [start, idx += 2]\n                };\n            }\n        }\n        else if(ch1 === '=' && '^$*'.indexOf(ch2) >= 0) {\n            return {\n                type  : TOKEN.PUNCT,\n                val   : ch1 + ch2,\n                range : [start, idx += 2]\n            };\n        }\n\n        if(ch1 === ch2 && (ch1 === '|' || ch1 === '&')) {\n            return {\n                type  : TOKEN.PUNCT,\n                val   : ch1 + ch2,\n                range : [start, idx += 2]\n            };\n        }\n\n        if(':{}()[]^+-*/%!><|'.indexOf(ch1) >= 0) {\n            return {\n                type  : TOKEN.PUNCT,\n                val   : ch1,\n                range : [start, ++idx]\n            };\n        }\n    }\n\n    function throwUnexpected(token) {\n        if(token.type === TOKEN.EOP) {\n            throwError(token, MESSAGES.UNEXP_EOP);\n        }\n\n        throwError(token, MESSAGES.UNEXP_TOKEN, token.val);\n    }\n\n    function throwError(token, messageFormat) {\n        var args = Array.prototype.slice.call(arguments, 2),\n            msg = messageFormat.replace(\n                /%(\\d)/g,\n                function(_, idx) {\n                    return args[idx] || '';\n                }),\n            error = new Error(msg);\n\n        error.column = token.range[0];\n\n        throw error;\n    }\n\n    return parse;\n})();\n\n// translator\n\nvar translate = (function() {\n\n    var body, vars, lastVarId, unusedVars;\n\n    function acquireVar() {\n        if(unusedVars.length) {\n            return unusedVars.shift();\n        }\n\n        var varName = 'v' + ++lastVarId;\n        vars.push(varName);\n        return varName;\n    }\n\n    function releaseVars() {\n        var args = arguments, i = args.length;\n        while(i--) {\n            unusedVars.push(args[i]);\n        }\n    }\n\n    function translate(ast) {\n        body = [];\n        vars = ['res'];\n        lastVarId = 0;\n        unusedVars = [];\n\n        translateExpr(ast, 'res', 'data');\n\n        body.unshift(\n            'var ',\n            Array.isArray?\n                'isArr = Array.isArray' :\n                'toStr = Object.prototype.toString, isArr = function(o) { return toStr.call(o) === \"[object Array]\"; }',\n                ', concat = Array.prototype.concat',\n                ',', vars.join(','), ';');\n\n        if(ast.type === SYNTAX.PATH) {\n            var lastPart = ast.parts[ast.parts.length - 1];\n            if(lastPart && lastPart.type === SYNTAX.POS_PRED && 'idx' in lastPart.arg) {\n                body.push('res = res[0];');\n            }\n        }\n\n        body.push('return res;');\n\n        return body.join('');\n    }\n\n    function translatePath(path, dest, ctx) {\n        var parts = path.parts,\n            i = 0, len = parts.length;\n\n        body.push(\n            dest, '=', path.fromRoot? 'data' : path.subst? 'subst.' + path.subst : ctx, ';',\n            'isArr(' + dest + ') || (' + dest + ' = [' + dest + ']);');\n\n        while(i < len) {\n            var item = parts[i++];\n            switch(item.type) {\n                case SYNTAX.SELECTOR:\n                    item.selector === '..'?\n                        translateDescendantSelector(item, dest, dest) :\n                        translateSelector(item, dest, dest);\n                    break;\n\n                case SYNTAX.OBJ_PRED:\n                    translateObjectPredicate(item, dest, dest);\n                    break;\n\n                case SYNTAX.POS_PRED:\n                    translatePosPredicate(item, dest, dest);\n                    break;\n\n                case SYNTAX.CONCAT_EXPR:\n                    translateConcatExpr(item, dest, dest);\n                    break;\n            }\n        }\n    }\n\n    function translateSelector(sel, dest, ctx) {\n        if(sel.prop) {\n            var propStr = escapeStr(sel.prop),\n                res = acquireVar(), i = acquireVar(), len = acquireVar(),\n                curCtx = acquireVar(),\n                j = acquireVar(), val = acquireVar(), tmpArr = acquireVar();\n\n            body.push(\n                res, '= [];', i, '= 0;', len, '=', ctx, '.length;', tmpArr, '= [];',\n                'while(', i, '<', len, ') {',\n                    curCtx, '=', ctx, '[', i, '++];',\n                    'if(', curCtx, '!= null) {');\n            if(sel.prop === '*') {\n                body.push(\n                        'if(typeof ', curCtx, '=== \"object\") {',\n                            'if(isArr(', curCtx, ')) {',\n                                res, '=', res, '.concat(', curCtx, ');',\n                            '}',\n                            'else {',\n                                'for(', j, ' in ', curCtx, ') {',\n                                    'if(', curCtx, '.hasOwnProperty(', j, ')) {',\n                                        val, '=', curCtx, '[', j, '];');\n                                        inlineAppendToArray(res, val);\n                    body.push(\n                                    '}',\n                                '}',\n                            '}',\n                        '}');\n            }\n            else {\n                body.push(\n                        val, '=', curCtx, '[', propStr, '];');\n                        inlineAppendToArray(res, val, tmpArr, len);\n            }\n            body.push(\n                    '}',\n                '}',\n                dest, '=', len, '> 1 &&', tmpArr, '.length?', tmpArr, '.length > 1?',\n                    'concat.apply(', res, ',', tmpArr, ') :', res, '.concat(', tmpArr, '[0]) :', res, ';');\n\n            releaseVars(res, i, len, curCtx, j, val, tmpArr);\n        }\n    }\n\n    function translateDescendantSelector(sel, dest, baseCtx) {\n        var prop = sel.prop,\n            ctx = acquireVar(), curCtx = acquireVar(), childCtxs = acquireVar(),\n            i = acquireVar(), j = acquireVar(), val = acquireVar(),\n            len = acquireVar(), res = acquireVar();\n\n        body.push(\n            ctx, '=', baseCtx, '.slice(),', res, '= [];',\n            'while(', ctx, '.length) {',\n                curCtx, '=', ctx, '.shift();');\n        prop?\n            body.push(\n                'if(typeof ', curCtx, '=== \"object\" &&', curCtx, ') {') :\n            body.push(\n                'if(typeof ', curCtx, '!= null) {');\n        body.push(\n                    childCtxs, '= [];',\n                    'if(isArr(', curCtx, ')) {',\n                        i, '= 0,', len, '=', curCtx, '.length;',\n                        'while(', i, '<', len, ') {',\n                            val, '=', curCtx, '[', i, '++];');\n        prop && body.push(\n                            'if(typeof ', val, '=== \"object\") {');\n                                inlineAppendToArray(childCtxs, val);\n        prop && body.push(\n                            '}');\n        body.push(\n                        '}',\n                    '}',\n                    'else {');\n        if(prop) {\n            if(prop !== '*') {\n                body.push(\n                        val, '=', curCtx, '[\"' + prop + '\"];');\n                        inlineAppendToArray(res, val);\n            }\n        }\n        else {\n                        inlineAppendToArray(res, curCtx);\n            body.push(\n                        'if(typeof ', curCtx, '=== \"object\") {');\n        }\n\n        body.push(\n                            'for(', j, ' in ', curCtx, ') {',\n                                'if(', curCtx, '.hasOwnProperty(', j, ')) {',\n                                    val, '=', curCtx, '[', j, '];');\n                                    inlineAppendToArray(childCtxs, val);\n                                    prop === '*' && inlineAppendToArray(res, val);\n        body.push(\n                                '}',\n                            '}');\n        prop || body.push(\n                        '}');\n        body.push(\n                    '}',\n                    childCtxs, '.length &&', ctx, '.unshift.apply(', ctx, ',', childCtxs, ');',\n                '}',\n            '}',\n            dest, '=', res, ';');\n\n        releaseVars(ctx, curCtx, childCtxs, i, j, val, len, res);\n    }\n\n    function translateObjectPredicate(expr, dest, ctx) {\n        var resVar = acquireVar(), i = acquireVar(), len = acquireVar(),\n            cond = acquireVar(), curItem = acquireVar();\n\n        body.push(\n            resVar, '= [];',\n            i, '= 0;',\n            len, '=', ctx, '.length;',\n            'while(', i, '<', len, ') {',\n                curItem, '=', ctx, '[', i, '++];');\n                translateExpr(expr.arg, cond, curItem);\n        body.push(\n                convertToBool(expr.arg, cond), '&&', resVar, '.push(', curItem, ');',\n            '}',\n            dest, '=', resVar, ';');\n\n        releaseVars(resVar, i, len, curItem, cond);\n    }\n\n    function translatePosPredicate(item, dest, ctx) {\n        var arrayExpr = item.arg, fromIdx, toIdx;\n        if(arrayExpr.idx) {\n            var idx = acquireVar();\n            translateExpr(arrayExpr.idx, idx, ctx);\n            body.push(\n                idx, '< 0 && (', idx, '=', ctx, '.length +', idx, ');',\n                dest, '=', ctx, '[', idx, '] == null? [] : [', ctx, '[', idx, ']];');\n            releaseVars(idx);\n            return false;\n        }\n        else if(arrayExpr.fromIdx) {\n            if(arrayExpr.toIdx) {\n                translateExpr(arrayExpr.fromIdx, fromIdx = acquireVar(), ctx);\n                translateExpr(arrayExpr.toIdx, toIdx = acquireVar(), ctx);\n                body.push(dest, '=', ctx, '.slice(', fromIdx, ',', toIdx, ');');\n                releaseVars(fromIdx, toIdx);\n            }\n            else {\n                translateExpr(arrayExpr.fromIdx, fromIdx = acquireVar(), ctx);\n                body.push(dest, '=', ctx, '.slice(', fromIdx, ');');\n                releaseVars(fromIdx);\n            }\n        }\n        else {\n            translateExpr(arrayExpr.toIdx, toIdx = acquireVar(), ctx);\n            body.push(dest, '=', ctx, '.slice(0,', toIdx, ');');\n            releaseVars(toIdx);\n        }\n    }\n\n    function translateExpr(expr, dest, ctx) {\n        switch(expr.type) {\n            case SYNTAX.PATH:\n                translatePath(expr, dest, ctx);\n                break;\n\n            case SYNTAX.CONCAT_EXPR:\n                translateConcatExpr(expr, dest, ctx);\n                break;\n\n            case SYNTAX.COMPARISON_EXPR:\n                translateComparisonExpr(expr, dest, ctx);\n                break;\n\n            case SYNTAX.MATH_EXPR:\n                translateMathExpr(expr, dest, ctx);\n                break;\n\n            case SYNTAX.LOGICAL_EXPR:\n                translateLogicalExpr(expr, dest, ctx);\n                break;\n\n            case SYNTAX.UNARY_EXPR:\n                translateUnaryExpr(expr, dest, ctx);\n                break;\n\n            case SYNTAX.LITERAL:\n                body.push(dest, '=');\n                translateLiteral(expr.val);\n                body.push(';');\n                break;\n        }\n    }\n\n    function translateLiteral(val) {\n        body.push(typeof val === 'string'? escapeStr(val) : val === null? 'null' : val);\n    }\n\n    function translateComparisonExpr(expr, dest, ctx) {\n        var val1 = acquireVar(), val2 = acquireVar(),\n            isVal1Array = acquireVar(), isVal2Array = acquireVar(),\n            i = acquireVar(), j = acquireVar(),\n            len1 = acquireVar(), len2 = acquireVar(),\n            leftArg = expr.args[0], rightArg = expr.args[1];\n\n        body.push(dest, '= false;');\n\n        translateExpr(leftArg, val1, ctx);\n        translateExpr(rightArg, val2, ctx);\n\n        var isLeftArgPath = leftArg.type === SYNTAX.PATH,\n            isRightArgLiteral = rightArg.type === SYNTAX.LITERAL;\n\n        body.push(isVal1Array, '=');\n        isLeftArgPath? body.push('true;') : body.push('isArr(', val1, ');');\n\n        body.push(isVal2Array, '=');\n        isRightArgLiteral? body.push('false;') : body.push('isArr(', val2, ');');\n\n        body.push(\n            'if(');\n        isLeftArgPath || body.push(isVal1Array, '&&');\n        body.push(val1, '.length === 1) {',\n                val1, '=', val1, '[0];',\n                isVal1Array, '= false;',\n            '}');\n        isRightArgLiteral || body.push(\n            'if(', isVal2Array, '&&', val2, '.length === 1) {',\n                val2, '=', val2, '[0];',\n                isVal2Array, '= false;',\n            '}');\n\n        body.push(i, '= 0;',\n            'if(', isVal1Array, ') {',\n                len1, '=', val1, '.length;');\n\n        if(!isRightArgLiteral) {\n            body.push(\n                'if(', isVal2Array, ') {',\n                    len2, '=', val2, '.length;',\n                    'while(', i, '<', len1, '&& !', dest, ') {',\n                        j, '= 0;',\n                        'while(', j, '<', len2, ') {');\n                            writeCondition(expr.op, [val1, '[', i, ']'].join(''), [val2, '[', j, ']'].join(''));\n                            body.push(\n                                dest, '= true;',\n                                'break;',\n                            '}',\n                            '++', j, ';',\n                        '}',\n                        '++', i, ';',\n                    '}',\n                '}',\n                'else {');\n        }\n        body.push(\n                    'while(', i, '<', len1, ') {');\n                        writeCondition(expr.op, [val1, '[', i, ']'].join(''), val2);\n                        body.push(\n                            dest, '= true;',\n                            'break;',\n                        '}',\n                        '++', i, ';',\n                    '}');\n\n        isRightArgLiteral || body.push(\n                '}');\n\n        body.push(\n            '}');\n\n        if(!isRightArgLiteral) {\n            body.push(\n            'else if(', isVal2Array,') {',\n                len2, '=', val2, '.length;',\n                'while(', i, '<', len2, ') {');\n                    writeCondition(expr.op, val1, [val2, '[', i, ']'].join(''));\n            body.push(\n                        dest, '= true;',\n                        'break;',\n                    '}',\n                    '++', i, ';',\n                '}',\n            '}');\n        }\n\n        body.push(\n            'else {',\n                dest, '=', binaryOperators[expr.op](val1, val2), ';',\n            '}');\n\n        releaseVars(val1, val2, isVal1Array, isVal2Array, i, j, len1, len2);\n    }\n\n    function writeCondition(op, val1Expr, val2Expr) {\n        body.push('if(', binaryOperators[op](val1Expr, val2Expr), ') {');\n    }\n\n    function translateLogicalExpr(expr, dest, ctx) {\n        var conditionVars = [],\n            args = expr.args, len = args.length,\n            i = 0, val;\n\n        body.push(dest, '= false;');\n        switch(expr.op) {\n            case '&&':\n                while(i < len) {\n                    conditionVars.push(val = acquireVar());\n                    translateExpr(args[i], val, ctx);\n                    body.push('if(', convertToBool(args[i++], val), ') {');\n                }\n                body.push(dest, '= true;');\n                break;\n\n            case '||':\n                while(i < len) {\n                    conditionVars.push(val = acquireVar());\n                    translateExpr(args[i], val, ctx);\n                    body.push(\n                        'if(', convertToBool(args[i], val), ') {',\n                            dest, '= true;',\n                        '}');\n                    if(i++ + 1 < len) {\n                        body.push('else {');\n                    }\n                }\n                --len;\n                break;\n        }\n\n        while(len--) {\n            body.push('}');\n        }\n\n        releaseVars.apply(null, conditionVars);\n    }\n\n    function translateMathExpr(expr, dest, ctx) {\n        var val1 = acquireVar(),\n            val2 = acquireVar(),\n            args = expr.args;\n\n        translateExpr(args[0], val1, ctx);\n        translateExpr(args[1], val2, ctx);\n\n        body.push(\n            dest, '=',\n            binaryOperators[expr.op](\n                convertToSingleValue(args[0], val1),\n                convertToSingleValue(args[1], val2)),\n            ';');\n\n        releaseVars(val1, val2);\n    }\n\n    function translateUnaryExpr(expr, dest, ctx) {\n        var val = acquireVar(),\n            arg = expr.arg;\n\n        translateExpr(arg, val, ctx);\n\n        switch(expr.op) {\n            case '!':\n                body.push(dest, '= !', convertToBool(arg, val) + ';');\n                break;\n\n            case '-':\n                body.push(dest, '= -', convertToSingleValue(arg, val) + ';');\n                break;\n        }\n\n        releaseVars(val);\n    }\n\n    function translateConcatExpr(expr, dest, ctx) {\n        var argVars = [],\n            args = expr.args,\n            len = args.length,\n            i = 0;\n\n        while(i < len) {\n            argVars.push(acquireVar());\n            translateExpr(args[i], argVars[i++], ctx);\n        }\n\n        body.push(dest, '= concat.call(', argVars.join(','), ');');\n\n        releaseVars.apply(null, argVars);\n    }\n\n    function escapeStr(s) {\n        return '\\'' + s.replace(/\\\\/g, '\\\\\\\\').replace(/'/g, '\\\\\\'') + '\\'';\n    }\n\n    function inlineAppendToArray(res, val, tmpArr, len) {\n        body.push(\n            'if(typeof ', val, '!== \"undefined\") {',\n                'if(isArr(', val, ')) {');\n        if(tmpArr) {\n            body.push(\n                    len, '> 1?');\n                        inlinePushToArray(tmpArr, val);\n            body.push(\n                        ':');\n        }\n        body.push(\n                    res, '=', res, '.length?', res, '.concat(', val, ') :', val, '.slice()', ';',\n                '}',\n                'else {');\n        tmpArr && body.push(\n                    'if(', tmpArr, '.length) {',\n                        res, '= concat.apply(', res, ',', tmpArr, ');',\n                        tmpArr, '= [];',\n                    '}');\n                    inlinePushToArray(res, val);\n        body.push(';',\n                '}',\n            '}');\n    }\n\n    function inlinePushToArray(res, val) {\n        body.push(res, '.length?', res, '.push(', val, ') :',  res, '[0] =', val);\n    }\n\n    function convertToBool(arg, varName) {\n        switch(arg.type) {\n            case SYNTAX.LOGICAL_EXPR:\n                return varName;\n\n            case SYNTAX.LITERAL:\n                return '!!' + varName;\n\n            case SYNTAX.PATH:\n                return varName + '.length > 0';\n\n            default:\n                return ['(typeof ', varName, '=== \"boolean\"?',\n                    varName, ':',\n                    'isArr(', varName, ')?', varName, '.length > 0 : !!', varName, ')'].join('');\n        }\n    }\n\n    function convertToSingleValue(arg, varName) {\n        switch(arg.type) {\n            case SYNTAX.LITERAL:\n                return varName;\n\n            case SYNTAX.PATH:\n                return varName + '[0]';\n\n            default:\n                return ['(isArr(', varName, ')?', varName, '[0] : ', varName, ')'].join('');\n        }\n    }\n\n    function startsWithStrict(val1, val2) {\n        return ['typeof ', val1, '=== \"string\" && typeof ', val2, '=== \"string\" &&',\n            val1, '.indexOf(', val2, ') === 0'].join('');\n    }\n\n    function startsWith(val1, val2) {\n        return [val1, '!= null &&', val2, '!= null &&',\n            val1, '.toString().toLowerCase().indexOf(', val2, '.toString().toLowerCase()) === 0'].join('');\n    }\n\n    function endsWithStrict(val1, val2) {\n        return ['typeof ', val1, '=== \"string\" && typeof ', val2, '=== \"string\" &&',\n            val1, '.length >=', val2, '.length &&',\n            val1, '.lastIndexOf(', val2, ') ===', val1, '.length -', val2, '.length'].join('');\n    }\n\n    function endsWith(val1, val2) {\n        return [val1, '!= null &&', val2, '!= null &&',\n            '(', val1, '=', val1, '.toString()).length >=', '(', val2, '=', val2, '.toString()).length &&',\n            '(', val1, '.toLowerCase()).lastIndexOf(', '(', val2, '.toLowerCase())) ===',\n            val1, '.length -', val2, '.length'].join('');\n    }\n\n    function containsStrict(val1, val2) {\n        return ['typeof ', val1, '=== \"string\" && typeof ', val2, '=== \"string\" &&',\n            val1, '.indexOf(', val2, ') > -1'].join('');\n    }\n\n    function contains(val1, val2) {\n        return [val1, '!= null && ', val2, '!= null &&',\n            val1, '.toString().toLowerCase().indexOf(', val2, '.toString().toLowerCase()) > -1'].join('');\n    }\n\n    var binaryOperators = {\n            '===' : function(val1, val2) {\n                return val1 + '===' + val2;\n            },\n\n            '==' : function(val1, val2) {\n                return ['typeof ', val1, '=== \"string\" && typeof ', val2, '=== \"string\"?',\n                    val1, '.toLowerCase() ===', val2, '.toLowerCase() :' +\n                    val1, '==', val2].join('');\n            },\n\n            '>=' : function(val1, val2) {\n                return val1 + '>=' + val2;\n            },\n\n            '>' : function(val1, val2) {\n                return val1 + '>' + val2;\n            },\n\n            '<=' : function(val1, val2) {\n                return val1 + '<=' + val2;\n            },\n\n            '<' : function(val1, val2) {\n                return val1 + '<' + val2;\n            },\n\n            '!==' : function(val1, val2) {\n                return val1 + '!==' + val2;\n            },\n\n            '!=' : function(val1, val2) {\n                return val1 + '!=' + val2;\n            },\n\n            '^==' : startsWithStrict,\n\n            '==^' : function(val1, val2) {\n                return startsWithStrict(val2, val1);\n            },\n\n            '^=' : startsWith,\n\n            '=^' : function(val1, val2) {\n                return startsWith(val2, val1);\n            },\n\n            '$==' : endsWithStrict,\n\n            '==$' : function(val1, val2) {\n                return endsWithStrict(val2, val1);\n            },\n\n            '$=' : endsWith,\n\n            '=$' : function(val1, val2) {\n                return endsWith(val2, val1);\n            },\n\n            '*==' : containsStrict,\n\n            '==*' : function(val1, val2) {\n                return containsStrict(val2, val1);\n            },\n\n            '=*' : function(val1, val2) {\n                return contains(val2, val1);\n            },\n\n            '*=' : contains,\n\n            '+' : function(val1, val2) {\n                return val1 + '+' + val2;\n            },\n\n            '-' : function(val1, val2) {\n                return val1 + '-' + val2;\n            },\n\n            '*' : function(val1, val2) {\n                return val1 + '*' + val2;\n            },\n\n            '/' : function(val1, val2) {\n                return val1 + '/' + val2;\n            },\n\n            '%' : function(val1, val2) {\n                return val1 + '%' + val2;\n            }\n        };\n\n    return translate;\n})();\n\nfunction compile(path) {\n    return Function('data,subst', translate(parse(path)));\n}\n\nvar cache = {},\n    cacheKeys = [],\n    params = {\n        cacheSize : 100\n    },\n    setParamsHooks = {\n        cacheSize : function(oldVal, newVal) {\n            if(newVal < oldVal && cacheKeys.length > newVal) {\n                var removedKeys = cacheKeys.splice(0, cacheKeys.length - newVal),\n                    i = removedKeys.length;\n\n                while(i--) {\n                    delete cache[removedKeys[i]];\n                }\n            }\n        }\n    };\n\nvar decl = function(path, ctx, substs) {\n    if(!cache[path]) {\n        cache[path] = compile(path);\n        if(cacheKeys.push(path) > params.cacheSize) {\n            delete cache[cacheKeys.shift()];\n        }\n    }\n\n    return cache[path](ctx, substs || {});\n};\n\ndecl.version = '0.4.0';\n\ndecl.params = function(_params) {\n    if(!arguments.length) {\n        return params;\n    }\n\n    for(var name in _params) {\n        if(_params.hasOwnProperty(name)) {\n            setParamsHooks[name] && setParamsHooks[name](params[name], _params[name]);\n            params[name] = _params[name];\n        }\n    }\n};\n\ndecl.compile = compile;\n\ndecl.apply = decl;\n\nif(typeof module === 'object' && typeof module.exports === 'object') {\n    module.exports = decl;\n}\nelse if(typeof modules === 'object') {\n    modules.define('jspath', function(provide) {\n        provide(decl);\n    });\n}\nelse if(typeof define === 'function') {\n    define(function(require, exports, module) {\n        module.exports = decl;\n    });\n}\nelse {\n    window.JSPath = decl;\n}\n\n})();\n","/*-------------------------------------------------------------------------*/\n/* ES6 EXTENSIONS                                                          */\n/*-------------------------------------------------------------------------*/\n\nif(!String.prototype.startsWith)\n{\n\tString.prototype.startsWith = function(s)\n\t{\n\t\tconst base = 0x00000000000000000000;\n\n\t\treturn this.indexOf(s, base) === base;\n\t};\n}\n\n/*-------------------------------------------------------------------------*/\n\nif(!String.prototype.endsWith)\n{\n\tString.prototype.endsWith = function(s)\n\t{\n\t\tconst base = this.length - s.length;\n\n\t\treturn this.indexOf(s, base) === base;\n\t};\n}\n\n/*-------------------------------------------------------------------------*/\n/* JQUERY EXTENSIONS                                                       */\n/*-------------------------------------------------------------------------*/\n\nvar _ami_internal_jQueryEach = jQuery.each;\nvar _ami_internal_jQueryAjax = jQuery.ajax;\n\n/*-------------------------------------------------------------------------*/\n\njQuery.each = function(el, callback, context)\n{\n\treturn _ami_internal_jQueryEach(el, context ? (index, value) => callback.call(context, index, value) : callback);\n};\n\n/*-------------------------------------------------------------------------*/\n\njQuery.ajax = function(settings)\n{\n\tif(typeof settings === 'object'\n\t   &&\n\t   settings.dataType === 'sheet'\n\t ) {\n\t\tconst result = $.Deferred();\n\n\t\tconst [context, url] = amiWebApp.setup(\n\t\t\t['context', 'url'],\n\t\t\t[result, ''],\n\t\t\tsettings\n\t\t)\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tif(url)\n\t\t{\n\t\t\t$('head').append('<link rel=\"stylesheet\" type=\"text/css\" href=\"' + url + '\"></link>').promise().done(() => {\n\n\t\t\t\tresult.resolveWith(context);\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tresult.rejectWith(context);\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn result.promise();\n\t}\n\telse\n\t{\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn _ami_internal_jQueryAjax.apply(this, arguments);\n\n\t\t/*-----------------------------------------------------------------*/\n\t}\n};\n\n/*-------------------------------------------------------------------------*/\n\njQuery.fn.extend({\n\t/*---------------------------------------------------------------------*/\n\n\tfindWithSelf: function(selector)\n\t{\n\t\treturn this.find(selector).addBack(selector);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tserializeObject: function()\n\t{\n\t\tconst result = {};\n\n\t\tthis.serializeArray().forEach((item) => {\n\n\t\t\tif(item.name in result)\n\t\t\t{\n\t\t\t\tif(Object.prototype.toString.call(result[item.name]) === '[object String]')\n\t\t\t\t{\n\t\t\t\t\tresult[item.name] = [result[item.name]];\n\t\t\t\t}\n\n\t\t\t\tresult[item.name].push(item.value || '');\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tresult[item.name] = item.value || '';\n\t\t\t}\n\t\t});\n\n\t\treturn result;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n});\n\n/*-------------------------------------------------------------------------*/\n/* BOOTSTRAP EXTENSIONS                                                    */\n/*-------------------------------------------------------------------------*/\n\nvar _ami_internal_modalZIndex = 1050;\n\n/*-------------------------------------------------------------------------*/\n\n$(document).on('show.bs.modal', '.modal', function() {\n\n\tconst el = $(this);\n\n\tsetTimeout(() => {\n\n\t\t$('body > .modal-backdrop:last').css('z-index', _ami_internal_modalZIndex++);\n\t\t/*-----------*/el/*-----------*/.css('z-index', _ami_internal_modalZIndex++);\n\n\t}, 10);\n});\n\n/*-------------------------------------------------------------------------*/\n","/*-------------------------------------------------------------------------*/\n/* NAMESPACE HELPERS                                                       */\n/*-------------------------------------------------------------------------*/\n\nfunction _$createNamespace($name, x)\n{\n\tlet parent = window;\n\n\tconst parts = $name.split(/\\s*\\.\\s*/g), l = parts.length - 1;\n\n\tfor(var i = 0; i < l; i++)\n\t{\n\t\tif(parent[parts[i]])\n\t\t{\n\t\t\tparent = parent[parts[i]];\n\t\t}\n\t\telse\n\t\t{\n\t\t\tparent = parent[parts[i]] = {};\n\t\t}\n\t}\n\n\tparent[parts[i]] = x;\n}\n\n/*-------------------------------------------------------------------------*/\n\nfunction _$addToNamespace($name, x)\n{\n\tlet parent = window;\n\n\tconst parts = $name.split(/\\s*\\.\\s*/g), l = parts.length - 1;\n\n\tfor(var i = 0; i < l; i++)\n\t{\n\t\tif(parent[parts[i]])\n\t\t{\n\t\t\tparent = parent[parts[i]];\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthrow '`' + $name + '` (`' + parts[i] + '`) not declared';\n\t\t}\n\t}\n\n\tparent[parts[i]] = x;\n}\n\n/*-------------------------------------------------------------------------*/\n/* NAMESPACES                                                              */\n/*-------------------------------------------------------------------------*/\n\n/**\n  * Create a new namespace\n  * @param {String} $name the namespace name\n  * @param {Object} [$descr] the namespace body\n  */\n\nfunction $AMINamespace($name, $descr)\n{\n\tif(!$descr)\n\t{\n\t\t$descr = {};\n\t}\n\n\t/*---------------------------------------------------------------------*/\n\n\t$descr.$name = $name;\n\n\t/*---------------------------------------------------------------------*/\n\n\t_$createNamespace($name, $descr);\n\n\t/*---------------------------------------------------------------------*/\n\n\tif($descr.$)\n\t{\n\t\t$descr.$.apply($descr);\n\t}\n\n\t/*---------------------------------------------------------------------*/\n}\n\n/*-------------------------------------------------------------------------*/\n/* INTERFACES                                                              */\n/*-------------------------------------------------------------------------*/\n\n/**\n  * Create a new interface\n  * @param {String} $name the interface name\n  * @param {Object} [$descr] the interface body\n  */\n\nfunction $AMIInterface($name, $descr)\n{\n\tif(!$descr)\n\t{\n\t\t$descr = {};\n\t}\n\n\t/*---------------------------------------------------------------------*/\n\n\tconst $class = function()\n\t{\n\t\tthrow 'could nor instantiate interface';\n\t};\n\n\t/*---------------------------------------------------------------------*/\n\n\tif($descr.$extends)\n\t{\n\t\tthrow '`$extends` not allowed for interface';\n\t}\n\n\tif($descr.$implements)\n\t{\n\t\tthrow '`$implements` not allowed for interface';\n\t}\n\n\t/*---------------------------------------------------------------------*/\n\n\tif($descr.$)\n\t{\n\t\tthrow '`$` not allowed for interface';\n\t}\n\n\tif($descr.$init)\n\t{\n\t\tthrow '`$init` not allowed for interface';\n\t}\n\n\t/*---------------------------------------------------------------------*/\n\n\t$class.$name = $name;\n\t$class.$class = $class;\n\t$class.$members = $descr;\n\n\t/*---------------------------------------------------------------------*/\n\n\t_$addToNamespace($name, $class);\n\n\t/*---------------------------------------------------------------------*/\n}\n\n/*-------------------------------------------------------------------------*/\n/* CLASSES                                                                 */\n/*-------------------------------------------------------------------------*/\n\n/**\n  * Create a new class\n  * @param {String} $name the class name\n  * @param {Object} [$descr] the class body\n  */\n\nfunction $AMIClass($name, $descr)\n{\n\tif(!$descr)\n\t{\n\t\t$descr = {};\n\t}\n\n\t/*---------------------------------------------------------------------*/\n\n\tconst $super = ($descr.$extends instanceof Function) ? $descr.$extends.prototype : {};\n\n\tconst $super_implements = ($super.$implements instanceof Array) ? $super.$implements : [];\n\tconst $descr_implements = ($descr.$implements instanceof Array) ? $descr.$implements : [];\n\n\t/*---------------------------------------------------------------------*/\n\n\tconst $class = function()\n\t{\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tfor(const i in this.$implements)\n\t\t{\n\t\t\tif(this.$implements.hasOwnProperty(i))\n\t\t\t{\n\t\t\t\tconst $interface = this.$implements[i];\n\n\t\t\t\tfor(const j in $interface.$members)\n\t\t\t\t{\n\t\t\t\t\tif($interface.$members.hasOwnProperty(j))\n\t\t\t\t\t{\n\t\t\t\t\t\tconst $member = $interface.$members[j];\n\n\t\t\t\t\t\tif(typeof(this[j]) !== typeof($member))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthrow 'class `' + this.$name + '` with must implement `' + $interface.$name + '.' + j + '`';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tconst _super = this.$class._internal_super;\n\t\tconst _added = this.$class._internal_added;\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tthis.$super = {};\n\n\t\tfor(const name in _super)\n\t\t{\n\t\t\tif(_super.hasOwnProperty(name))\n\t\t\t{\n\t\t\t\tthis.$super[name] = ((_super, name, that) => function() {\n\n\t\t\t\t\treturn _super[name].apply(that, arguments)\n\n\t\t\t\t})(_super, name, this);\n\t\t\t}\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tthis.$added = {};\n\n\t\tfor(const name in _added)\n\t\t{\n\t\t\tif(_added.hasOwnProperty(name))\n\t\t\t{\n\t\t\t\tthis.$added[name] = ((_added, name, that) => function() {\n\n\t\t\t\t\treturn _added[name].apply(that, arguments);\n\n\t\t\t\t})(_added, name, this);\n\t\t\t}\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tif(this.$init)\n\t\t{\n\t\t\tthis.$init.apply(this, arguments);\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\t};\n\n\t/*---------------------------------------------------------------------*/\n\n\t$class._internal_super = {};\n\t$class._internal_added = {};\n\n\t/*---------------------------------------------------------------------*/\n\n\tfor(const name in $super)\n\t{\n\t\tif(name === '$init'\n\t\t   ||\n\t\t   name.charAt(0) !== '$'\n\t\t   ||\n\t\t   $super.hasOwnProperty(name)\n\t\t ) {\n\t\t\t$class._internal_super[name] = $super[name];\n\n\t\t\t$class.prototype[name] = $super[name];\n\t\t}\n\t}\n\n\tfor(const name in $descr)\n\t{\n\t\tif(name === '$init'\n\t\t   ||\n\t\t   name.charAt(0) !== '$'\n\t\t   ||\n\t\t   $descr.hasOwnProperty(name)\n\t\t ) {\n\t\t\t$class._internal_added[name] = $descr[name];\n\n\t\t\t$class.prototype[name] = $descr[name];\n\t\t}\n\t}\n\n\t/*---------------------------------------------------------------------*/\n\n\t$class.prototype.$name = $name;\n\t$class.prototype.$class = $class;\n\t$class.prototype.$implements = $super_implements.concat($descr_implements);\n\n\t/*---------------------------------------------------------------------*/\n\n\t_$addToNamespace($name, $class);\n\n\t/*---------------------------------------------------------------------*/\n\n\tif($descr.$)\n\t{\n\t\t$descr.$.apply($class);\n\t}\n\n\t/*---------------------------------------------------------------------*/\n}\n\n/*-------------------------------------------------------------------------*/\n/* NodeJS EXTENSION                                                        */\n/*-------------------------------------------------------------------------*/\n\nif(typeof exports !== 'undefined')\n{\n\tmodule.exports.Namespace = $AMINamespace;\n\tmodule.exports.Interface = $AMIInterface;\n\tmodule.exports.  Class   =   $AMIClass  ;\n}\n\n/*-------------------------------------------------------------------------*/\n/* JQUERY EXTENSION                                                        */\n/*-------------------------------------------------------------------------*/\n\nif(typeof jQuery !== 'undefined')\n{\n\tjQuery.Namespace = $AMINamespace;\n\tjQuery.Interface = $AMIInterface;\n\tjQuery.  Class   =   $AMIClass  ;\n}\n\n/*-------------------------------------------------------------------------*/\n","/*-------------------------------------------------------------------------*/\n\n/**\n * The AMI url routing subsystem\n * @namespace amiRouter\n */\n\n$AMINamespace('amiRouter', /** @lends amiRouter */ {\n\t/*---------------------------------------------------------------------*/\n\t/* PRIVATE MEMBERS                                                     */\n\t/*---------------------------------------------------------------------*/\n\n\t_scriptURL: '',\n\t_originURL: '',\n\t_webAppURL: '',\n\n\t_hash: '',\n\t_args: [],\n\n\t/*---------------------------------------------------------------------*/\n\n\t_routes: [],\n\n\t/*---------------------------------------------------------------------*/\n\t/* PRIVATE METHODS                                                     */\n\t/*---------------------------------------------------------------------*/\n\n\t_eatSlashes: function(url)\n\t{\n\t\turl = url.trim();\n\n\t\twhile(url[url.length - 1] === '/')\n\t\t{\n\t\t\turl = url.substring(0, url.length - 1);\n\t\t}\n\n\t\treturn url;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\t/* STATIC CONSTRUCTOR                                                  */\n\t/*---------------------------------------------------------------------*/\n\n\t$: function()\n\t{\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tthis._args.length = 0;\n\t\tthis._routes.length = 0;\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tconst  href  = window.location. href .trim();\n\t\tconst  hash  = window.location. hash .trim();\n\t\tconst search = window.location.search.trim();\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tconst scripts = document.getElementsByTagName('script');\n\n\t\t/*-----------------------------------------------------------------*/\n\t\t/* SCRIPT_URL AND ORIGIN_URL                                       */\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tfor(let idx, i = 0; i < scripts.length; i++)\n\t\t{\n\t\t\tidx = scripts[i].src.indexOf('js/ami.');\n\n\t\t\tif(idx > 0)\n\t\t\t{\n\t\t\t\tthis._scriptURL = scripts[i].src;\n\n\t\t\t\tthis._originURL = this._eatSlashes(\n\t\t\t\t\tthis._scriptURL.substring(0, idx)\n\t\t\t\t);\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\t\t/* WEBAPP_URL                                                      */\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tthis._webAppURL = this._eatSlashes(\n\t\t\thref.replace(/(?:\\#|\\?).*$/, '')\n\t\t);\n\n\t\t/*-----------------------------------------------------------------*/\n\t\t/* HASH                                                            */\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tthis._hash = this._eatSlashes(\n\t\t\thash.substring(1).replace(/\\?.*$/, '')\n\t\t);\n\n\t\t/*-----------------------------------------------------------------*/\n\t\t/* ARGS                                                            */\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tif(search)\n\t\t{\n\t\t\tsearch.substring(1).split('&').forEach((param) => {\n\n\t\t\t\tconst parts = param.split('=');\n\n\t\t\t\t/**/ if(parts.length === 1)\n\t\t\t\t{\n\t\t\t\t\tthis._args[decodeURIComponent(parts[0])] = /*--------*/ '' /*--------*/;\n\t\t\t\t}\n\t\t\t\telse if(parts.length === 2)\n\t\t\t\t{\n\t\t\t\t\tthis._args[decodeURIComponent(parts[0])] = decodeURIComponent(parts[1]);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\t/* PUBLIC METHODS                                                      */\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Gets the AWF's script URL\n\t  * @returns {String} The AWF's script URL\n\t  */\n\n\tgetScriptURL: function()\n\t{\n\t\treturn this._scriptURL;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Gets the origin URL\n\t  * @returns {String} The origin URL\n\t  */\n\n\tgetOriginURL: function()\n\t{\n\t\treturn this._originURL;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Gets the webapp URL\n\t  * @returns {String} The webapp URL\n\t  */\n\n\tgetWebAppURL: function()\n\t{\n\t\treturn this._webAppURL;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Gets the anchor part of the webapp URL\n\t  * @returns {String} The anchor part of the webapp URL\n\t  */\n\n\tgetHash: function()\n\t{\n\t\treturn this._hash;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Gets the arguments extracted from the webapp URL\n\t  * @returns {Array<String>} The arguments extracted from the webapp URL\n\t  */\n\n\tgetArgs: function()\n\t{\n\t\treturn this._args;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Appends a routing rule\n\t  * @param {String} regExp the regExp\n\t  * @param {Object} handler the handler\n\t  * @returns {Namespace} The amiRouter singleton\n\t  */\n\n\tappend: function(regExp, handler)\n\t{\n\t\tthis._routes.unshift({\n\t\t\tregExp: regExp,\n\t\t\thandler: handler,\n\t\t});\n\n\t\treturn this;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Removes some routing rules\n\t  * @param {String} regExp the regExp\n\t  * @returns {Namespace} The amiRouter singleton\n\t  */\n\n\tremove: function(regExp)\n\t{\n\t\tthis._routes = this._routes.filter((route) => {\n\n\t\t\treturn route.regExp.toString() !== regExp.toString();\n\t\t});\n\n\t\treturn this;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Checks whether the URL matches with a routing rule\n\t  * @returns {Boolean}\n\t  */\n\n\tcheck: function()\n\t{\n\t\tlet m;\n\n\t\tfor(let i = 0; i < this._routes.length; i++)\n\t\t{\n\t\t\tm = this._hash.match(this._routes[i].regExp);\n\n\t\t\tif(m)\n\t\t\t{\n\t\t\t\tthis._routes[i].handler.apply(amiRouter, m);\n\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Append a new history entry\n\t  * @param {String} path the new path\n\t  * @param {Object} [context=null] the new context\n\t  * @returns {Boolean}\n\t  */\n\n\tappendHistoryEntry: function(path, context = null)\n\t{\n\t\tif(history.pushState)\n\t\t{\n\t\t\thistory.pushState(context, null, this._webAppURL + this._eatSlashes(path));\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Replace the current history entry\n\t  * @param {String} path the new path\n\t  * @param {Object} [context=null] the new context\n\t  * @returns {Boolean}\n\t  */\n\n\treplaceHistoryEntry: function(path, context = null)\n\t{\n\t\tif(history.replaceState)\n\t\t{\n\t\t\thistory.replaceState(context, null, this._webAppURL + this._eatSlashes(path));\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n});\n\n/*-------------------------------------------------------------------------*/\n","/*-------------------------------------------------------------------------*/\n/* ami                                                                     */\n/*-------------------------------------------------------------------------*/\n\n$AMINamespace('ami', {\n\n\tversion: '0.0.1',\n\tcommit_id: '{{AMI_COMMIT_ID}}',\n});\n\n/*-------------------------------------------------------------------------*/\n/* INTERNAL FUNCTIONS                                                      */\n/*-------------------------------------------------------------------------*/\n\nfunction _ami_internal_then(deferred, doneFunc, failFunc)\n{\n\tif(deferred && deferred.then)\n\t{\n\t\tdeferred.then(doneFunc, failFunc);\n\t}\n\telse\n\t{\n\t\tdoneFunc();\n\t}\n}\n\n/*-------------------------------------------------------------------------*/\n\nfunction _ami_internal_always(deferred, alwaysFunc)\n{\n\tif(deferred && deferred.always)\n\t{\n\t\tdeferred.always(alwaysFunc);\n\t}\n\telse\n\t{\n\t\talwaysFunc();\n\t}\n}\n\n/*-------------------------------------------------------------------------*/\n/* amiWebApp                                                               */\n/*-------------------------------------------------------------------------*/\n\n/**\n * The AMI webapp subsystem\n * @namespace amiWebApp\n */\n\n$AMINamespace('amiWebApp', /** @lends amiWebApp */ {\n\t/*---------------------------------------------------------------------*/\n\t/* PRIVATE MEMBERS                                                     */\n\t/*---------------------------------------------------------------------*/\n\n\t_idRegExp: new RegExp('[a-zA-Z][a-zA-Z0-9]{7}_[a-zA-Z0-9]{4}_[a-zA-Z0-9]{4}_[a-zA-Z0-9]{4}_[a-zA-Z0-9]{12}', 'g'),\n\n\t_linkExp: new RegExp('\\\\[([^\\\\]]*)\\\\]\\\\(([^\\\\)]*)\\\\)', 'g'),\n\n\t/*---------------------------------------------------------------------*/\n\n\t_embedded: false,\n\t_noBootstrap: false,\n\n\t_globalDeferred: $.Deferred(),\n\n\t/*---------------------------------------------------------------------*/\n\n\t_sheets: [],\n\t_scripts: [],\n\n\t_controls: {},\n\t_subapps: {},\n\n\t_isReady: false,\n\t_canLeave: true,\n\t_lockCnt: 0x00,\n\n\t/*---------------------------------------------------------------------*/\n\n\t_currentSubAppInstance: new function()\n\t{\n\t\tthis.onReady = function() {};\n\t\tthis.onExit = function() {};\n\t\tthis.onLogin = function() {};\n\t\tthis.onLogout = function() {};\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\t/* PUBLIC MEMBERS                                                      */\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * The origin URL\n\t  * @type {String}\n\t  */\n\n\toriginURL: '/',\n\n\t/**\n\t  * The webapp URL\n\t  * @type {String}\n\t  */\n\n\twebAppURL: '/',\n\n\t/**\n\t  * The anchor part of the webapp URL\n\t  * @type {String}\n\t  */\n\n\thash: '',\n\n\t/**\n\t  * The arguments extracted from the webapp URL\n\t  * @type {Array<String>}\n\t  */\n\n\targs: {},\n\n\t/*---------------------------------------------------------------------*/\n\t/* STATIC CONSTRUCTOR                                                  */\n\t/*---------------------------------------------------------------------*/\n\n\t$: function()\n\t{\n\t\t/*-----------------------------------------------------------------*/\n\t\t/* GET FLAGS                                                       */\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tconst url = amiRouter.getScriptURL();\n\n\t\tconst idx = url.indexOf('?');\n\n\t\tif(idx > 0)\n\t\t{\n\t\t\tconst flags = url.substring(idx).toLowerCase();\n\n\t\t\tthis._embedded = (flags.indexOf('embedded') >= 0);\n\n\t\t\tthis._noBootstrap = (flags.indexOf('nobootstrap') >= 0);\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\t\t/* GET URLS, HASH AND ARGS                                         */\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tthis.originURL = amiRouter.getOriginURL();\n\t\tthis.webAppURL = amiRouter.getWebAppURL();\n\n\t\tthis.hash = amiRouter.getHash();\n\t\tthis.args = amiRouter.getArgs();\n\n\t\t/*-----------------------------------------------------------------*/\n\t\t/* LOAD SHEETS AND SCRIPTS                                         */\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tif(this._noBootstrap === false\n\t\t   &&\n\t\t   (typeof jQuery.fn.modal) !== 'function'\n\t\t ) {\n\t\t\tthis.loadResources([\n\t\t\t\tthis.originURL + '/css/bootstrap.min.css',\n\t\t\t\tthis.originURL + '/css/bootstrap-datetimepicker.min.css',\n\t\t\t\tthis.originURL + '/css/select2.min.css',\n\t\t\t\t/**/\n\t\t\t\tthis.originURL + '/css/font-awesome.min.css',\n\t\t\t\tthis.originURL + '/css/ami.min.css',\n\t\t\t\t/**/\n\t\t\t\tthis.originURL + '/js/popper.min.js',\n\t\t\t\tthis.originURL + '/js/moment.min.js',\n\t\t\t\t/**/\n\t\t\t\tthis.originURL + '/js/bootstrap.min.js',\n\t\t\t\tthis.originURL + '/js/bootstrap-datetimepicker.min.js',\n\t\t\t\tthis.originURL + '/js/select2.min.js',\n\t\t\t]).done(() => {\n\n\t\t\t\tthis._globalDeferred.resolve();\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.loadResources([\n\t\t\t\tthis.originURL + '/css/font-awesome.min.css',\n\t\t\t\tthis.originURL + '/css/ami.min.css',\n\t\t\t]).done(() => {\n\n\t\t\t\tthis._globalDeferred.resolve();\n\t\t\t});\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\t/* MODE                                                                */\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Checks whether the WebApp is executed in embedded mode\n\t  * @returns {Boolean}\n\t  */\n\n\tisEmbedded: function()\n\t{\n\t\treturn this._embedded;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Checks whether the WebApp is executed locally (file://, localhost, 127.0.0.1 or ::1)\n\t  * @returns {Boolean}\n\t  */\n\n\tisLocal: function()\n\t{\n\t\treturn document.location.protocol === (('file:'))\n\t\t       ||\n\t\t       document.location.hostname === 'localhost'\n\t\t       ||\n\t\t       document.location.hostname === '127.0.0.1'\n\t\t       ||\n\t\t       document.location.hostname === ((('::1')))\n\t\t;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\t/* TOOLS                                                               */\n\t/*---------------------------------------------------------------------*/\n\n\ttypeOf: function(x)\n\t{\n\t\tconst name = Object.prototype.toString.call(x);\n\n\t\treturn name.startsWith('[object ') ? name.substring(8, name.length - 1)\n\t\t                                   : ''\n\t\t;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tasArray: function(x)\n\t{\n\t\treturn this.typeOf(x) === 'Array' ? (x)\n\t\t                                  : [x]\n\t\t;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tsetup: function(optionNames, optionDefaults, settings)\n\t{\n\t\tconst result = [];\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tconst l = optionNames.length;\n\t\tconst m = optionDefaults.length;\n\n\t\tif(l !== m)\n\t\t{\n\t\t\tthrow 'internal error';\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tif(settings) {\n\t\t\tfor(let i = 0; i < l; i++) {\n\t\t\t\tresult.push(optionNames[i] in settings ? settings[optionNames[i]] : optionDefaults[i]);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tfor(let i = 0; i < l; i++) {\n\t\t\t\tresult.push(/*---------------------------------------------------*/ optionDefaults[i]);\n\t\t\t}\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn result;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\treplace: amiTwig.stdlib._replace,\n\n\t/*---------------------------------------------------------------------*/\n\n\t_textToHtmlX: ['&'    , '\"'     , '<'   , '>'   ],\n\t_textToHtmlY: ['&amp;', '&quot;', '&lt;', '&gt;'],\n\n\t/**\n\t  * Escapes the given string from text to HTML\n\t  * @param {String} string the unescaped string\n\t  * @returns {String} The escaped string\n\t  */\n\n\ttextToHtml: function(s)\n\t{\n\t\treturn this.replace(s || '', this._textToHtmlX, this._textToHtmlY);\n\t},\n\n\t/**\n\t  * Unescapes the given string from HTML to text\n\t  * @param {String} string the escaped string\n\t  * @returns {String} The unescaped string\n\t  */\n\n\thtmlToText: function(s)\n\t{\n\t\treturn this.replace(s || '', this._textToHtmlY, this._textToHtmlX);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t_textToStringX: ['\\\\'  , '\\n' , '\"'  , '\\''  ],\n\t_textToStringY: ['\\\\\\\\', '\\\\n', '\\\\\"', '\\\\\\''],\n\n\t/**\n\t  * Escapes the given string from text to JavaScript string\n\t  * @param {String} string the unescaped string\n\t  * @returns {String} The escaped string\n\t  */\n\n\ttextToString: function(s)\n\t{\n\t\treturn this.replace(s || '', this._textToStringX, this._textToStringY);\n\t},\n\n\t/**\n\t  * Unescapes the given string from JavaScript string to text\n\t  * @param {String} string the escaped string\n\t  * @returns {String} The unescaped string\n\t  */\n\n\tstringToText: function(s)\n\t{\n\t\treturn this.replace(s || '', this._textToStringY, this._textToStringX);\n\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t_htmlToStringX: ['\\\\'  , '\\n' , '&quot;'  , '\\''  ],\n\t_htmlToStringY: ['\\\\\\\\', '\\\\n', '\\\\&quot;', '\\\\\\''],\n\n\t/**\n\t  * Escapes the given string from HTML to JavaScript string\n\t  * @param {String} string the unescaped string\n\t  * @returns {String} The escaped string\n\t  */\n\n\thtmlToString: function(s)\n\t{\n\t\treturn this.replace(s || '', this._htmlToStringX, this._htmlToStringY);\n\t},\n\n\t/**\n\t  * Unescapes the given string from JavaScript string to HTML\n\t  * @param {String} string the escaped string\n\t  * @returns {String} The unescaped string\n\t  */\n\n\tstringToHtml: function(s)\n\t{\n\t\treturn this.replace(s || '', this._htmlToStringY, this._htmlToStringX);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t_textToSQLX: ['\\''  ],\n\t_textToSQLY: ['\\'\\''],\n\n\t/**\n\t  * Escapes the given string from text to SQL\n\t  * @param {String} string the unescaped string\n\t  * @returns {String} The escaped string\n\t  */\n\n\ttextToSQL: function(s)\n\t{\n\t\treturn this.replace(s || '', this._textToSQLX, this._textToSQLY);\n\t},\n\n\t/**\n\t  * Unescapes the given string from SQL to text\n\t  * @param {String} string the escaped string\n\t  * @returns {String} The unescaped string\n\t  */\n\n\tsqlToText: function(s)\n\t{\n\t\treturn this.replace(s || '', this._textToSQLY, this._textToSQLX);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\t/* BASE64                                                              */\n\t/*---------------------------------------------------------------------*/\n\n\t_base64: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_',\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Encodes (RFC 4648) a string\n\t  * @param {String} string the decoded string\n\t  * @returns {String} The encoded string\n\t  */\n\n\tbase64Encode: function(s)\n\t{\n\t\tlet w;\n\n\t\tconst e = [];\n\n\t\tconst l = s.length, m = l % 3;\n\n\t\tconst this_base64 = this._base64;\n\n\t\tfor(let i = 0; i < l;)\n\t\t{\n\t\t\tw = s.charCodeAt(i++) << 16\n\t\t\t    |\n\t\t\t    s.charCodeAt(i++) << 8\n\t\t\t    |\n\t\t\t    s.charCodeAt(i++) << 0\n\t\t\t;\n\n\t\t\te.push(this_base64.charAt((w >> 18) & 0x3F));\n\t\t\te.push(this_base64.charAt((w >> 12) & 0x3F));\n\t\t\te.push(this_base64.charAt((w >> 6) & 0x3F));\n\t\t\te.push(this_base64.charAt((w >> 0) & 0x3F));\n\t\t}\n\n\t\t/**/ if(m === 1) {\n\t\t\te.splice(-2, 2);\n\t\t}\n\t\telse if(m === 2) {\n\t\t\te.splice(-1, 1);\n\t\t}\n\n\t\treturn e.join('');\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Decodes (RFC 4648) a string\n\t  * @param {String} string the encoded string\n\t  * @returns {String} The decoded string\n\t  */\n\n\tbase64Decode: function(s)\n\t{\n\t\tlet w;\n\n\t\tconst e = [];\n\n\t\tconst l = s.length, m = l % 4;\n\n\t\tconst this_base64 = this._base64;\n\n\t\tfor(let i = 0; i < l;)\n\t\t{\n\t\t\tw = this_base64.indexOf(s.charAt(i++)) << 18\n\t\t\t    |\n\t\t\t    this_base64.indexOf(s.charAt(i++)) << 12\n\t\t\t    |\n\t\t\t    this_base64.indexOf(s.charAt(i++)) << 6\n\t\t\t    |\n\t\t\t    this_base64.indexOf(s.charAt(i++)) << 0\n\t\t\t;\n\n\t\t\te.push(String.fromCharCode((w >>> 16) & 0xFF));\n\t\t\te.push(String.fromCharCode((w >>> 8) & 0xFF));\n\t\t\te.push(String.fromCharCode((w >>> 0) & 0xFF));\n\t\t}\n\n\t\t/**/ if(m === 2) {\n\t\t\te.splice(-2, 2);\n\t\t}\n\t\telse if(m === 3) {\n\t\t\te.splice(-1, 1);\n\t\t}\n\n\t\treturn e.join('');\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\t/* DYNAMIC RESOURCE LOADING                                            */\n\t/*---------------------------------------------------------------------*/\n\n\t_getExtension: function(url)\n\t{\n\t\tconst idx = url.lastIndexOf('.');\n\n\t\treturn idx > 0 ? url.substring(idx) : '';\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t_getDataType: function(url, dataType)\n\t{\n\t\tlet result;\n\n\t\tif(dataType === 'auto')\n\t\t{\n\t\t\t/**/ if(url.indexOf('ctrl:') === 0)\n\t\t\t{\n\t\t\t\tresult = 'control';\n\t\t\t}\n\t\t\telse if(url.indexOf('subapp:') === 0)\n\t\t\t{\n\t\t\t\tresult = 'subapp';\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tswitch(this._getExtension(url).toLowerCase())\n\t\t\t\t{\n\t\t\t\t\tcase '.css':\n\t\t\t\t\t\tresult = 'sheet';\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase '.js':\n\t\t\t\t\t\tresult = 'script';\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase '.json':\n\t\t\t\t\t\tresult = 'json';\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase '.xml':\n\t\t\t\t\t\tresult = 'xml';\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tresult = 'text';\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tresult = dataType;\n\t\t}\n\n\t\treturn result;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t__loadXXX: function(deferred, result, urls, dataType, context)\n\t{\n\t\tif(urls.length === 0)\n\t\t{\n\t\t\treturn deferred.resolveWith(context, [result]);\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tconst url = urls.shift().trim();\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tconst dataTYPE = this._getDataType(url, dataType);\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tswitch(dataTYPE)\n\t\t{\n\t\t\t/*-------------------------------------------------------------*/\n\t\t\t/* CONTROL                                                     */\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tcase 'control':\n\n\t\t\t\tthis.loadControl(url).then((data) => {\n\n\t\t\t\t\tresult.push(data);\n\n\t\t\t\t\tthis.__loadXXX(deferred, result, urls, dataType, context);\n\n\t\t\t\t}, (message) => {\n\n\t\t\t\t\tdeferred.rejectWith(context, [message]);\n\t\t\t\t});\n\n\t\t\t\tbreak;\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t\t/* SUBAPP                                                      */\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tcase 'subapp':\n\n\t\t\t\tthis.loadSubApp(url).then((data) => {\n\n\t\t\t\t\tresult.push(data);\n\n\t\t\t\t\tthis.__loadXXX(deferred, result, urls, dataType, context);\n\n\t\t\t\t}, (message) => {\n\n\t\t\t\t\tdeferred.rejectWith(context, [message]);\n\t\t\t\t});\n\n\t\t\t\tbreak;\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t\t/* SHEET                                                       */\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tcase 'sheet':\n\n\t\t\t\tif(this._sheets.indexOf(url) >= 0)\n\t\t\t\t{\n\t\t\t\t\tresult.push(false);\n\n\t\t\t\t\tthis.__loadXXX(deferred, result, urls, dataType, context);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t$.ajax({\n\t\t\t\t\t\turl: url,\n\t\t\t\t\t\tasync: false,\n\t\t\t\t\t\tcache: false,\n\t\t\t\t\t\tcrossDomain: true,\n\t\t\t\t\t\tdataType: dataTYPE,\n\t\t\t\t\t}).then(() => {\n\n\t\t\t\t\t\tresult.push(true);\n\n\t\t\t\t\t\tthis._sheets.push(url);\n\n\t\t\t\t\t\tthis.__loadXXX(deferred, result, urls, dataType, context);\n\n\t\t\t\t\t}, () => {\n\n\t\t\t\t\t\tdeferred.rejectWith(context, ['could not load `' + url + '`']);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t\t/* SCRIPT                                                      */\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tcase 'script':\n\n\t\t\t\tif(this._scripts.indexOf(url) >= 0)\n\t\t\t\t{\n\t\t\t\t\tresult.push(false);\n\n\t\t\t\t\tthis.__loadXXX(deferred, result, urls, dataType, context);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t$.ajax({\n\t\t\t\t\t\turl: url,\n\t\t\t\t\t\tasync: false,\n\t\t\t\t\t\tcache: false,\n\t\t\t\t\t\tcrossDomain: true,\n\t\t\t\t\t\tdataType: dataTYPE,\n\t\t\t\t\t}).then(() => {\n\n\t\t\t\t\t\tresult.push(true);\n\n\t\t\t\t\t\tthis._scripts.push(url);\n\n\t\t\t\t\t\tthis.__loadXXX(deferred, result, urls, dataType, context);\n\n\t\t\t\t\t}, () => {\n\n\t\t\t\t\t\tdeferred.rejectWith(context, ['could not load `' + url + '`']);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t\t/* OTHER                                                       */\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tdefault:\n\n\t\t\t\t$.ajax({\n\t\t\t\t\turl: url,\n\t\t\t\t\tasync: true,\n\t\t\t\t\tcache: false,\n\t\t\t\t\tcrossDomain: true,\n\t\t\t\t\tdataType: dataTYPE,\n\t\t\t\t}).then((data) => {\n\n\t\t\t\t\tresult.push(data);\n\n\t\t\t\t\tthis.__loadXXX(deferred, result, urls, dataType, context);\n\n\t\t\t\t}, () => {\n\n\t\t\t\t\tdeferred.rejectWith(context, ['could not load `' + url + '`']);\n\t\t\t\t});\n\n\t\t\t\tbreak;\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t_loadXXX: function(urls, dataType, settings)\n\t{\n\t\tconst deferred = $.Deferred();\n\n\t\tconst [context] = this.setup(\n\t\t\t['context'],\n\t\t\t[deferred],\n\t\t\tsettings\n\t\t);\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tthis.__loadXXX(deferred, [], this.asArray(urls), dataType, context);\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn deferred.promise();\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Asynchronously loads resources by extension\n\t  * @param {(Array|String)} urls the array of urls\n\t  * @param {Object} [settings] dictionary of settings (context)\n\t  * @returns {$.Deferred} A JQuery deferred object\n\t  */\n\n\tloadResources: function(urls, settings)\n\t{\n\t\treturn this._loadXXX(urls, 'auto', settings);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Asynchronously loads CSS sheets\n\t  * @param {(Array|String)} urls the array of urls\n\t  * @param {Object} [settings] dictionary of settings (context)\n\t  * @returns {$.Deferred} A JQuery deferred object\n\t  */\n\n\tloadSheets: function(urls, settings)\n\t{\n\t\treturn this._loadXXX(urls, 'sheet', settings);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Asynchronously loads JS scripts\n\t  * @param {(Array|String)} urls the array of urls\n\t  * @param {Object} [settings] dictionary of settings (context)\n\t  * @returns {$.Deferred} A JQuery deferred object\n\t  */\n\n\tloadScripts: function(urls, settings)\n\t{\n\t\treturn this._loadXXX(urls, 'script', settings);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Asynchronously loads JSON files\n\t  * @param {(Array|String)} urls the array of urls\n\t  * @param {Object} [settings] dictionary of settings (context)\n\t  * @returns {$.Deferred} A JQuery deferred object\n\t  */\n\n\tloadJSONs: function(urls, settings)\n\t{\n\t\treturn this._loadXXX(urls, 'json', settings);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Asynchronously loads XML files\n\t  * @param {(Array|String)} urls the array of urls\n\t  * @param {Object} [settings] dictionary of settings (context)\n\t  * @returns {$.Deferred} A JQuery deferred object\n\t  */\n\n\tloadXMLs: function(urls, settings)\n\t{\n\t\treturn this._loadXXX(urls, 'xml', settings);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Asynchronously loads HTML files\n\t  * @param {(Array|String)} urls the array of urls\n\t  * @param {Object} [settings] dictionary of settings (context)\n\t  * @returns {$.Deferred} A JQuery deferred object\n\t  */\n\n\tloadHTMLs: function(urls, settings)\n\t{\n\t\treturn this._loadXXX(urls, 'text', settings);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Asynchronously loads TWIG files\n\t  * @param {(Array|String)} urls the array of urls\n\t  * @param {Object} [settings] dictionary of settings (context)\n\t  * @returns {$.Deferred} A JQuery deferred object\n\t  */\n\n\tloadTWIGs: function(urls, settings)\n\t{\n\t\treturn this._loadXXX(urls, 'text', settings);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Asynchronously loads text files\n\t  * @param {(Array|String)} urls the array of urls\n\t  * @param {Object} [settings] dictionary of settings (context)\n\t  * @returns {$.Deferred} A JQuery deferred object\n\t  */\n\n\tloadTexts: function(urls, settings)\n\t{\n\t\treturn this._loadXXX(urls, 'text', settings);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\t/* HTML CONTENT                                                        */\n\t/*---------------------------------------------------------------------*/\n\n\t_xxxHTML: function(selector, twig, mode, settings)\n\t{\n\t\tconst result = $.Deferred();\n\n\t\tconst [context, suffix, dict] = this.setup(\n\t\t\t['context', 'suffix', 'dict'],\n\t\t\t[result, null, null],\n\t\t\tsettings\n\t\t);\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tif(suffix)\n\t\t{\n\t\t\ttwig = twig.replace(this._idRegExp, function(id) {\n\n\t\t\t\treturn id + '_instance' + suffix;\n\t\t\t});\n\t\t}\n\n\t\tconst html = this.formatTWIG(twig, dict);\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tlet promise;\n\n\t\tlet el = $(selector);\n\n\t\tswitch(mode)\n\t\t{\n\t\t\tcase 0:\n\t\t\t\tpromise = el.html(html).promise();\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\t\t\t\tpromise = el.prepend(html).promise();\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\tpromise = el.append(html).promise();\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\t\t\t\tpromise = el.replaceWith(el.is('[id]') ? html.replace(/^\\s*(<[a-zA-Z_-]+)/, '$1 id=\"' + el.attr('id') + '\"') : html).promise();\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthrow 'internal error';\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tpromise.done(() => {\n\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tlet el = $(selector);\n\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tconst _find = mode === 3 ? (_selector) => el.findWithSelf(_selector)\n\t\t\t                         : (_selector) => el.    find    (_selector)\n\t\t\t;\n\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tif(jQuery.fn.tooltip)\n\t\t\t{\n\t\t\t\t_find('[data-toggle=\"tooltip\"]').tooltip({\n\t\t\t\t\thtml: false,\n\t\t\t\t\tdelay: {\n\t\t\t\t\t\tshow: 500,\n\t\t\t\t\t\thide: 100,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tif(jQuery.fn.popover)\n\t\t\t{\n\t\t\t\t_find('[data-toggle=\"popover\"]').popover({\n\t\t\t\t\thtml: true,\n\t\t\t\t\tdelay: {\n\t\t\t\t\t\tshow: 500,\n\t\t\t\t\t\thide: 100,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tif(jQuery.fn.datetimepicker)\n\t\t\t{\n\t\t\t\t_find('.form-datetime').datetimepicker({\n\t\t\t\t\tformat: 'YYYY-MM-DD HH:mm:ss.SSSSSS'\n\t\t\t\t});\n\n\t\t\t\t_find('.form-date').datetimepicker({\n\t\t\t\t\tformat: 'YYYY-MM-DD'\n\t\t\t\t});\n\n\t\t\t\t_find('.form-time').datetimepicker({\n\t\t\t\t\tformat: 'HH:mm:ss'\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tresult.resolveWith(context, [el]);\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t});\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn result.promise();\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Puts a HTML or TWIG fragment to the given target, see method [formatTWIG]{@link #jsdoc_method_formatTWIG}\n\t  * @param {String} selector the target selector\n\t  * @param {String} twig the TWIG fragment\n\t  * @param {Object} [settings] dictionary of settings (context, dict)\n\t  * @returns {$.Deferred} A JQuery deferred object\n\t  */\n\n\treplaceHTML: function(selector, twig, settings)\n\t{\n\t\treturn this._xxxHTML(selector, twig, 0, settings);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Prepends a HTML or TWIG fragment to the given target, see method [formatTWIG]{@link #jsdoc_method_formatTWIG}\n\t  * @param {String} selector the target selector\n\t  * @param {String} twig the TWIG fragment\n\t  * @param {Object} [settings] dictionary of settings (context, dict)\n\t  * @returns {$.Deferred} A JQuery deferred object\n\t  */\n\n\tprependHTML: function(selector, twig, settings)\n\t{\n\t\treturn this._xxxHTML(selector, twig, 1, settings);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Appends a HTML or TWIG fragment to the given target, see method [formatTWIG]{@link #jsdoc_method_formatTWIG}\n\t  * @param {String} selector the target selector\n\t  * @param {String} twig the TWIG fragment\n\t  * @param {Object} [settings] dictionary of settings (context, dict)\n\t  * @returns {$.Deferred} A JQuery deferred object\n\t  */\n\n\tappendHTML: function(selector, twig, settings)\n\t{\n\t\treturn this._xxxHTML(selector, twig, 2, settings);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Interpretes the given TWIG string, see {@link http://twig.sensiolabs.org/documentation}\n\t  * @param {String} twig the TWIG string\n\t  * @param {Object|Array} [dict] the dictionary\n\t  * @returns {String} The Interpreted TWIG string\n\t  */\n\n\tformatTWIG: function(twig, dict)\n\t{\n\t\tconst result = [];\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tconst render = (twig, dict) => {\n\n\t\t\tif(this.typeOf(dict) !== 'Object')\n\t\t\t{\n\t\t\t\tdict = {};\n\t\t\t}\n\n\t\t\tdict['ORIGIN_URL'] = this.originURL;\n\t\t\tdict['WEBAPP_URL'] = this.webAppURL;\n\n\t\t\treturn amiTwig.engine.render(twig, dict);\n\t\t};\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\ttry\n\t\t{\n\t\t\tif(this.typeOf(dict) === 'Array')\n\t\t\t{\n\t\t\t\tdict.forEach((DICT) => {\n\n\t\t\t\t\tresult.push(render(twig, DICT));\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tresult.push(render(twig, dict));\n\t\t\t}\n\t\t}\n\t\tcatch(error)\n\t\t{\n\t\t\tresult.length = 0;\n\n\t\t\tthis.error('TWIG parsing error: ' + error.message);\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn result.join('');\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\t/* JSPATH                                                              */\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Finds data within the given JSON, see {@link https://github.com/dfilatov/jspath}\n\t  * @param {String} path the path\n\t  * @param {Object} json the JSON\n\t  * @returns {Array} The resulting array\n\t  */\n\n\tjspath: function(path, json)\n\t{\n\t\treturn JSPath.apply(path, json);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\t/* STACK                                                               */\n\t/*---------------------------------------------------------------------*/\n\n\tgetStack: function()\n\t{\n\t\ttry\n\t\t{\n\t\t\tthrow Error();\n\t\t}\n\t\tcatch(e1)\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\treturn e1.stack;\n\t\t\t}\n\t\t\tcatch(e2)\n\t\t\t{\n\t\t\t\treturn ((('')));\n\t\t\t}\n\t\t}\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\t/* LOCK                                                                */\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Locks the Web application\n\t  */\n\n\tlock: function()\n\t{\n\t\tlet lines = this.getStack().split('\\n');\n\n\t\tif(lines.length > 2)\n\t\t{\n\t\t\tconsole.log('lock[' + this._lockCnt + '] :: ' + lines[2]); // eslint-disable-line no-console\n\t\t}\n\n\t\t/**/\n\n\t\tif(this._lockCnt <= 0)\n\t\t{\n\t\t\t$('#ami_locker').css('display', 'flex');\n\n\t\t\tthis._lockCnt = 1;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis._lockCnt++;\n\t\t}\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Unlocks the Web application\n\t  */\n\n\tunlock: function()\n\t{\n\t\tif(this._lockCnt <= 1)\n\t\t{\n\t\t\t$('#ami_locker').css('display', 'none');\n\n\t\t\tthis._lockCnt = 0;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis._lockCnt--;\n\t\t}\n\n\t\t/**/\n\n\t\tlet lines = this.getStack().split('\\n');\n\n\t\tif(lines.length > 2)\n\t\t{\n\t\t\tconsole.log('unlock[' + this._lockCnt + '] :: ' + lines[2]); // eslint-disable-line no-console\n\t\t}\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Enables the message in a confirmation dialog box to inform that the user is about to leave the current page.\n\t  */\n\n\tcanLeave: function()\n\t{\n\t\tthis._canLeave = true;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Disables the message in a confirmation dialog box to inform that the user is about to leave the current page.\n\t  */\n\n\tcannotLeave: function()\n\t{\n\t\tthis._canLeave = false;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\t/* MESSAGES                                                            */\n\t/*---------------------------------------------------------------------*/\n\n\t_publishAlert: function(clazz, title, message, fadeOut)\n\t{\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tconsole.log('AMI ' + title.toUpperCase() + ': ' + message + '\\n' + this.getStack()); // eslint-disable-line no-console\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tconst html = '<div class=\"toast\" role=\"alert\" ' + (fadeOut ? 'data-delay=\"60000\"' : 'data-autohide=\"false\"') + '><div class=\"toast-header\"><strong class=\"mr-auto ' + clazz + '\">' + title + '</strong><small>' + this.textToHtml(window.moment().format('DD MMM, HH:mm:ss')) + '</small><button type=\"button\" class=\"ml-2 mb-1 close\" data-dismiss=\"toast\"><span>&times;</span></button></div><div class=\"toast-body\">' + this.textToHtml(message) + '</div></div>';\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tconst el = $('#ami_alert_content');\n\n\t\tel.append(html.replace(this._linkExp, '<a href=\"$1\" target=\"_blank\">$2</a>')).promise().done(() => {\n\n\t\t\tel.find('.toast:last-child').toast('show');\n\n\t\t\t$(document).scrollTop(0);\n\n\t\t\tthis.unlock();\n\t\t});\n\n\t\t/*-----------------------------------------------------------------*/\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Shows an 'info' message\n\t  * @param {String|Array} message the message\n\t  * @param {Boolean} [fadeOut=false] if True, the message disappears after 60s\n\t  */\n\n\tinfo: function(message, fadeOut)\n\t{\n\t\tif(this.typeOf(message) === 'Array')\n\t\t{\n\t\t\tmessage = message.join('. ');\n\t\t}\n\n\t\tthis._publishAlert('text-info', 'Info', message, fadeOut);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Shows a 'success' message\n\t  * @param {String|Array} message the message\n\t  * @param {Boolean} [fadeOut=false] if True, the message disappears after 60s\n\t  */\n\n\tsuccess: function(message, fadeOut)\n\t{\n\t\tif(this.typeOf(message) === 'Array')\n\t\t{\n\t\t\tmessage = message.join('. ');\n\t\t}\n\n\t\tthis._publishAlert('text-success', 'Success', message, fadeOut);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Shows a 'warning' message\n\t  * @param {String|Array} message the message\n\t  * @param {Boolean} [fadeOut=false] if True, the message disappears after 60s\n\t  */\n\n\twarning: function(message, fadeOut)\n\t{\n\t\tif(this.typeOf(message) === 'Array')\n\t\t{\n\t\t\tmessage = message.join('. ');\n\t\t}\n\n\t\tthis._publishAlert('text-warning', 'Warning', message, fadeOut);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Shows an 'error' message\n\t  * @param {String|Array} message the message\n\t  * @param {Boolean} [fadeOut=false] if True, the message disappears after 60s\n\t  */\n\n\terror: function(message, fadeOut)\n\t{\n\t\tif(this.typeOf(message) === 'Array')\n\t\t{\n\t\t\tmessage = message.join('. ');\n\t\t}\n\n\t\tthis._publishAlert('text-danger', 'Error', message, fadeOut);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Flushes messages\n\t  */\n\n\tflush: function()\n\t{\n\t\t$('#ami_alert_content').empty();\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\t/* BREADCRUMB                                                          */\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Fill the main breadcrumb\n\t  * @param {Array} items the array of items (HTML format)\n\t  */\n\n\tfillBreadcrumb: function(items)\n\t{\n\t\tlet s = this.typeOf(items) === 'Array' ? items.map((item) => '<li class=\"breadcrumb-item\">' + item.replace(/{{WEBAPP_URL}}/g, this.webAppURL) + '</li>').join('')\n\t\t                                       : ''\n\t\t;\n\n\t\t$('#ami_breadcrumb_content').html(s);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\t/* WEB APPLICATION                                                     */\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * This method must be overloaded and is called when the Web application starts\n\t  * @event amiWebApp#onReady\n\t  * @param {String} userData\n\t  */\n\n\tonReady: function()\n\t{\n\t\tif(!this._embedded)\n\t\t{\n\t\t\talert('error: `amiWebApp.onReady()` must be overloaded!'); // eslint-disable-line no-alert\n\t\t}\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * This method must be overloaded and is called when the toolbar needs to be updated\n\t  * @event amiWebApp#onRefresh\n\t  * @param {Boolean} isAuth\n\t  */\n\n\tonRefresh: function()\n\t{\n\t\tif(!this._embedded)\n\t\t{\n\t\t\talert('error: `amiWebApp.onRefresh()` must be overloaded!'); // eslint-disable-line no-alert\n\t\t}\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Starts the Web application\n\t  * @param {Object} [settings] dictionary of settings (logo_url, home_url, contact_email, about_url, theme_url, locker_url)\n\t  */\n\n\tstart: function(settings)\n\t{\n\t\tconst [logo_url, home_url, contact_email, about_url, theme_url, locker_url, endpoint_url] = this.setup(\n\t\t\t['logo_url', 'home_url', 'contact_email', 'about_url', 'theme_url', 'locker_url', 'endpoint_url'],\n\t\t\t[\n\t\t\t\tthis.originURL\n\t\t\t\t\t+ '/images/logo.png',\n\t\t\t\tthis.webAppURL,\n\t\t\t\t'ami@lpsc.in2p3.fr',\n\t\t\t\t'http://cern.ch/ami/',\n\t\t\t\tthis.originURL + '/twig/AMI/Theme/blue.twig',\n\t\t\t\tthis.originURL + '/twig/AMI/Fragment/locker.twig',\n\t\t\t\tthis.originURL + '/AMI/FrontEnd',\n\t\t\t],\n\t\t\tsettings\n\t\t);\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tamiCommand.endpoint = endpoint_url;\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\twindow.onbeforeunload = (e) => {\n\n\t\t\tif(!this._canLeave)\n\t\t\t{\n\t\t\t\tconst f = e || window.event;\n\n\t\t\t\tif(f)\n\t\t\t\t{\n\t\t\t\t\tf.returnValue = 'Confirm that you want to leave this page?';\n\t\t\t\t}\n\n\t\t\t\treturn 'Confirm that you want to leave this page?';\n\t\t\t}\n\t\t};\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tconst controls_url = this.originURL + '/controls/CONTROLS.json';\n\n\t\tconst subapps_url = this.originURL + '/subapps/SUBAPPS.json';\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\t$.ajax({url: controls_url, cache: false, crossDomain: true, dataType: 'json'}).then((data1) => {\n\n\t\t\t$.ajax({url: subapps_url, cache: false, crossDomain: true, dataType: 'json'}).then((data2) => {\n\n\t\t\t\tfor(const name in data1) {\n\t\t\t\t\tthis._controls[name.toLowerCase()] = data1[name];\n\t\t\t\t}\n\n\t\t\t\tfor(const name in data2) {\n\t\t\t\t\tthis._subapps[name.toLowerCase()] = data2[name];\n\t\t\t\t}\n\n\t\t\t\tif(!this._embedded)\n\t\t\t\t{\n\t\t\t\t\t/*-----------------------------------------------------*/\n\n\t\t\t\t\tconst dict = {\n\t\t\t\t\t\tLOGO_URL: logo_url,\n\t\t\t\t\t\tHOME_URL: home_url,\n\t\t\t\t\t\tCONTACT_EMAIL: contact_email,\n\t\t\t\t\t\tABOUT_URL: about_url,\n\t\t\t\t\t};\n\n\t\t\t\t\t/*-----------------------------------------------------*/\n\n\t\t\t\t\t$.ajax({url: theme_url, cache: true, crossDomain: true, dataType: 'text'}).then((data3) => {\n\n\t\t\t\t\t\t$.ajax({url: locker_url, cache: true, crossDomain: true, dataType: 'text'}).then((data4) => {\n\n\t\t\t\t\t\t\t$('body').append(this.formatTWIG(data3, dict) + data4).promise().done(() => {\n\n\t\t\t\t\t\t\t\tthis.lock();\n\n\t\t\t\t\t\t\t\tamiLogin._start().done(() => {\n\n\t\t\t\t\t\t\t\t\tthis.unlock();\n\n\t\t\t\t\t\t\t\t}).fail((message) => {\n\n\t\t\t\t\t\t\t\t\tthis.error(message);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t}, () => {\n\n\t\t\t\t\t\t\talert('could not open `' + locker_url + '`, please reload the page...'); // eslint-disable-line no-alert\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}, () => {\n\n\t\t\t\t\t\talert('could not open `' + theme_url + '`, please reload the page...'); // eslint-disable-line no-alert\n\t\t\t\t\t});\n\n\t\t\t\t\t/*-----------------------------------------------------*/\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t/*-----------------------------------------------------*/\n\n\t\t\t\t\tlet data3 = '';\n\n\t\t\t\t\tif($('#ami_alert_content').length === 0) {\n\t\t\t\t\t\tdata3 += '<div id=\"ami_alert_content\"></div>';\n\t\t\t\t\t}\n\n\t\t\t\t\tif($('#ami_login_menu_content').length === 0) {\n\t\t\t\t\t\tdata3 += '<div id=\"ami_login_menu_content\"></div>';\n\t\t\t\t\t}\n\n\t\t\t\t\t/*-----------------------------------------------------*/\n\n\t\t\t\t\t$.ajax({url: locker_url, cache: true, crossDomain: true, dataType: 'text'}).done((data4) => {\n\n\t\t\t\t\t\t$('body').prepend(data3 + data4).promise().done(() => {\n\n\t\t\t\t\t\t\tthis.lock();\n\n\t\t\t\t\t\t\tamiLogin._start().done(() => {\n\n\t\t\t\t\t\t\t\tthis.unlock();\n\n\t\t\t\t\t\t\t}).fail((message) => {\n\n\t\t\t\t\t\t\t\tthis.error(message);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\t/*-----------------------------------------------------*/\n\t\t\t\t}\n\n\t\t\t}, () => {\n\n\t\t\t\talert('could not open `' + subapps_url + '`, please reload the page...'); // eslint-disable-line no-alert\n\t\t\t});\n\n\t\t}, () => {\n\n\t\t\talert('could not open `' + controls_url + '`, please reload the page...'); // eslint-disable-line no-alert\n\t\t});\n\n\t\t/*-----------------------------------------------------------------*/\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\t/* CONTROLS                                                            */\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Asynchronously loads a control\n\t  * @param {String} control the array of control name\n\t  * @param {Object} [settings] dictionary of settings (context)\n\t  * @returns {$.Deferred} A JQuery deferred object\n\t  */\n\n\tloadControl: function(control, settings)\n\t{\n\t\tconst result = $.Deferred();\n\n\t\tconst [context] = this.setup(\n\t\t\t['context'],\n\t\t\t[result],\n\t\t\tsettings\n\t\t);\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tif(control.indexOf('ctrl:') === 0)\n\t\t{\n\t\t\tcontrol = control.substring(5);\n\t\t}\n\n\t\tconst descr = this._controls[control.toLowerCase()];\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tif(descr)\n\t\t{\n\t\t\tthis.loadScripts(this.originURL + '/' + descr.file).then((loaded) => {\n\n\t\t\t\ttry\n\t\t\t\t{\n\t\t\t\t\tconst clazz = window[\n\t\t\t\t\t\tdescr.clazz\n\t\t\t\t\t];\n\n\t\t\t\t\tconst promise = loaded[0] ? clazz.prototype.onReady.apply(clazz.prototype)\n\t\t\t\t\t                          : /*----------------*/ null /*----------------*/\n\t\t\t\t\t;\n\n\t\t\t\t\t_ami_internal_then(promise, () => {\n\n\t\t\t\t\t\tresult.resolveWith(context, [/*--------------------*/ clazz /*--------------------*/]);\n\n\t\t\t\t\t}, (message) => {\n\n\t\t\t\t\t\tresult.rejectWith(context, ['could not load control `' + control + '`: ' + message]);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tcatch(message)\n\t\t\t\t{\n\t\t\t\t\tresult.rejectWith(context, ['could not load control `' + control + '`: ' + message]);\n\t\t\t\t}\n\n\t\t\t}, (message) => {\n\n\t\t\t\tresult.rejectWith(context, ['could not load control `' + control + '`: ' + message]);\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tresult.rejectWith(context, ['could not find control `' + control + '`']);\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn result.promise();\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Asynchronously create a control\n\t  * @param {Object} [parent] ???\n\t  * @param {Object} [owner] ???\n\t  * @param {String} control ???\n\t  * @param {Array} params ???\n\t  * @param {Object} [settings] dictionary of settings (context)\n\t  * @returns {$.Deferred} A JQuery deferred object\n\t  */\n\n\tcreateControl: function(parent, owner, control, params, settings)\n\t{\n\t\tconst result = $.Deferred();\n\n\t\tconst [context] = this.setup(\n\t\t\t['context'],\n\t\t\t[result],\n\t\t\tsettings\n\t\t);\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tthis.loadControl(control, settings).done((constructor) => {\n\n\t\t\tlet instance = new constructor(parent, owner);\n\n\t\t\t_ami_internal_then(constructor.prototype.render.apply(instance, params), function() {\n\n\t\t\t\tresult.resolveWith(context, [instance].concat([...arguments]));\n\n\t\t\t}, (message) => {\n\n\t\t\t\tresult.rejectWith(context, [message]);\n\t\t\t});\n\n\t\t}).fail((message) => {\n\n\t\t\tresult.rejectWith(context, [message]);\n\t\t});\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn result.promise();\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Asynchronously create a control in a container\n\t  * @param {Object} [parent] ???\n\t  * @param {Object} [owner] ???\n\t  * @param {String} control ???\n\t  * @param {Array} paramsWithoutSettings ???\n\t  * @param {Object} controlSettings ???\n\t  * @param {Object} parentSettings ???\n\t  * @param {Object} [settings] dictionary of settings (context)\n\t  * @returns {$.Deferred} A JQuery deferred object\n\t  */\n\n\tcreateControlInBody: function(parent, owner, control, controlParamsWithoutSettings, controlSettings, parentSettings, settings)\n\t{\n\t\tconst result = $.Deferred();\n\n\t\tconst [context] = this.setup(\n\t\t\t['context'],\n\t\t\t[result],\n\t\t\tsettings\n\t\t);\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\ttry\n\t\t{\n\t\t\tlet PARAMS = [];\n\t\t\tlet SETTINGS = {};\n\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tfor(let key in parentSettings) {\n\t\t\t\tSETTINGS[key] = parentSettings[key];\n\t\t\t}\n\n\t\t\tfor(let key in controlSettings) {\n\t\t\t\tSETTINGS[key] = controlSettings[key];\n\t\t\t}\n\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\t//////.push(selector);\n\n\t\t\tArray.prototype.push.apply(PARAMS, controlParamsWithoutSettings);\n\n\t\t\tPARAMS.push(SETTINGS);\n\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tthis.createControl(parent, owner, control, PARAMS).done(function() {\n\n\t\t\t\tresult.resolveWith(context, [...arguments]);\n\n\t\t\t}).fail((message) => {\n\n\t\t\t\tresult.rejectWith(context, [message]);\n\t\t\t});\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t}\n\t\tcatch(message)\n\t\t{\n\t\t\tresult.rejectWith(context, [message]);\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn result.promise();\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Asynchronously create a control in a container\n\t  * @param {Object} [parent] ???\n\t  * @param {Object} [owner] ???\n\t  * @param {String} control ???\n\t  * @param {Array} paramsWithoutSettings ???\n\t  * @param {Object} controlSettings ???\n\t  * @param {Object} parentSettings ???\n\t  * @param {String} icon ???\n\t  * @param {String} title ???\n\t  * @param {Object} [settings] dictionary of settings (context)\n\t  * @returns {$.Deferred} A JQuery deferred object\n\t  */\n\n\tcreateControlInContainer: function(parent, owner, control, controlParamsWithoutSettings, controlSettings, parentSettings, icon, title, settings)\n\t{\n\t\tconst result = $.Deferred();\n\n\t\tconst [context] = this.setup(\n\t\t\t['context'],\n\t\t\t[result],\n\t\t\tsettings\n\t\t);\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\ttry\n\t\t{\n\t\t\tparent.appendItem('<i class=\"fa fa-' + this.textToHtml(icon) + '\"></i> ' + this.textToHtml(title)).done((selector) => {\n\n\t\t\t\tlet PARAMS = [];\n\t\t\t\tlet SETTINGS = {};\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tfor(let key in parentSettings) {\n\t\t\t\t\tSETTINGS[key] = parentSettings[key];\n\t\t\t\t}\n\n\t\t\t\tfor(let key in controlSettings) {\n\t\t\t\t\tSETTINGS[key] = controlSettings[key];\n\t\t\t\t}\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tPARAMS.push(selector);\n\n\t\t\t\tArray.prototype.push.apply(PARAMS, controlParamsWithoutSettings);\n\n\t\t\t\tPARAMS.push(SETTINGS);\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tthis.createControl(parent, owner, control, PARAMS).done(function() {\n\n\t\t\t\t\tresult.resolveWith(context, [...arguments]);\n\n\t\t\t\t}).fail((message) => {\n\n\t\t\t\t\tresult.rejectWith(context, [message]);\n\t\t\t\t});\n\n\t\t\t\t/*---------------------------------------------------------*/\n\t\t\t});\n\t\t}\n\t\tcatch(message)\n\t\t{\n\t\t\tresult.rejectWith(context, [message]);\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn result.promise();\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Asynchronously create a control in a container from a WEB link\n\t  * @param {Object} [parent] ???\n\t  * @param {Object} [owner] ???\n\t  * @param {String} el ???\n\t  * @param {Object} parentSettings ???\n\t  * @param {Object} [settings] dictionary of settings (context)\n\t  * @returns {$.Deferred} A JQuery deferred object\n\t  */\n\n\tcreateControlFromWebLink: function(parent, owner, el, parentSettings, settings)\n\t{\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tlet dataCtrl = el.hasAttribute('data-ctrl') ? el.getAttribute('data-ctrl')\n\t\t                                            : ''\n\t\t;\n\n\t\tlet dataCtrlLocation = el.hasAttribute('data-ctrl-location') ? el.getAttribute('data-ctrl-location')\n\t\t                                                             : ''\n\t\t;\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tlet dataParams = el.hasAttribute('data-params') ? JSON.parse(el.getAttribute('data-params'))\n\t\t                                                : []\n\t\t;\n\n\t\tlet dataSettings = el.hasAttribute('data-settings') ? JSON.parse(el.getAttribute('data-settings'))\n\t\t                                                    : {}\n\t\t;\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tlet dataIcon = el.hasAttribute('data-icon') ? el.getAttribute('data-icon')\n\t\t                                            : 'question'\n\t\t;\n\n\t\tlet dataTitle = el.hasAttribute('data-title') ? el.getAttribute('data-title')\n\t\t                                              : 'Unknown'\n\t\t;\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tthis.lock();\n\n\t\t/**/ if(dataCtrlLocation === 'body')\n\t\t{\n\t\t\treturn this.createControlInBody(parent, owner, dataCtrl, dataParams, dataSettings, parentSettings, settings).done(() => {\n\n\t\t\t\tthis.unlock();\n\n\t\t\t}).fail((message) => {\n\n\t\t\t\tthis.error(message);\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn this.createControlInContainer(parent, owner, dataCtrl, dataParams, dataSettings, parentSettings, dataIcon, dataTitle, settings).done(() => {\n\n\t\t\t\tthis.unlock();\n\n\t\t\t}).fail((message) => {\n\n\t\t\t\tthis.error(message);\n\t\t\t});\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\t/* SUBAPPS                                                             */\n\t/*---------------------------------------------------------------------*/\n\n\ttriggerLogin: function()\n\t{\n\t\tconst result = $.Deferred();\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tif(this._isReady)\n\t\t{\n\t\t\t_ami_internal_then(this._currentSubAppInstance.onLogin(this.args['userdata']), (message) => {\n\n\t\t\t\t_ami_internal_always(this.onRefresh(true), () => {\n\n\t\t\t\t\tresult.resolve(message);\n\t\t\t\t});\n\n\t\t\t}, (message) => {\n\n\t\t\t\t_ami_internal_always(this.onRefresh(true), () => {\n\n\t\t\t\t\tresult.reject(message);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tresult.resolve();\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn result.promise();\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\ttriggerLogout: function()\n\t{\n\t\tconst result = $.Deferred();\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tif(this._isReady)\n\t\t{\n\t\t\t_ami_internal_then(this._currentSubAppInstance.onLogout(this.args['userdata']), (message) => {\n\n\t\t\t\t_ami_internal_always(this.onRefresh(false), () => {\n\n\t\t\t\t\tresult.resolve(message);\n\t\t\t\t});\n\n\t\t\t}, (message) => {\n\n\t\t\t\t_ami_internal_always(this.onRefresh(false), () => {\n\n\t\t\t\t\tresult.reject(message);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tresult.resolve();\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn result.promise();\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Asynchronously loads a subapp\n\t  * @param {String} subapp the subapp\n\t  * @param {?} [userdata] the user data\n\t  * @param {Object} [settings] dictionary of settings (context)\n\t  * @returns {$.Deferred} A JQuery deferred object\n\t  */\n\n\tloadSubApp: function(subapp, userdata, settings)\n\t{\n\t\tconst result = $.Deferred();\n\n\t\tconst [context] = this.setup(\n\t\t\t['context'],\n\t\t\t[result],\n\t\t\tsettings\n\t\t);\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tthis.lock();\n\n\t\tresult.always(() => {\n\n\t\t\tthis.unlock();\n\t\t});\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tif(subapp.indexOf('subapp:') === 0)\n\t\t{\n\t\t\tsubapp = subapp.substring(7);\n\t\t}\n\n\t\tconst descr = this._subapps[subapp.toLowerCase()];\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tif(descr)\n\t\t{\n\t\t\tthis.loadScripts(this.originURL + '/' + descr.file).then((loaded) => {\n\n\t\t\t\ttry\n\t\t\t\t{\n\t\t\t\t\tthis._currentSubAppInstance.onExit(userdata);\n\n\t\t\t\t\tconst instance = window[descr.instance];\n\n\t\t\t\t\tthis._currentSubAppInstance = instance;\n\n\t\t\t\t\t/**/\n\n\t\t\t\t\tthis.fillBreadcrumb(descr.breadcrumb);\n\n\t\t\t\t\tconst promise = loaded[0] ? instance.onReady(userdata)\n\t\t\t\t\t                          : /*------*/ null /*------*/\n\t\t\t\t\t;\n\n\t\t\t\t\t_ami_internal_then(promise, () => {\n\n\t\t\t\t\t\tconst promise = amiLogin.isAuthenticated() ? this.triggerLogin()\n\t\t\t\t\t\t                                           : this.triggerLogout()\n\t\t\t\t\t\t;\n\n\t\t\t\t\t\tpromise.then(() => {\n\n\t\t\t\t\t\t\tresult.resolveWith(context, [/*------------------*/ instance /*------------------*/]);\n\n\t\t\t\t\t\t}, (message) => {\n\n\t\t\t\t\t\t\tresult.rejectWith(context, ['could not load subapp `' + subapp + '`: ' + message]);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}, (message) => {\n\n\t\t\t\t\t\tresult.rejectWith(context, ['could not load subapp `' + subapp + '`: ' + message]);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tcatch(message)\n\t\t\t\t{\n\t\t\t\t\tresult.rejectWith(context, ['could not load subapp `' + subapp + '`: ' + message]);\n\t\t\t\t}\n\n\t\t\t}, (message) => {\n\n\t\t\t\tresult.rejectWith(context, ['could not load subapp `' + subapp + '`: ' + message]);\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tresult.rejectWith(context, ['could not find subapp `' + subapp + '`']);\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn result.promise();\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Loads a subapp by URL\n\t  * @param {String} defaultSubApp if 'amiWebApp.args[\"subapp\"]' is null, the default subapp\n\t  * @param {?} [defaultUserData] if 'amiWebApp.args[\"userdata\"]' is null, the default user data\n\t  * @returns {$.Deferred} A JQuery deferred object\n\t  */\n\n\tloadSubAppByURL: function(defaultSubApp, defaultUserData)\n\t{\n\t\tconst result = $.Deferred();\n\n\t\tif(this.args['v'])\n\t\t{\n\t\t\tamiCommand.execute('GetHashInfo -hash=\"' + this.textToString(this.args['v']) + '\"').fail((data) => {\n\n\t\t\t\tresult.reject(this.jspath('..error.$', data));\n\n\t\t\t}).done((data) => {\n\n\t\t\t\tlet json;\n\n\t\t\t\ttry\n\t\t\t\t{\n\t\t\t\t\tjson = JSON.parse(this.jspath('..field{.@name===\"json\"}.$', data)[0] || '{}');\n\t\t\t\t}\n\t\t\t\tcatch(message)\n\t\t\t\t{\n\t\t\t\t\tjson = {/* EMPTY JSON   EMPTY JSON   EMPTY JSON   EMPTY JSON   EMPTY JSON */};\n\t\t\t\t}\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tconst subapp = json['subapp'] || defaultSubApp;\n\t\t\t\tconst userdata = json['userdata'] || defaultUserData;\n\n\t\t\t\tthis.loadSubApp(subapp, userdata).then(() => {\n\n\t\t\t\t\tresult.resolve();\n\n\t\t\t\t}, (message) => {\n\n\t\t\t\t\tresult.reject(message);\n\t\t\t\t});\n\n\t\t\t\t/*---------------------------------------------------------*/\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif(!amiRouter.check())\n\t\t\t{\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tconst subapp = this.args['subapp'] || defaultSubApp;\n\t\t\t\tconst userdata = this.args['userdata'] || defaultUserData;\n\n\t\t\t\tthis.loadSubApp(subapp, userdata).then(() => {\n\n\t\t\t\t\tresult.resolve();\n\n\t\t\t\t}, (message) => {\n\n\t\t\t\t\tresult.reject(message);\n\t\t\t\t});\n\n\t\t\t\t/*---------------------------------------------------------*/\n\t\t\t}\n\t\t}\n\n\t\treturn result.promise();\n\t}\n\n\t/*---------------------------------------------------------------------*/\n});\n\n/*-------------------------------------------------------------------------*/\n","/*-------------------------------------------------------------------------*/\n/* ami.IControl                                                            */\n/*-------------------------------------------------------------------------*/\n\n/**\n * The AMI control interface\n * @interface ami.IControl\n */\n\n$AMIInterface('ami.IControl', /** @lends ami.IControl */ {\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Patches an HTML identifier\n\t  * @param {String} id the unpatched HTML identifier\n\t  * @returns {String} The patched HTML identifier\n\t  */\n\n\tpatchId: function() {},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Puts a HTML or TWIG fragment to the given target, see method [formatTWIG]{@link #jsdoc_method_formatTWIG}\n\t  * @param {String} selector the target selector\n\t  * @param {String} twig the TWIG fragment\n\t  * @param {Object} [settings] dictionary of settings (context, dict)\n\t  * @returns {$.Deferred} A JQuery deferred object\n\t  */\n\n\treplaceHTML: function() {},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Prepends a HTML or TWIG fragment to the given target, see method [formatTWIG]{@link #jsdoc_method_formatTWIG}\n\t  * @param {String} selector the target selector\n\t  * @param {String} twig the TWIG fragment\n\t  * @param {Object} [settings] dictionary of settings (context, dict)\n\t  * @returns {$.Deferred} A JQuery deferred object\n\t  */\n\n\tprependHTML: function() {},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Appends a HTML or TWIG fragment to the given target, see method [formatTWIG]{@link #jsdoc_method_formatTWIG}\n\t  * @param {String} selector the target selector\n\t  * @param {String} twig the TWIG fragment\n\t  * @param {Object} [settings] dictionary of settings (context, dict)\n\t  * @returns {$.Deferred} A JQuery deferred object\n\t  */\n\n\tappendHTML: function() {},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Called when the control is ready to run\n\t  */\n\n\tonReady: function() {},\n\n\t/*---------------------------------------------------------------------*/\n});\n\n/*-------------------------------------------------------------------------*/\n/* ami.ISubApp                                                             */\n/*-------------------------------------------------------------------------*/\n\n/**\n * The AMI sub-application interface\n * @interface ami.ISubApp\n */\n\n$AMIInterface('ami.ISubApp', /** @lends ami.ISubApp */ {\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Called when the sub-application is ready to run\n\t  * @param {?} userdata userdata\n\t  */\n\n\tonReady: function() {},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Called when the sub-application is about to exit\n\t  * @param {?} userdata userdata\n\t  */\n\n\tonExit: function() {},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Called when logging in\n\t  * @param {?} userdata userdata\n\t  */\n\n\tonLogin: function() {},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Called when logging out\n\t  * @param {?} userdata userdata\n\t  */\n\n\tonLogout: function() {},\n\n\t/*---------------------------------------------------------------------*/\n});\n\n/*-------------------------------------------------------------------------*/\n/* ami.Control                                                             */\n/*-------------------------------------------------------------------------*/\n\n/**\n * The basic AMI control\n * @class ami.Control\n * @implements {ami.IControl}\n */\n\n$AMIClass('ami.Control', /** @lends ami.Control */ {\n\t/*---------------------------------------------------------------------*/\n\n\t$implements: [ami.IControl],\n\n\t/*---------------------------------------------------------------------*/\n\n\t$: function()\n\t{\n\t\tami.Control.instanceCnt = 1;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t$init: function(parent, owner)\n\t{\n\t\tthis._parent = parent || this;\n\t\tthis._owner = owner || this;\n\n\t\tthis.instanceSuffix = ami.Control.instanceCnt++;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tsetParent: function(parent)\n\t{\n\t\treturn this._parent = (parent || this);\n\t},\n\n\tgetParent: function()\n\t{\n\t\treturn this._parent;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tsetOwner: function(owner)\n\t{\n\t\treturn this._owner = (owner || this);\n\t},\n\n\tgetOwner: function()\n\t{\n\t\treturn this._owner;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tsetSelector: function(selector)\n\t{\n\t\treturn this._selector = (selector || '');\n\t},\n\n\tgetSelector: function()\n\t{\n\t\treturn this._selector;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tpatchId: function(identifier)\n\t{\n\t\treturn identifier + '_instance' + this.instanceSuffix;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\treplaceHTML: function(selector, twig, settings)\n\t{\n\t\tif(!settings)\n\t\t{\n\t\t\tsettings = {};\n\t\t}\n\n\t\tsettings.suffix = this.instanceSuffix;\n\n\t\treturn amiWebApp.replaceHTML(selector, twig, settings);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tprependHTML: function(selector, twig, settings)\n\t{\n\t\tif(!settings)\n\t\t{\n\t\t\tsettings = {};\n\t\t}\n\n\t\tsettings.suffix = this.instanceSuffix;\n\n\t\treturn amiWebApp.prependHTML(selector, twig, settings);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tappendHTML: function(selector, twig, settings)\n\t{\n\t\tif(!settings)\n\t\t{\n\t\t\tsettings = {};\n\t\t}\n\n\t\tsettings.suffix = this.instanceSuffix;\n\n\t\treturn amiWebApp.appendHTML(selector, twig, settings);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tcreateControl: function(parent, control, params, settings)\n\t{\n\t\treturn amiWebApp.createControl(parent, this, control, params, settings);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tcreateControlInBody: function(parent, control, controlParamsWithoutSettings, controlSettings, parentSettings, settings)\n\t{\n\t\treturn amiWebApp.createControlInBody(parent, this, control, controlParamsWithoutSettings, controlSettings, parentSettings, settings);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tcreateControlInContainer: function(parent, control, controlParamsWithoutSettings, controlSettings, parentSettings, icon, title, settings)\n\t{\n\t\treturn amiWebApp.createControlInContainer(parent, this, control, controlParamsWithoutSettings, controlSettings, parentSettings, icon, title, settings);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tcreateControlFromWebLink: function(parent, el, parentSettings, settings)\n\t{\n\t\treturn amiWebApp.createControlFromWebLink(parent, this, el, parentSettings, settings);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n});\n\n/*-------------------------------------------------------------------------*/\n/* ami.SubApp                                                              */\n/*-------------------------------------------------------------------------*/\n\n/**\n * The basic AMI sub-application\n * @class ami.SubApp\n * @implements {ami.ISubApp}\n */\n\n$AMIClass('ami.SubApp', /** @lends ami.SubApp */ {\n\t/*---------------------------------------------------------------------*/\n\n\t$implements: [ami.ISubApp],\n\n\t/*---------------------------------------------------------------------*/\n\n\tonExit: function() {},\n\n\t/*---------------------------------------------------------------------*/\n\n\tonLogin: function() {},\n\n\t/*---------------------------------------------------------------------*/\n\n\tonLogout: function() {},\n\n\t/*---------------------------------------------------------------------*/\n});\n\n/*-------------------------------------------------------------------------*/\n","/*-------------------------------------------------------------------------*/\n/* amiCommand                                                              */\n/*-------------------------------------------------------------------------*/\n\n/**\n * The AMI command subsystem\n * @namespace amiCommand\n */\n\n$AMINamespace('amiCommand', /** @lends amiCommand */ {\n\t/*---------------------------------------------------------------------*/\n\t/* PUBLIC MEMBERS                                                      */\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Default endpoint\n\t  * @type {String}\n\t  */\n\n\tendpoint: 'http://xxyy.zz',\n\n\t/**\n\t  * Default converter\n\t  * @type {String}\n\t  */\n\n\tconverter: 'AMIXmlToJson.xsl',\n\n\t/*---------------------------------------------------------------------*/\n\t/* PUBLIC METHODS                                                      */\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Executes an AMI command\n\t  * @param {String} command the command\n\t  * @param {Object} [settings] dictionary of settings (context, endpoint, converter, timeout, extraParam, extraValue)\n\t  * @returns {$.Deferred} A JQuery deferred object\n\t  */\n\n\texecute: function(command, settings)\n\t{\n\t\tconst result = $.Deferred();\n\n\t\tconst [endpoint, converter, context, timeout, extraParam, extraValue] = amiWebApp.setup(\n\t\t\t['endpoint', 'converter', 'context', 'timeout', 'extraParam', 'extraValue'],\n\t\t\t[this.endpoint, this.converter, result, 2 * 60 * 1000, null, null],\n\t\t\tsettings\n\t\t);\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tconst URL = endpoint.trim();\n\t\tconst COMMAND = command.trim();\n\t\tconst CONVERTER = converter.trim();\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tconst data = {\n\t\t\tCommand: COMMAND,\n\t\t\tConverter: CONVERTER,\n\t\t};\n\n\t\tif(extraParam)\n\t\t{\n\t\t\tdata[extraParam] = extraValue ? extraValue\n\t\t\t                              : (((null)))\n\t\t\t;\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tconst urlWithParameters = URL + '?' + $.param(data);\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tif(CONVERTER === 'AMIXmlToJson.xsl')\n\t\t{\n\t\t\t/*-------------------------------------------------------------*/\n\t\t\t/* JSON FORMAT                                                 */\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\t$.ajax({\n\t\t\t\turl: URL,\n\t\t\t\tdata: data,\n\t\t\t\ttype: 'POST',\n\t\t\t\ttimeout: timeout,\n\t\t\t\tdataType: 'json',\n\t\t\t\txhrFields: {\n\t\t\t\t\twithCredentials: true\n\t\t\t\t},\n\t\t\t\tsuccess: (data) => {\n\n\t\t\t\t\tconst info = JSPath.apply('.AMIMessage.info.$', data);\n\t\t\t\t\tconst error = JSPath.apply('.AMIMessage.error.$', data);\n\n\t\t\t\t\tif(error.length === 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tresult.resolveWith(context, [data, info.join('. '), urlWithParameters]);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tresult.rejectWith(context, [data, error.join('. '), urlWithParameters]);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\terror: (jqXHR, textStatus) => {\n\n\t\t\t\t\tif(textStatus === 'error')\n\t\t\t\t\t{\n\t\t\t\t\t\ttextStatus = 'service temporarily unreachable';\n\t\t\t\t\t}\n\n\t\t\t\t\tif(textStatus === 'parsererror')\n\t\t\t\t\t{\n\t\t\t\t\t\ttextStatus = 'resource temporarily unreachable';\n\t\t\t\t\t}\n\n\t\t\t\t\tconst data = {'AMIMessage': [{'error': [{'$': textStatus}]}]};\n\n\t\t\t\t\tresult.rejectWith(context, [data, textStatus, urlWithParameters]);\n\t\t\t\t},\n\t\t\t});\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t} else {\n\t\t\t/*-------------------------------------------------------------*/\n\t\t\t/* OTHER FORMATS                                               */\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\t$.ajax({\n\t\t\t\turl: URL,\n\t\t\t\tdata: data,\n\t\t\t\ttype: 'POST',\n\t\t\t\ttimeout: timeout,\n\t\t\t\tdataType: 'text',\n\t\t\t\txhrFields: {\n\t\t\t\t\twithCredentials: true\n\t\t\t\t},\n\t\t\t\tsuccess: (data) => {\n\n\t\t\t\t\tresult.resolveWith(context, [data, data, urlWithParameters]);\n\t\t\t\t},\n\t\t\t\terror: (jqXHR, textStatus) => {\n\n\t\t\t\t\tif(textStatus === 'error')\n\t\t\t\t\t{\n\t\t\t\t\t\ttextStatus = 'service temporarily unreachable';\n\t\t\t\t\t}\n\n\t\t\t\t\tresult.rejectWith(context, [textStatus, textStatus, urlWithParameters]);\n\t\t\t\t},\n\t\t\t});\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn result.promise();\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Logs in by login/password\n\t  * @param {String} user the user\n\t  * @param {String} pass the password\n\t  * @param {Object} [settings] dictionary of settings (context)\n\t  * @returns {$.Deferred} A JQuery deferred object\n\t  */\n\n\tpassLogin: function(user, pass, settings)\n\t{\n\t\tconst result = $.Deferred();\n\n\t\tconst [context] = amiWebApp.setup(\n\t\t\t['context'],\n\t\t\t[result],\n\t\t\tsettings\n\t\t);\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tthis.execute('GetSessionInfo -AMIUser=\"' + amiWebApp.textToString(user) + '\" -AMIPass=\"' + amiWebApp.textToString(pass) + '\"', {extraParam: 'NoCert'}).then((data, message) => {\n\n\t\t\tconst userInfo = {};\n\t\t\tconst roleInfo = {};\n\t\t\tconst udpInfo = {};\n\t\t\tconst ssoInfo = {}\n\n\t\t\tJSPath.apply('..rowset{.@type===\"user\"}.row.field', data).forEach((item) => {\n\n\t\t\t\tuserInfo[item['@name']] = item['$'];\n\t\t\t});\n\n\t\t\tJSPath.apply('..rowset{.@type===\"udp\"}.row.field', data).forEach((item) => {\n\n\t\t\t\tudpInfo[item['@name']] = item['$'];\n\t\t\t});\n\n\t\t\tJSPath.apply('..rowset{.@type===\"sso\"}.row.field', data).forEach((item) => {\n\n\t\t\t\tssoInfo[item['@name']] = item['$'];\n\t\t\t});\n\n\t\t\tJSPath.apply('..rowset{.@type===\"role\"}.row', data).forEach((row) => {\n\n\t\t\t\tlet name = '';\n\t\t\t\tconst role = {};\n\n\t\t\t\trow.field.forEach((field) => {\n\n\t\t\t\t\trole[field['@name']] = field['$'];\n\n\t\t\t\t\tif(field['@name'] === 'name')\n\t\t\t\t\t{\n\t\t\t\t\t\tname = field['$'];\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\troleInfo[name] = role;\n\t\t\t});\n\n\t\t\tresult.resolveWith(context, [data, message, userInfo, roleInfo, udpInfo, ssoInfo]);\n\n\t\t}, (data, message) => {\n\n\t\t\tresult.rejectWith(context, [data, message, {AMIUser: 'guest', guestUser: 'guest'}, {}, {}, {}]);\n\t\t});\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn result.promise();\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Logs in by certificate\n\t  * @param {Object} [settings] dictionary of settings (context)\n\t  * @returns {$.Deferred} A JQuery deferred object\n\t  */\n\n\tcertLogin: function(settings)\n\t{\n\t\tconst result = $.Deferred();\n\n\t\tconst [context] = amiWebApp.setup(\n\t\t\t['context'],\n\t\t\t[result],\n\t\t\tsettings\n\t\t);\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tthis.execute('GetSessionInfo').then((data, message) => {\n\n\t\t\tconst userInfo = {};\n\t\t\tconst roleInfo = {};\n\t\t\tconst udpInfo = {};\n\t\t\tconst ssoInfo = {};\n\n\t\t\tJSPath.apply('..rowset{.@type===\"user\"}.row.field', data).forEach((item) => {\n\n\t\t\t\tuserInfo[item['@name']] = item['$'];\n\t\t\t});\n\n\t\t\tJSPath.apply('..rowset{.@type===\"udp\"}.row.field', data).forEach((item) => {\n\n\t\t\t\tudpInfo[item['@name']] = item['$'];\n\t\t\t});\n\n\t\t\tJSPath.apply('..rowset{.@type===\"sso\"}.row.field', data).forEach((item) => {\n\n\t\t\t\tssoInfo[item['@name']] = item['$'];\n\t\t\t});\n\n\t\t\tJSPath.apply('..rowset{.@type===\"role\"}.row', data).forEach((row) => {\n\n\t\t\t\tlet name = '';\n\t\t\t\tconst role = {};\n\n\t\t\t\trow.field.forEach((field) => {\n\n\t\t\t\t\trole[field['@name']] = field['$'];\n\n\t\t\t\t\tif(field['@name'] === 'name')\n\t\t\t\t\t{\n\t\t\t\t\t\tname = field['$'];\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\troleInfo[name] = role;\n\t\t\t});\n\n\t\t\tresult.resolveWith(context, [data, message, userInfo, roleInfo, udpInfo, ssoInfo]);\n\n\t\t}, (data, message) => {\n\n\t\t\tresult.rejectWith(context, [data, message, {AMIUser: 'guest', guestUser: 'guest'}, {}, {}, {}]);\n\t\t});\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn result.promise();\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Logs out\n\t  * @param {Object} [settings] dictionary of settings (context)\n\t  * @returns {$.Deferred} A JQuery deferred object\n\t  */\n\n\tlogout: function(settings)\n\t{\n\t\tconst result = $.Deferred();\n\n\t\tconst [context] = amiWebApp.setup(\n\t\t\t['context'],\n\t\t\t[result],\n\t\t\tsettings\n\t\t);\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tthis.execute('GetSessionInfo -AMIUser=\"\" -AMIPass=\"\"', {extraParam: 'NoCert'}).then((data, message) => {\n\n\t\t\tconst userInfo = {};\n\t\t\tconst roleInfo = {};\n\t\t\tconst udpInfo = {};\n\t\t\tconst ssoInfo = {}\n\n\t\t\tJSPath.apply('..rowset{.@type===\"user\"}.row.field', data).forEach((item) => {\n\n\t\t\t\tuserInfo[item['@name']] = item['$'];\n\t\t\t});\n\n\t\t\tJSPath.apply('..rowset{.@type===\"udp\"}.row.field', data).forEach((item) => {\n\n\t\t\t\tudpInfo[item['@name']] = item['$'];\n\t\t\t});\n\n\t\t\tJSPath.apply('..rowset{.@type===\"sso\"}.row.field', data).forEach((item) => {\n\n\t\t\t\tssoInfo[item['@name']] = item['$'];\n\t\t\t});\n\n\t\t\tJSPath.apply('..rowset{.@type===\"role\"}.row', data).forEach((row) => {\n\n\t\t\t\tlet name = '';\n\t\t\t\tconst role = {};\n\n\t\t\t\trow.field.forEach((field) => {\n\n\t\t\t\t\trole[field['@name']] = field['$'];\n\n\t\t\t\t\tif(field['@name'] === 'name')\n\t\t\t\t\t{\n\t\t\t\t\t\tname = field['$'];\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\troleInfo[name] = role;\n\t\t\t});\n\n\t\t\tresult.resolveWith(context, [data, message, userInfo, roleInfo, udpInfo, ssoInfo]);\n\n\t\t}, (data, message) => {\n\n\t\t\tresult.rejectWith(context, [data, message, {AMIUser: 'guest', guestUser: 'guest'}, {}, {}, {}]);\n\t\t});\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn result.promise();\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Attaches a certificate\n\t  * @param {String} user the user\n\t  * @param {String} pass the password\n\t  * @param {Object} [settings] dictionary of settings (context)\n\t  * @returns {$.Deferred} A JQuery deferred object\n\t  */\n\n\tattachCert: function(user, pass, settings)\n\t{\n\t\treturn this.execute('GetSessionInfo -attachCert -amiLogin=\"' + amiWebApp.textToString(user) + '\" -amiPassword=\"' + amiWebApp.textToString(pass) + '\"', settings);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Detaches a certificate\n\t  * @param {String} user the user\n\t  * @param {String} pass the password\n\t  * @param {Object} [settings] dictionary of settings (context)\n\t  * @returns {$.Deferred} A JQuery deferred object\n\t  */\n\n\tdetachCert: function(user, pass, settings)\n\t{\n\t\treturn this.execute('GetSessionInfo -detachCert -amiLogin=\"' + amiWebApp.textToString(user) + '\" -amiPassword=\"' + amiWebApp.textToString(pass) + '\"', settings);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Adds a new user\n\t  * @param {String} user the user\n\t  * @param {String} pass the password\n\t  * @param {String} firstName the first name\n\t  * @param {String} lastName the last name\n\t  * @param {String} email the email\n\t  * @param {Boolean} attach attach the current certificate\n\t  * @param {Boolean} agree agree with the terms and conditions\n\t  * @param {Object} [settings] dictionary of settings (context)\n\t  * @returns {$.Deferred} A JQuery deferred object\n\t  */\n\n\taddUser: function(user, pass, firstName, lastName, email, attach, agree, settings)\n\t{\n\t\treturn this.execute('AddUser -amiLogin=\"' + amiWebApp.textToString(user) + '\" -amiPassword=\"' + amiWebApp.textToString(pass) + '\" -firstName=\"' + amiWebApp.textToString(firstName) + '\" -lastName=\"' + amiWebApp.textToString(lastName) + '\" -email=\"' + amiWebApp.textToString(email) + '\"' + (attach ? ' -attach' : '') + (agree ? ' -agree' : ''), settings);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Changes the account information\n\t  * @param {String} firstName the first name\n\t  * @param {String} lastName the last name\n\t  * @param {String} email the email\n\t  * @param {Object} [settings] dictionary of settings (context)\n\t  * @returns {$.Deferred} A JQuery deferred object\n\t  */\n\n\tchangeInfo: function(firstName, lastName, email, settings)\n\t{\n\t\treturn this.execute('SetUserInfo -firstName=\"' + amiWebApp.textToString(firstName) + '\" -lastName=\"' + amiWebApp.textToString(lastName) + '\" -email=\"' + amiWebApp.textToString(email) + '\"', settings);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Changes the account password\n\t  * @param {String} user the user\n\t  * @param {String} oldPass the old password\n\t  * @param {String} newPass the new password\n\t  * @param {Object} [settings] dictionary of settings (context)\n\t  * @returns {$.Deferred} A JQuery deferred object\n\t  */\n\n\tchangePass: function(user, oldPass, newPass, settings)\n\t{\n\t\treturn this.execute('ChangePassword -amiLogin=\"' + amiWebApp.textToString(user) + '\" -amiPasswordOld=\"' + amiWebApp.textToString(oldPass) + '\" -amiPasswordNew=\"' + amiWebApp.textToString(newPass) + '\"', settings);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Resets the account password\n\t  * @param {String} user the user\n\t  * @param {Object} [settings] dictionary of settings (context)\n\t  * @returns {$.Deferred} A JQuery deferred object\n\t  */\n\n\tresetPass: function(user, settings)\n\t{\n\t\treturn this.execute('ResetPassword -amiLogin=\"' + amiWebApp.textToString(user) + '\"', settings);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n});\n\n/*-------------------------------------------------------------------------*/\n","/*-------------------------------------------------------------------------*/\n/* amiLogin                                                                */\n/*-------------------------------------------------------------------------*/\n\n/**\n * The AMI authentication subsystem\n * @namespace amiLogin\n */\n\n$AMINamespace('amiLogin', /** @lends amiLogin */ {\n\t/*---------------------------------------------------------------------*/\n\t/* PUBLIC MEMBERS                                                      */\n\t/*---------------------------------------------------------------------*/\n\n\tuser: 'guest',\n\tguest: 'guest',\n\n\tclientDN: '',\n\tissuerDN: '',\n\n\tnotBefore: '',\n\tnotAfter: '',\n\n\t/*---------------------------------------------------------------------*/\n\n\troleInfo: {},\n\tudpInfo: {},\n\tssoInfo: {},\n\n\t/*---------------------------------------------------------------------*/\n\t/* PRIVATE METHODS                                                     */\n\t/*---------------------------------------------------------------------*/\n\n\t_start: function()\n\t{\n\t\tconst result = $.Deferred();\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tamiWebApp.loadTWIGs([\n\t\t\tamiWebApp.originURL + '/twig/AMI/Fragment/login_button.twig',\n\t\t\tamiWebApp.originURL + '/twig/AMI/Fragment/logout_button.twig',\n\t\t\tamiWebApp.originURL + '/twig/AMI/Modal/login.twig',\n\t\t]).done((data) => {\n\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tthis.fragmentLoginButton = data[0];\n\t\t\tthis.fragmentLogoutButton = data[1];\n\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tamiWebApp.appendHTML('body', data[2]).done(() => {\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\t$('#B7894CC1_1DAA_4A7E_B7D1_DBDF6F06AC73').submit((e) => {\n\n\t\t\t\t\tthis.form_login(e);\n\t\t\t\t});\n\n\t\t\t\t$('#EE055CD4_E58F_4834_8020_986AE3F8D67D').submit((e) => {\n\n\t\t\t\t\tthis.form_addUser(e);\n\t\t\t\t});\n\n\t\t\t\t$('#DA2047A2_9E5D_420D_B6E7_FA261D2EF10F').submit((e) => {\n\n\t\t\t\t\tthis.form_remindPass(e);\n\t\t\t\t});\n\n\t\t\t\t$('#D9EAF998_ED8E_44D2_A0BE_8C5CF5E438BD').submit((e) => {\n\n\t\t\t\t\tthis.form_changeInfo(e);\n\t\t\t\t});\n\n\t\t\t\t$('#E92A1097_983B_4857_875F_07E4659B41B0').submit((e) => {\n\n\t\t\t\t\tthis.form_changePass(e);\n\t\t\t\t});\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\t$('#E6E30EEC_15EE_4FCF_9809_2B8EC2FEF388,#CCD8E6F1_6DF8_4BDD_A0EC_C3C380830187').change(() => {\n\n\t\t\t\t\tconst pass1 = $('#E6E30EEC_15EE_4FCF_9809_2B8EC2FEF388').val();\n\t\t\t\t\tconst pass2 = $('#CCD8E6F1_6DF8_4BDD_A0EC_C3C380830187').val();\n\n\t\t\t\t\t$('#CCD8E6F1_6DF8_4BDD_A0EC_C3C380830187').get(0).setCustomValidity(\n\t\t\t\t\t\tpass1.length > 0 && pass2.length > 0 && pass1 !== pass2 ? 'Passwords don\\'t match.' : ''\n\t\t\t\t\t);\n\t\t\t\t});\n\n\t\t\t\t$('#D487FE72_8D95_4048_BEA3_252274862AF4,#EE1DA58C_3761_4734_A9C2_E808CDD7EE77').change(() => {\n\n\t\t\t\t\tconst pass1 = $('#D487FE72_8D95_4048_BEA3_252274862AF4').val();\n\t\t\t\t\tconst pass2 = $('#EE1DA58C_3761_4734_A9C2_E808CDD7EE77').val();\n\n\t\t\t\t\t$('#EE1DA58C_3761_4734_A9C2_E808CDD7EE77').get(0).setCustomValidity(\n\t\t\t\t\t\tpass1.length > 0 && pass2.length > 0 && pass1 !== pass2 ? 'Passwords don\\'t match.' : ''\n\t\t\t\t\t);\n\t\t\t\t});\n\n\t\t\t\t/*---------------------------------------------------------*/\n\t\t\t});\n\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\twindow.addEventListener('message', (e) => {\n\n\t\t\t\tif(this.ssoInfo.url.startsWith(e.origin))\n\t\t\t\t{\n\t\t\t\t\tconst user = e.data.user;\n\t\t\t\t\tconst pass = e.data.pass;\n\n\t\t\t\t\tif(user && pass)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.form_login2(user, pass);\n\t\t\t\t\t}\n\n\t\t\t\t\te.source.close();\n\t\t\t\t}\n\n\t\t\t}, false);\n\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tconst userdata = amiWebApp.args['userdata'] || '';\n\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tamiCommand.certLogin().fail((data, message, userInfo, roleInfo, udpInfo, ssoInfo) => {\n\n\t\t\t\tthis._update(userInfo, roleInfo, udpInfo, ssoInfo).always((/*---*/) => {\n\n\t\t\t\t\tresult.reject(message);\n\t\t\t\t});\n\n\t\t\t}).done((data, message, userInfo, roleInfo, udpInfo, ssoInfo) => {\n\n\t\t\t\t_ami_internal_then(amiWebApp.onReady(userdata), () => {\n\n\t\t\t\t\tamiWebApp._isReady = true;\n\n\t\t\t\t\tthis._update(userInfo, roleInfo, udpInfo, ssoInfo).then((message) => {\n\n\t\t\t\t\t\tresult.resolve(message);\n\n\t\t\t\t\t}, (message) => {\n\n\t\t\t\t\t\tresult.reject(message);\n\t\t\t\t\t});\n\n\t\t\t\t}, (message) => {\n\n\t\t\t\t\tamiWebApp._isReady = true;\n\n\t\t\t\t\tresult.reject(message);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t}).fail((message) => {\n\n\t\t\tresult.reject(message);\n\t\t});\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn result.promise();\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t_success: function(message)\n\t{\n\t\tamiWebApp.success(message, true);\n\t\tthis._clean();\n\t},\n\n\t_error: function(message)\n\t{\n\t\tamiWebApp.error(message, true);\n\t\tthis._clean();\n\t},\n\n\t_unlock: function()\n\t{\n\t\tamiWebApp.unlock();\n\t\tthis._clean();\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t_clean: function()\n\t{\n\t\t$('#B7894CC1_1DAA_4A7E_B7D1_DBDF6F06AC73').trigger('reset');\n\t\t$('#EE055CD4_E58F_4834_8020_986AE3F8D67D').trigger('reset');\n\t\t$('#DA2047A2_9E5D_420D_B6E7_FA261D2EF10F').trigger('reset');\n\t\t$('#E92A1097_983B_4857_875F_07E4659B41B0').trigger('reset');\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t_update: function(userInfo, roleInfo, udpInfo, ssoInfo)\n\t{\n\t\tconst result = $.Deferred();\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tconst user = this.user = userInfo.AMIUser || '';\n\t\tconst guest = this.guest = userInfo.guestUser || '';\n\n\t\tconst notBefore = this.notBefore = userInfo.notBefore || '';\n\t\tconst notAfter = this.notAfter = userInfo.notAfter || '';\n\n\t\tconst clientDNInSession = this.clientDN = userInfo.clientDNInSession || '';\n\t\tconst issuerDNInSession = this.issuerDN = userInfo.issuerDNInSession || '';\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\t$('#A09AE316_7068_4BC1_96A9_6B87D28863FE').prop('disabled', !clientDNInSession || !issuerDNInSession);\n\n\t\t$('#C3E94F6D_48E0_86C0_3534_691728E492F4').attr('src', udpInfo.termsAndConditions || amiWebApp.originURL + '/docs/terms_and_conditions.html');\n\t\t$('#E50FF8BD_B0F5_CD72_F9DC_FC2BFA5DBA27').attr('src', udpInfo.termsAndConditions || amiWebApp.originURL + '/docs/terms_and_conditions.html');\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tthis.roleInfo = roleInfo;\n\t\tthis.udpInfo = udpInfo;\n\t\tthis.ssoInfo = ssoInfo;\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tconst dict = {\n\t\t\tsso_label: ssoInfo.label || 'SSO',\n\t\t\tsso_url: ssoInfo.url || '@NULL',\n\t\t};\n\n\t\tif(user !== guest)\n\t\t{\n\t\t\t/*-------------------------------------------------------------*/\n\t\t\t/* GET INFO                                                    */\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tconst valid = userInfo.valid || 'false';\n\t\t\tconst certEnabled = userInfo.certEnabled || 'false';\n\t\t\tconst vomsEnabled = userInfo.vomsEnabled || 'false';\n\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tconst firstName = userInfo.firstName || '';\n\t\t\tconst lastName = userInfo.lastName || '';\n\t\t\tconst email = userInfo.email || '';\n\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tconst clientDNInAMI = userInfo.clientDNInAMI || '';\n\t\t\tconst issuerDNInAMI = userInfo.issuerDNInAMI || '';\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t\t/* SET INFO                                                    */\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\t$('#E513F27D_5521_4B08_BF61_52AFB81356F7').val(firstName);\n\t\t\t$('#AFF0B5C0_BEEC_4842_916D_DCBA7F589195').val(lastName);\n\t\t\t$('#C587486B_62C0_4B6E_9288_D8F9F89D157B').val(email);\n\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\t$('#ABEB0291_40B0_414A_A42B_E7EABB9B487E').val(firstName);\n\t\t\t$('#A5AFDB62_1034_4F66_A3E6_9341B31FA290').val(lastName);\n\t\t\t$('#D730A774_05EA_47AB_A0C8_D92753802E3E').val(email);\n\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\t$('#D1BEE3BF_9161_41DC_BC53_C44FFE4D2522').val(clientDNInAMI);\n\t\t\t$('#C76805D7_1E86_4231_9071_1D04783423BB').val(clientDNInSession);\n\t\t\t$('#F42FAF6B_2C8D_4142_8BD9_E5BCDCAA05AA').val(issuerDNInAMI);\n\t\t\t$('#FE2F6232_C256_4B80_939C_EBEC90320308').val(issuerDNInSession);\n\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\t$('#C587486B_62C0_4B6E_9288_D8F9F89D157B').prop('disabled', vomsEnabled !== 'false');\n\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tlet table = [];\n\n\t\t\tfor(let role in roleInfo)\n\t\t\t{\n\t\t\t\ttable.push('<tr>');\n\t\t\t\ttable.push('<td>' + amiWebApp.textToHtml(roleInfo[role].name || 'N/A') + '</td>');\n\t\t\t\ttable.push('<td>' + amiWebApp.textToHtml(roleInfo[role].description || 'N/A') + '</td>');\n\t\t\t\ttable.push('</tr>');\n\t\t\t}\n\n\t\t\t$('#BB07676B_EACA_9B42_ED51_477DB2976041').html(table.join(''));\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t\t/* CHECK USER STATUS                                           */\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tlet icon = '';\n\t\t\tlet message = '';\n\n\t\t\tif(valid !== 'false')\n\t\t\t{\n\t\t\t\t/*---------------------------------------------------------*/\n\t\t\t\t/* VALID USER                                              */\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tif(certEnabled !== 'false' && clientDNInAMI && issuerDNInAMI)\n\t\t\t\t{\n\t\t\t\t\tif(!clientDNInSession\n\t\t\t\t\t   ||\n\t\t\t\t\t   !issuerDNInSession\n\t\t\t\t\t ) {\n\t\t\t\t\t\tmessage = 'It is recommended to connect to AMI with a X.509 certificate.';\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tif(clientDNInAMI !== clientDNInSession\n\t\t\t\t\t\t   ||\n\t\t\t\t\t\t   issuerDNInAMI !== issuerDNInSession\n\t\t\t\t\t\t ) {\n\t\t\t\t\t\t\tmessage = 'The certificate in your session is not the one registered in AMI.';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tif(message)\n\t\t\t\t{\n\t\t\t\t\t$('#D944B01D_2E8D_4EE9_9DCC_2691438BBA16').html('<i class=\"fa fa-info-circle text-warning\"></i> ' + message);\n\n\t\t\t\t\ticon = '<a class=\"nav-link text-warning\" href=\"javascript:amiLogin.accountStatus();\">'\n\t\t\t\t\t       +\n\t\t\t\t\t       '<i class=\"fa fa-info-circle\"></i>'\n\t\t\t\t\t       +\n\t\t\t\t\t       '</a>'\n\t\t\t\t\t;\n\t\t\t\t}\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\t$('#F3FF9F43_DE72_40BB_B1BA_B7B3C9002671').parent().css('background', '#B8D49B url(\"' + amiWebApp.originURL + '/images/certificate-green.png\") no-repeat center center')\n\t\t\t\t                                                   .css('background-size', 'cover')\n\t\t\t\t;\n\n\t\t\t\t$('#F3FF9F43_DE72_40BB_B1BA_B7B3C9002671').css('color', '#006400')\n\t\t\t\t                                          .html('<i class=\"fa fa-leaf\"></i> valid <i class=\"fa fa-leaf\"></i>')\n\t\t\t\t;\n\n\t\t\t\t$('#E91280F6_E7C6_3E53_A457_646995C99317').text(notBefore + ' - ' + notAfter);\n\n\t\t\t\t/*---------------------------------------------------------*/\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t/*---------------------------------------------------------*/\n\t\t\t\t/* INVALID USER                                            */\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tif(vomsEnabled !== 'false')\n\t\t\t\t{\n\t\t\t\t\tif(!clientDNInAMI\n\t\t\t\t\t   ||\n\t\t\t\t\t   !issuerDNInAMI\n\t\t\t\t\t ) {\n\t\t\t\t\t\tmessage = 'Register a valid certificate.';\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tmessage = 'Check your VO roles.';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tmessage = 'Contact the AMI team.';\n\t\t\t\t}\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\tif(message)\n\t\t\t\t{\n\t\t\t\t\t$('#D944B01D_2E8D_4EE9_9DCC_2691438BBA16').html('<i class=\"fa fa-info-circle text-danger\"></i> ' + message);\n\n\t\t\t\t\ticon = '<a class=\"nav-link text-danger\" href=\"javascript:amiLogin.accountStatus();\">'\n\t\t\t\t\t       +\n\t\t\t\t\t       '<i class=\"fa fa-info-circle\"></i>'\n\t\t\t\t\t       +\n\t\t\t\t\t       '</a>'\n\t\t\t\t\t;\n\t\t\t\t}\n\n\t\t\t\t/*---------------------------------------------------------*/\n\n\t\t\t\t$('#F3FF9F43_DE72_40BB_B1BA_B7B3C9002671').parent().css('background', '#E8C8CF url(\"' + amiWebApp.originURL + '/images/certificate-pink.png\") no-repeat center center')\n\t\t\t\t                                                   .css('background-size', 'cover')\n\t\t\t\t;\n\n\t\t\t\t$('#F3FF9F43_DE72_40BB_B1BA_B7B3C9002671').css('color', '#8B0000')\n\t\t\t\t                                          .html('<i class=\"fa fa-leaf\"></i> invalid <i class=\"fa fa-leaf\"></i>')\n\t\t\t\t;\n\n\t\t\t\t$('#E91280F6_E7C6_3E53_A457_646995C99317').text(notBefore + ' - ' + notAfter);\n\n\t\t\t\t/*---------------------------------------------------------*/\n\t\t\t}\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t\t/* UPDATE MENU BAR                                             */\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tdict['user'] = user;\n\t\t\tdict['icon'] = icon;\n\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tamiWebApp.replaceHTML('#ami_login_menu_content', this.fragmentLogoutButton, {dict: dict}).done(() => {\n\n\t\t\t\tamiWebApp.triggerLogin().then(() => {\n\n\t\t\t\t\tresult.resolve();\n\n\t\t\t\t}, (message) => {\n\n\t\t\t\t\tresult.reject(message);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t}\n\t\telse\n\t\t{\n\t\t\t/*-------------------------------------------------------------*/\n\n\t\t\tamiWebApp.replaceHTML('#ami_login_menu_content', this.fragmentLoginButton, {dict: dict}).done(() => {\n\n\t\t\t\tamiWebApp.triggerLogout().then(() => {\n\n\t\t\t\t\tresult.resolve();\n\n\t\t\t\t}, (message) => {\n\n\t\t\t\t\tresult.reject(message);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t/*-------------------------------------------------------------*/\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\treturn result.promise();\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\t/* PUBLIC METHODS                                                      */\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Gets the current user\n\t  * @returns {String} The current user\n\t  */\n\n\tgetUser: function()\n\t{\n\t\treturn this.user;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Gets the guest user\n\t  * @returns {String} The guest user\n\t  */\n\n\tgetGuest: function()\n\t{\n\t\treturn this.guest;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Gets the client DN\n\t  * @returns {String} The client DN\n\t  */\n\n\tgetClientDN: function()\n\t{\n\t\treturn this.clientDN;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Gets the issuer DN\n\t  * @returns {String} The issuer DN\n\t  */\n\n\tgetIssuerDN: function()\n\t{\n\t\treturn this.issuerDN;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Checks whether the user is authenticated\n\t  * @returns {Boolean}\n\t  */\n\n\tisAuthenticated: function()\n\t{\n\t\treturn this.user !== this.guest;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Checks whether the user has the given role\n\t  * @param {String} role the role\n\t  * @returns {Boolean}\n\t  */\n\n\thasRole: function(roleName)\n\t{\n\t\treturn roleName in this.roleInfo;\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Opens the 'SSO' modal window\n\t  */\n\n\tsso: function()\n\t{\n\t\tthis._clean();\n\n\t\twindow.open(this.ssoInfo.url, 'Single Sign-On', 'menubar=no, status=no, scrollbars=no, width=800, height=450');\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Opens the 'SignIn' modal window\n\t  */\n\n\tsignIn: function()\n\t{\n\t\tthis._clean();\n\n\t\t$('#D2B5FADE_97A3_4B8C_8561_7A9AEACDBE5B').modal('show');\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Opens the 'Change Info' modal window\n\t  */\n\n\tchangeInfo: function()\n\t{\n\t\tthis._clean();\n\n\t\t$('#D9EAF998_ED8E_44D2_A0BE_8C5CF5E438BD').modal('show');\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Opens the 'Change Password' modal window\n\t  */\n\n\tchangePass: function()\n\t{\n\t\tthis._clean();\n\n\t\t$('#E92A1097_983B_4857_875F_07E4659B41B0').modal('show');\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Opens the 'Account Status' modal window\n\t  */\n\n\taccountStatus: function()\n\t{\n\t\tthis._clean();\n\n\t\t$('#AB1CB183_96EB_4116_8A9E_4409BE058F34').modal('show');\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\t/**\n\t  * Signs out\n\t  */\n\n\tsignOut: function()\n\t{\n\t\tamiWebApp.lock();\n\n\t\treturn amiCommand.logout().always((data, message, userInfo, roleInfo, udpInfo, ssoInfo) => {\n\n\t\t\tthis._update(userInfo, roleInfo, udpInfo, ssoInfo).then(() => {\n\n\t\t\t\tthis._unlock();\n\n\t\t\t}, (message) => {\n\n\t\t\t\tthis._error(message);\n\t\t\t});\n\t\t});\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tform_login: function(e)\n\t{\n\t\te.preventDefault();\n\n\t\tconst values = $(e.target).serializeObject();\n\n\t\treturn this.form_login2(values['user'], values['pass']);\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tform_login2: function(user, pass)\n\t{\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tconst promise = (user && pass) ? amiCommand.passLogin(user.trim(), pass.trim())\n\t\t                               : amiCommand.certLogin(/*--------------------*/)\n\t\t;\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tamiWebApp.lock();\n\n\t\tpromise.then((data, message, userInfo, roleInfo, udpInfo, ssoInfo) => {\n\n\t\t\tthis._update(userInfo, roleInfo, udpInfo, ssoInfo).then(() => {\n\n\t\t\t\tif(userInfo.AMIUser !== userInfo.guestUser)\n\t\t\t\t{\n\t\t\t\t\t$('#D2B5FADE_97A3_4B8C_8561_7A9AEACDBE5B').modal('hide');\n\n\t\t\t\t\tthis._unlock();\n\t\t\t\t}\n\n\t\t\t}, (message) => {\n\n\t\t\t\tif(userInfo.AMIUser !== userInfo.guestUser)\n\t\t\t\t{\n\t\t\t\t\t$('#D2B5FADE_97A3_4B8C_8561_7A9AEACDBE5B').modal('hide');\n\n\t\t\t\t\tthis._error(message);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(userInfo.AMIUser === userInfo.guestUser)\n\t\t\t{\n\t\t\t\tlet message = 'Authentication failed.';\n\n\t\t\t\tif(userInfo.clientDNInSession || userInfo.issuerDNInSession)\n\t\t\t\t{\n\t\t\t\t\tmessage += ' Client DN in session: ' + amiWebApp.textToHtml(userInfo.clientDNInSession) + '.'\n\t\t\t\t\t           +\n\t\t\t\t\t           ' Issuer DN in session: ' + amiWebApp.textToHtml(userInfo.issuerDNInSession) + '.'\n\t\t\t\t\t;\n\t\t\t\t}\n\n\t\t\t\tthis._error(message);\n\t\t\t}\n\n\t\t}, (data, message, userInfo, roleInfo, udpInfo, ssoInfo) => {\n\n\t\t\tthis._update(userInfo, roleInfo, udpInfo, ssoInfo).always(() => {\n\n\t\t\t\tthis._error(message);\n\t\t\t});\n\t\t});\n\n\t\t/*-----------------------------------------------------------------*/\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tform_attachCert: function()\n\t{\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tconst user = $('#E64F24B2_33E6_4DED_9B24_28BE04219613').val();\n\t\tconst pass = $('#A4DFD039_034F_4D10_9668_385AEF4FBBB9').val();\n\n\t\tif(!user || !pass)\n\t\t{\n\t\t\tthis._error('Please, fill all fields with a red star.');\n\n\t\t\treturn;\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tamiWebApp.lock();\n\n\t\tamiCommand.attachCert(user, pass).then((data, message) => {\n\n\t\t\tthis._success(message);\n\n\t\t}, (data, message) => {\n\n\t\t\tthis._error(message);\n\t\t});\n\n\t\t/*-----------------------------------------------------------------*/\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tform_detachCert: function()\n\t{\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tconst user = $('#E64F24B2_33E6_4DED_9B24_28BE04219613').val();\n\t\tconst pass = $('#A4DFD039_034F_4D10_9668_385AEF4FBBB9').val();\n\n\t\tif(!user || !pass)\n\t\t{\n\t\t\tthis._error('Please, fill all fields with a red star.');\n\n\t\t\treturn;\n\t\t}\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tamiWebApp.lock();\n\n\t\tamiCommand.detachCert(user, pass).then((data, message) => {\n\n\t\t\tthis._success(message);\n\n\t\t}, (data, message) => {\n\n\t\t\tthis._error(message);\n\t\t});\n\n\t\t/*-----------------------------------------------------------------*/\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tform_addUser: function(e)\n\t{\n\t\te.preventDefault();\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tconst values = $(e.target).serializeObject();\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tamiWebApp.lock();\n\n\t\tamiCommand.addUser(values['login'], values['pass'], values['first_name'], values['last_name'], values['email'], 'attach' in values, 'agree' in values).then((data, message) => {\n\n\t\t\tthis._success(message);\n\n\t\t}, (data, message) => {\n\n\t\t\tthis._error(message);\n\t\t});\n\n\t\t/*-----------------------------------------------------------------*/\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tform_remindPass: function(e)\n\t{\n\t\te.preventDefault();\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tconst values = $(e.target).serializeObject();\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tamiWebApp.lock();\n\n\t\tamiCommand.resetPass(values['user']).then((data, message) => {\n\n\t\t\tthis._success(message);\n\n\t\t}, (data, message) => {\n\n\t\t\tthis._error(message);\n\t\t});\n\n\t\t/*-----------------------------------------------------------------*/\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tform_changeInfo: function(e)\n\t{\n\t\te.preventDefault();\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tconst values = $(e.target).serializeObject();\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tamiWebApp.lock();\n\n\t\tamiCommand.changeInfo(values['first_name'], values['last_name'], values['email']).then((data, message) => {\n\n\t\t\tthis._success(message);\n\n\t\t}, (data, message) => {\n\n\t\t\tthis._error(message);\n\t\t});\n\n\t\t/*-----------------------------------------------------------------*/\n\t},\n\n\t/*---------------------------------------------------------------------*/\n\n\tform_changePass: function(e)\n\t{\n\t\te.preventDefault();\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tconst values = $(e.target).serializeObject();\n\n\t\t/*-----------------------------------------------------------------*/\n\n\t\tamiWebApp.lock();\n\n\t\tamiCommand.changePass(this.user, values['old_pass'], values['new_pass']).then((data, message) => {\n\n\t\t\tthis._success(message);\n\n\t\t}, (data, message) => {\n\n\t\t\tthis._error(message);\n\t\t});\n\n\t\t/*-----------------------------------------------------------------*/\n\t},\n\n\t/*---------------------------------------------------------------------*/\n});\n\n/*-------------------------------------------------------------------------*/\n","/*!\n * AMI Web Framework - AMIDoc.js\n *\n * Copyright (c) 2014-2019 The AMI Team / LPSC / IN2P3\n *\n * This file must be used under the terms of the CeCILL-C:\n * http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html\n * http://www.cecill.info/licences/Licence_CeCILL-C_V1-fr.html\n *\n */\n\n/*-------------------------------------------------------------------------*/\n\n/* eslint-disable */\n\nvar amiDoc = {\"functions\":[{\"name\":\"$AMINamespace\",\"desc\":\"Create a new namespace\",\"params\":[{\"name\":\"$name\",\"type\":\"String\",\"desc\":\"the namespace name\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"$descr\",\"type\":\"Object\",\"desc\":\"the namespace body\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}]},{\"name\":\"$AMIInterface\",\"desc\":\"Create a new interface\",\"params\":[{\"name\":\"$name\",\"type\":\"String\",\"desc\":\"the interface name\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"$descr\",\"type\":\"Object\",\"desc\":\"the interface body\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}]},{\"name\":\"$AMIClass\",\"desc\":\"Create a new class\",\"params\":[{\"name\":\"$name\",\"type\":\"String\",\"desc\":\"the class name\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"$descr\",\"type\":\"Object\",\"desc\":\"the class body\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}]}],\"namespaces\":[{\"name\":\"amiRouter\",\"desc\":\"The AMI url routing subsystem\",\"functions\":[{\"name\":\"getScriptURL\",\"desc\":\"Gets the AWF's script URL\",\"params\":[],\"returns\":[{\"type\":\"String\",\"desc\":\"The AWF's script URL\"}]},{\"name\":\"getOriginURL\",\"desc\":\"Gets the origin URL\",\"params\":[],\"returns\":[{\"type\":\"String\",\"desc\":\"The origin URL\"}]},{\"name\":\"getWebAppURL\",\"desc\":\"Gets the webapp URL\",\"params\":[],\"returns\":[{\"type\":\"String\",\"desc\":\"The webapp URL\"}]},{\"name\":\"getHash\",\"desc\":\"Gets the anchor part of the webapp URL\",\"params\":[],\"returns\":[{\"type\":\"String\",\"desc\":\"The anchor part of the webapp URL\"}]},{\"name\":\"getArgs\",\"desc\":\"Gets the arguments extracted from the webapp URL\",\"params\":[],\"returns\":[{\"type\":\"Array.<String>\",\"desc\":\"The arguments extracted from the webapp URL\"}]},{\"name\":\"append\",\"desc\":\"Appends a routing rule\",\"params\":[{\"name\":\"regExp\",\"type\":\"String\",\"desc\":\"the regExp\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"handler\",\"type\":\"Object\",\"desc\":\"the handler\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"}],\"returns\":[{\"type\":\"Namespace\",\"desc\":\"The amiRouter singleton\"}]},{\"name\":\"remove\",\"desc\":\"Removes some routing rules\",\"params\":[{\"name\":\"regExp\",\"type\":\"String\",\"desc\":\"the regExp\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"}],\"returns\":[{\"type\":\"Namespace\",\"desc\":\"The amiRouter singleton\"}]},{\"name\":\"check\",\"desc\":\"Checks whether the URL matches with a routing rule\",\"params\":[],\"returns\":[{\"type\":\"Boolean\",\"desc\":\"\"}]},{\"name\":\"appendHistoryEntry\",\"desc\":\"Append a new history entry\",\"params\":[{\"name\":\"path\",\"type\":\"String\",\"desc\":\"the new path\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"context\",\"type\":\"Object\",\"desc\":\"the new context\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}],\"returns\":[{\"type\":\"Boolean\",\"desc\":\"\"}]},{\"name\":\"replaceHistoryEntry\",\"desc\":\"Replace the current history entry\",\"params\":[{\"name\":\"path\",\"type\":\"String\",\"desc\":\"the new path\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"context\",\"type\":\"Object\",\"desc\":\"the new context\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}],\"returns\":[{\"type\":\"Boolean\",\"desc\":\"\"}]}]},{\"name\":\"amiWebApp\",\"desc\":\"The AMI webapp subsystem\",\"variables\":[{\"name\":\"originURL\",\"type\":\"String\",\"desc\":\"The origin URL\"},{\"name\":\"webAppURL\",\"type\":\"String\",\"desc\":\"The webapp URL\"},{\"name\":\"hash\",\"type\":\"String\",\"desc\":\"The anchor part of the webapp URL\"},{\"name\":\"args\",\"type\":\"Array.<String>\",\"desc\":\"The arguments extracted from the webapp URL\"}],\"functions\":[{\"name\":\"isEmbedded\",\"desc\":\"Checks whether the WebApp is executed in embedded mode\",\"params\":[],\"returns\":[{\"type\":\"Boolean\",\"desc\":\"\"}]},{\"name\":\"isLocal\",\"desc\":\"Checks whether the WebApp is executed locally (file://, localhost, 127.0.0.1 or ::1)\",\"params\":[],\"returns\":[{\"type\":\"Boolean\",\"desc\":\"\"}]},{\"name\":\"textToHtml\",\"desc\":\"Escapes the given string from text to HTML\",\"params\":[{\"name\":\"string\",\"type\":\"String\",\"desc\":\"the unescaped string\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"}],\"returns\":[{\"type\":\"String\",\"desc\":\"The escaped string\"}]},{\"name\":\"htmlToText\",\"desc\":\"Unescapes the given string from HTML to text\",\"params\":[{\"name\":\"string\",\"type\":\"String\",\"desc\":\"the escaped string\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"}],\"returns\":[{\"type\":\"String\",\"desc\":\"The unescaped string\"}]},{\"name\":\"textToString\",\"desc\":\"Escapes the given string from text to JavaScript string\",\"params\":[{\"name\":\"string\",\"type\":\"String\",\"desc\":\"the unescaped string\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"}],\"returns\":[{\"type\":\"String\",\"desc\":\"The escaped string\"}]},{\"name\":\"stringToText\",\"desc\":\"Unescapes the given string from JavaScript string to text\",\"params\":[{\"name\":\"string\",\"type\":\"String\",\"desc\":\"the escaped string\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"}],\"returns\":[{\"type\":\"String\",\"desc\":\"The unescaped string\"}]},{\"name\":\"htmlToString\",\"desc\":\"Escapes the given string from HTML to JavaScript string\",\"params\":[{\"name\":\"string\",\"type\":\"String\",\"desc\":\"the unescaped string\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"}],\"returns\":[{\"type\":\"String\",\"desc\":\"The escaped string\"}]},{\"name\":\"stringToHtml\",\"desc\":\"Unescapes the given string from JavaScript string to HTML\",\"params\":[{\"name\":\"string\",\"type\":\"String\",\"desc\":\"the escaped string\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"}],\"returns\":[{\"type\":\"String\",\"desc\":\"The unescaped string\"}]},{\"name\":\"textToSQL\",\"desc\":\"Escapes the given string from text to SQL\",\"params\":[{\"name\":\"string\",\"type\":\"String\",\"desc\":\"the unescaped string\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"}],\"returns\":[{\"type\":\"String\",\"desc\":\"The escaped string\"}]},{\"name\":\"sqlToText\",\"desc\":\"Unescapes the given string from SQL to text\",\"params\":[{\"name\":\"string\",\"type\":\"String\",\"desc\":\"the escaped string\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"}],\"returns\":[{\"type\":\"String\",\"desc\":\"The unescaped string\"}]},{\"name\":\"base64Encode\",\"desc\":\"Encodes (RFC 4648) a string\",\"params\":[{\"name\":\"string\",\"type\":\"String\",\"desc\":\"the decoded string\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"}],\"returns\":[{\"type\":\"String\",\"desc\":\"The encoded string\"}]},{\"name\":\"base64Decode\",\"desc\":\"Decodes (RFC 4648) a string\",\"params\":[{\"name\":\"string\",\"type\":\"String\",\"desc\":\"the encoded string\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"}],\"returns\":[{\"type\":\"String\",\"desc\":\"The decoded string\"}]},{\"name\":\"loadResources\",\"desc\":\"Asynchronously loads resources by extension\",\"params\":[{\"name\":\"urls\",\"type\":[\"Array\",\"String\"],\"desc\":\"the array of urls\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"settings\",\"type\":\"Object\",\"desc\":\"dictionary of settings (context)\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}],\"returns\":[{\"type\":\"$.Deferred\",\"desc\":\"A JQuery deferred object\"}]},{\"name\":\"loadSheets\",\"desc\":\"Asynchronously loads CSS sheets\",\"params\":[{\"name\":\"urls\",\"type\":[\"Array\",\"String\"],\"desc\":\"the array of urls\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"settings\",\"type\":\"Object\",\"desc\":\"dictionary of settings (context)\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}],\"returns\":[{\"type\":\"$.Deferred\",\"desc\":\"A JQuery deferred object\"}]},{\"name\":\"loadScripts\",\"desc\":\"Asynchronously loads JS scripts\",\"params\":[{\"name\":\"urls\",\"type\":[\"Array\",\"String\"],\"desc\":\"the array of urls\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"settings\",\"type\":\"Object\",\"desc\":\"dictionary of settings (context)\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}],\"returns\":[{\"type\":\"$.Deferred\",\"desc\":\"A JQuery deferred object\"}]},{\"name\":\"loadJSONs\",\"desc\":\"Asynchronously loads JSON files\",\"params\":[{\"name\":\"urls\",\"type\":[\"Array\",\"String\"],\"desc\":\"the array of urls\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"settings\",\"type\":\"Object\",\"desc\":\"dictionary of settings (context)\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}],\"returns\":[{\"type\":\"$.Deferred\",\"desc\":\"A JQuery deferred object\"}]},{\"name\":\"loadXMLs\",\"desc\":\"Asynchronously loads XML files\",\"params\":[{\"name\":\"urls\",\"type\":[\"Array\",\"String\"],\"desc\":\"the array of urls\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"settings\",\"type\":\"Object\",\"desc\":\"dictionary of settings (context)\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}],\"returns\":[{\"type\":\"$.Deferred\",\"desc\":\"A JQuery deferred object\"}]},{\"name\":\"loadHTMLs\",\"desc\":\"Asynchronously loads HTML files\",\"params\":[{\"name\":\"urls\",\"type\":[\"Array\",\"String\"],\"desc\":\"the array of urls\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"settings\",\"type\":\"Object\",\"desc\":\"dictionary of settings (context)\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}],\"returns\":[{\"type\":\"$.Deferred\",\"desc\":\"A JQuery deferred object\"}]},{\"name\":\"loadTWIGs\",\"desc\":\"Asynchronously loads TWIG files\",\"params\":[{\"name\":\"urls\",\"type\":[\"Array\",\"String\"],\"desc\":\"the array of urls\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"settings\",\"type\":\"Object\",\"desc\":\"dictionary of settings (context)\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}],\"returns\":[{\"type\":\"$.Deferred\",\"desc\":\"A JQuery deferred object\"}]},{\"name\":\"loadTexts\",\"desc\":\"Asynchronously loads text files\",\"params\":[{\"name\":\"urls\",\"type\":[\"Array\",\"String\"],\"desc\":\"the array of urls\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"settings\",\"type\":\"Object\",\"desc\":\"dictionary of settings (context)\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}],\"returns\":[{\"type\":\"$.Deferred\",\"desc\":\"A JQuery deferred object\"}]},{\"name\":\"replaceHTML\",\"desc\":\"Puts a HTML or TWIG fragment to the given target, see method [formatTWIG]{@link #jsdoc_method_formatTWIG}\",\"params\":[{\"name\":\"selector\",\"type\":\"String\",\"desc\":\"the target selector\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"twig\",\"type\":\"String\",\"desc\":\"the TWIG fragment\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"settings\",\"type\":\"Object\",\"desc\":\"dictionary of settings (context, dict)\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}],\"returns\":[{\"type\":\"$.Deferred\",\"desc\":\"A JQuery deferred object\"}]},{\"name\":\"prependHTML\",\"desc\":\"Prepends a HTML or TWIG fragment to the given target, see method [formatTWIG]{@link #jsdoc_method_formatTWIG}\",\"params\":[{\"name\":\"selector\",\"type\":\"String\",\"desc\":\"the target selector\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"twig\",\"type\":\"String\",\"desc\":\"the TWIG fragment\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"settings\",\"type\":\"Object\",\"desc\":\"dictionary of settings (context, dict)\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}],\"returns\":[{\"type\":\"$.Deferred\",\"desc\":\"A JQuery deferred object\"}]},{\"name\":\"appendHTML\",\"desc\":\"Appends a HTML or TWIG fragment to the given target, see method [formatTWIG]{@link #jsdoc_method_formatTWIG}\",\"params\":[{\"name\":\"selector\",\"type\":\"String\",\"desc\":\"the target selector\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"twig\",\"type\":\"String\",\"desc\":\"the TWIG fragment\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"settings\",\"type\":\"Object\",\"desc\":\"dictionary of settings (context, dict)\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}],\"returns\":[{\"type\":\"$.Deferred\",\"desc\":\"A JQuery deferred object\"}]},{\"name\":\"formatTWIG\",\"desc\":\"Interpretes the given TWIG string, see {@link http://twig.sensiolabs.org/documentation}\",\"params\":[{\"name\":\"twig\",\"type\":\"String\",\"desc\":\"the TWIG string\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"dict\",\"type\":[\"Object\",\"Array\"],\"desc\":\"the dictionary\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}],\"returns\":[{\"type\":\"String\",\"desc\":\"The Interpreted TWIG string\"}]},{\"name\":\"jspath\",\"desc\":\"Finds data within the given JSON, see {@link https://github.com/dfilatov/jspath}\",\"params\":[{\"name\":\"path\",\"type\":\"String\",\"desc\":\"the path\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"json\",\"type\":\"Object\",\"desc\":\"the JSON\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"}],\"returns\":[{\"type\":\"Array\",\"desc\":\"The resulting array\"}]},{\"name\":\"lock\",\"desc\":\"Locks the Web application\",\"params\":[]},{\"name\":\"unlock\",\"desc\":\"Unlocks the Web application\",\"params\":[]},{\"name\":\"canLeave\",\"desc\":\"Enables the message in a confirmation dialog box to inform that the user is about to leave the current page.\",\"params\":[]},{\"name\":\"cannotLeave\",\"desc\":\"Disables the message in a confirmation dialog box to inform that the user is about to leave the current page.\",\"params\":[]},{\"name\":\"info\",\"desc\":\"Shows an 'info' message\",\"params\":[{\"name\":\"message\",\"type\":[\"String\",\"Array\"],\"desc\":\"the message\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"fadeOut\",\"type\":\"Boolean\",\"desc\":\"if True, the message disappears after 60s\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}]},{\"name\":\"success\",\"desc\":\"Shows a 'success' message\",\"params\":[{\"name\":\"message\",\"type\":[\"String\",\"Array\"],\"desc\":\"the message\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"fadeOut\",\"type\":\"Boolean\",\"desc\":\"if True, the message disappears after 60s\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}]},{\"name\":\"warning\",\"desc\":\"Shows a 'warning' message\",\"params\":[{\"name\":\"message\",\"type\":[\"String\",\"Array\"],\"desc\":\"the message\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"fadeOut\",\"type\":\"Boolean\",\"desc\":\"if True, the message disappears after 60s\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}]},{\"name\":\"error\",\"desc\":\"Shows an 'error' message\",\"params\":[{\"name\":\"message\",\"type\":[\"String\",\"Array\"],\"desc\":\"the message\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"fadeOut\",\"type\":\"Boolean\",\"desc\":\"if True, the message disappears after 60s\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}]},{\"name\":\"flush\",\"desc\":\"Flushes messages\",\"params\":[]},{\"name\":\"fillBreadcrumb\",\"desc\":\"Fill the main breadcrumb\",\"params\":[{\"name\":\"items\",\"type\":\"Array\",\"desc\":\"the array of items (HTML format)\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"}]},{\"name\":\"start\",\"desc\":\"Starts the Web application\",\"params\":[{\"name\":\"settings\",\"type\":\"Object\",\"desc\":\"dictionary of settings (logo_url, home_url, contact_email, about_url, theme_url, locker_url)\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}]},{\"name\":\"loadControl\",\"desc\":\"Asynchronously loads a control\",\"params\":[{\"name\":\"control\",\"type\":\"String\",\"desc\":\"the array of control name\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"settings\",\"type\":\"Object\",\"desc\":\"dictionary of settings (context)\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}],\"returns\":[{\"type\":\"$.Deferred\",\"desc\":\"A JQuery deferred object\"}]},{\"name\":\"createControl\",\"desc\":\"Asynchronously create a control\",\"params\":[{\"name\":\"parent\",\"type\":\"Object\",\"desc\":\"???\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"},{\"name\":\"owner\",\"type\":\"Object\",\"desc\":\"???\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"},{\"name\":\"control\",\"type\":\"String\",\"desc\":\"???\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"params\",\"type\":\"Array\",\"desc\":\"???\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"settings\",\"type\":\"Object\",\"desc\":\"dictionary of settings (context)\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}],\"returns\":[{\"type\":\"$.Deferred\",\"desc\":\"A JQuery deferred object\"}]},{\"name\":\"createControlInBody\",\"desc\":\"Asynchronously create a control in a container\",\"params\":[{\"name\":\"parent\",\"type\":\"Object\",\"desc\":\"???\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"},{\"name\":\"owner\",\"type\":\"Object\",\"desc\":\"???\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"},{\"name\":\"control\",\"type\":\"String\",\"desc\":\"???\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"paramsWithoutSettings\",\"type\":\"Array\",\"desc\":\"???\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"controlSettings\",\"type\":\"Object\",\"desc\":\"???\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"parentSettings\",\"type\":\"Object\",\"desc\":\"???\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"settings\",\"type\":\"Object\",\"desc\":\"dictionary of settings (context)\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}],\"returns\":[{\"type\":\"$.Deferred\",\"desc\":\"A JQuery deferred object\"}]},{\"name\":\"createControlInContainer\",\"desc\":\"Asynchronously create a control in a container\",\"params\":[{\"name\":\"parent\",\"type\":\"Object\",\"desc\":\"???\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"},{\"name\":\"owner\",\"type\":\"Object\",\"desc\":\"???\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"},{\"name\":\"control\",\"type\":\"String\",\"desc\":\"???\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"paramsWithoutSettings\",\"type\":\"Array\",\"desc\":\"???\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"controlSettings\",\"type\":\"Object\",\"desc\":\"???\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"parentSettings\",\"type\":\"Object\",\"desc\":\"???\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"icon\",\"type\":\"String\",\"desc\":\"???\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"title\",\"type\":\"String\",\"desc\":\"???\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"settings\",\"type\":\"Object\",\"desc\":\"dictionary of settings (context)\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}],\"returns\":[{\"type\":\"$.Deferred\",\"desc\":\"A JQuery deferred object\"}]},{\"name\":\"createControlFromWebLink\",\"desc\":\"Asynchronously create a control in a container from a WEB link\",\"params\":[{\"name\":\"parent\",\"type\":\"Object\",\"desc\":\"???\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"},{\"name\":\"owner\",\"type\":\"Object\",\"desc\":\"???\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"},{\"name\":\"el\",\"type\":\"String\",\"desc\":\"???\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"parentSettings\",\"type\":\"Object\",\"desc\":\"???\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"settings\",\"type\":\"Object\",\"desc\":\"dictionary of settings (context)\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}],\"returns\":[{\"type\":\"$.Deferred\",\"desc\":\"A JQuery deferred object\"}]},{\"name\":\"loadSubApp\",\"desc\":\"Asynchronously loads a subapp\",\"params\":[{\"name\":\"subapp\",\"type\":\"String\",\"desc\":\"the subapp\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"userdata\",\"type\":\"?\",\"desc\":\"the user data\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"},{\"name\":\"settings\",\"type\":\"Object\",\"desc\":\"dictionary of settings (context)\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}],\"returns\":[{\"type\":\"$.Deferred\",\"desc\":\"A JQuery deferred object\"}]},{\"name\":\"loadSubAppByURL\",\"desc\":\"Loads a subapp by URL\",\"params\":[{\"name\":\"defaultSubApp\",\"type\":\"String\",\"desc\":\"if 'amiWebApp.args[\\\"subapp\\\"]' is null, the default subapp\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"defaultUserData\",\"type\":\"?\",\"desc\":\"if 'amiWebApp.args[\\\"userdata\\\"]' is null, the default user data\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}],\"returns\":[{\"type\":\"$.Deferred\",\"desc\":\"A JQuery deferred object\"}]}],\"events\":[{\"name\":\"onReady\",\"desc\":\"This method must be overloaded and is called when the Web application starts\",\"params\":[{\"name\":\"userData\",\"type\":\"String\",\"desc\":\"\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"}]},{\"name\":\"onRefresh\",\"desc\":\"This method must be overloaded and is called when the toolbar needs to be updated\",\"params\":[{\"name\":\"isAuth\",\"type\":\"Boolean\",\"desc\":\"\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"}]}]},{\"name\":\"amiCommand\",\"desc\":\"The AMI command subsystem\",\"variables\":[{\"name\":\"endpoint\",\"type\":\"String\",\"desc\":\"Default endpoint\"},{\"name\":\"converter\",\"type\":\"String\",\"desc\":\"Default converter\"}],\"functions\":[{\"name\":\"execute\",\"desc\":\"Executes an AMI command\",\"params\":[{\"name\":\"command\",\"type\":\"String\",\"desc\":\"the command\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"settings\",\"type\":\"Object\",\"desc\":\"dictionary of settings (context, endpoint, converter, timeout, extraParam, extraValue)\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}],\"returns\":[{\"type\":\"$.Deferred\",\"desc\":\"A JQuery deferred object\"}]},{\"name\":\"passLogin\",\"desc\":\"Logs in by login/password\",\"params\":[{\"name\":\"user\",\"type\":\"String\",\"desc\":\"the user\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"pass\",\"type\":\"String\",\"desc\":\"the password\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"settings\",\"type\":\"Object\",\"desc\":\"dictionary of settings (context)\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}],\"returns\":[{\"type\":\"$.Deferred\",\"desc\":\"A JQuery deferred object\"}]},{\"name\":\"certLogin\",\"desc\":\"Logs in by certificate\",\"params\":[{\"name\":\"settings\",\"type\":\"Object\",\"desc\":\"dictionary of settings (context)\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}],\"returns\":[{\"type\":\"$.Deferred\",\"desc\":\"A JQuery deferred object\"}]},{\"name\":\"logout\",\"desc\":\"Logs out\",\"params\":[{\"name\":\"settings\",\"type\":\"Object\",\"desc\":\"dictionary of settings (context)\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}],\"returns\":[{\"type\":\"$.Deferred\",\"desc\":\"A JQuery deferred object\"}]},{\"name\":\"attachCert\",\"desc\":\"Attaches a certificate\",\"params\":[{\"name\":\"user\",\"type\":\"String\",\"desc\":\"the user\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"pass\",\"type\":\"String\",\"desc\":\"the password\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"settings\",\"type\":\"Object\",\"desc\":\"dictionary of settings (context)\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}],\"returns\":[{\"type\":\"$.Deferred\",\"desc\":\"A JQuery deferred object\"}]},{\"name\":\"detachCert\",\"desc\":\"Detaches a certificate\",\"params\":[{\"name\":\"user\",\"type\":\"String\",\"desc\":\"the user\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"pass\",\"type\":\"String\",\"desc\":\"the password\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"settings\",\"type\":\"Object\",\"desc\":\"dictionary of settings (context)\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}],\"returns\":[{\"type\":\"$.Deferred\",\"desc\":\"A JQuery deferred object\"}]},{\"name\":\"addUser\",\"desc\":\"Adds a new user\",\"params\":[{\"name\":\"user\",\"type\":\"String\",\"desc\":\"the user\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"pass\",\"type\":\"String\",\"desc\":\"the password\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"firstName\",\"type\":\"String\",\"desc\":\"the first name\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"lastName\",\"type\":\"String\",\"desc\":\"the last name\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"email\",\"type\":\"String\",\"desc\":\"the email\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"attach\",\"type\":\"Boolean\",\"desc\":\"attach the current certificate\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"agree\",\"type\":\"Boolean\",\"desc\":\"agree with the terms and conditions\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"settings\",\"type\":\"Object\",\"desc\":\"dictionary of settings (context)\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}],\"returns\":[{\"type\":\"$.Deferred\",\"desc\":\"A JQuery deferred object\"}]},{\"name\":\"changeInfo\",\"desc\":\"Changes the account information\",\"params\":[{\"name\":\"firstName\",\"type\":\"String\",\"desc\":\"the first name\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"lastName\",\"type\":\"String\",\"desc\":\"the last name\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"email\",\"type\":\"String\",\"desc\":\"the email\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"settings\",\"type\":\"Object\",\"desc\":\"dictionary of settings (context)\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}],\"returns\":[{\"type\":\"$.Deferred\",\"desc\":\"A JQuery deferred object\"}]},{\"name\":\"changePass\",\"desc\":\"Changes the account password\",\"params\":[{\"name\":\"user\",\"type\":\"String\",\"desc\":\"the user\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"oldPass\",\"type\":\"String\",\"desc\":\"the old password\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"newPass\",\"type\":\"String\",\"desc\":\"the new password\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"settings\",\"type\":\"Object\",\"desc\":\"dictionary of settings (context)\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}],\"returns\":[{\"type\":\"$.Deferred\",\"desc\":\"A JQuery deferred object\"}]},{\"name\":\"resetPass\",\"desc\":\"Resets the account password\",\"params\":[{\"name\":\"user\",\"type\":\"String\",\"desc\":\"the user\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"settings\",\"type\":\"Object\",\"desc\":\"dictionary of settings (context)\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}],\"returns\":[{\"type\":\"$.Deferred\",\"desc\":\"A JQuery deferred object\"}]}]},{\"name\":\"amiLogin\",\"desc\":\"The AMI authentication subsystem\",\"functions\":[{\"name\":\"getUser\",\"desc\":\"Gets the current user\",\"params\":[],\"returns\":[{\"type\":\"String\",\"desc\":\"The current user\"}]},{\"name\":\"getGuest\",\"desc\":\"Gets the guest user\",\"params\":[],\"returns\":[{\"type\":\"String\",\"desc\":\"The guest user\"}]},{\"name\":\"getClientDN\",\"desc\":\"Gets the client DN\",\"params\":[],\"returns\":[{\"type\":\"String\",\"desc\":\"The client DN\"}]},{\"name\":\"getIssuerDN\",\"desc\":\"Gets the issuer DN\",\"params\":[],\"returns\":[{\"type\":\"String\",\"desc\":\"The issuer DN\"}]},{\"name\":\"isAuthenticated\",\"desc\":\"Checks whether the user is authenticated\",\"params\":[],\"returns\":[{\"type\":\"Boolean\",\"desc\":\"\"}]},{\"name\":\"hasRole\",\"desc\":\"Checks whether the user has the given role\",\"params\":[{\"name\":\"role\",\"type\":\"String\",\"desc\":\"the role\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"}],\"returns\":[{\"type\":\"Boolean\",\"desc\":\"\"}]},{\"name\":\"sso\",\"desc\":\"Opens the 'SSO' modal window\",\"params\":[]},{\"name\":\"signIn\",\"desc\":\"Opens the 'SignIn' modal window\",\"params\":[]},{\"name\":\"changeInfo\",\"desc\":\"Opens the 'Change Info' modal window\",\"params\":[]},{\"name\":\"changePass\",\"desc\":\"Opens the 'Change Password' modal window\",\"params\":[]},{\"name\":\"accountStatus\",\"desc\":\"Opens the 'Account Status' modal window\",\"params\":[]},{\"name\":\"signOut\",\"desc\":\"Signs out\",\"params\":[]}]}],\"interfaces\":[{\"name\":\"ami.IControl\",\"desc\":\"The AMI control interface\",\"implements\":[],\"inherits\":[],\"functions\":[{\"name\":\"patchId\",\"desc\":\"Patches an HTML identifier\",\"params\":[{\"name\":\"id\",\"type\":\"String\",\"desc\":\"the unpatched HTML identifier\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"}],\"returns\":[{\"type\":\"String\",\"desc\":\"The patched HTML identifier\"}]},{\"name\":\"replaceHTML\",\"desc\":\"Puts a HTML or TWIG fragment to the given target, see method [formatTWIG]{@link #jsdoc_method_formatTWIG}\",\"params\":[{\"name\":\"selector\",\"type\":\"String\",\"desc\":\"the target selector\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"twig\",\"type\":\"String\",\"desc\":\"the TWIG fragment\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"settings\",\"type\":\"Object\",\"desc\":\"dictionary of settings (context, dict)\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}],\"returns\":[{\"type\":\"$.Deferred\",\"desc\":\"A JQuery deferred object\"}]},{\"name\":\"prependHTML\",\"desc\":\"Prepends a HTML or TWIG fragment to the given target, see method [formatTWIG]{@link #jsdoc_method_formatTWIG}\",\"params\":[{\"name\":\"selector\",\"type\":\"String\",\"desc\":\"the target selector\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"twig\",\"type\":\"String\",\"desc\":\"the TWIG fragment\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"settings\",\"type\":\"Object\",\"desc\":\"dictionary of settings (context, dict)\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}],\"returns\":[{\"type\":\"$.Deferred\",\"desc\":\"A JQuery deferred object\"}]},{\"name\":\"appendHTML\",\"desc\":\"Appends a HTML or TWIG fragment to the given target, see method [formatTWIG]{@link #jsdoc_method_formatTWIG}\",\"params\":[{\"name\":\"selector\",\"type\":\"String\",\"desc\":\"the target selector\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"twig\",\"type\":\"String\",\"desc\":\"the TWIG fragment\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"settings\",\"type\":\"Object\",\"desc\":\"dictionary of settings (context, dict)\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}],\"returns\":[{\"type\":\"$.Deferred\",\"desc\":\"A JQuery deferred object\"}]},{\"name\":\"onReady\",\"desc\":\"Called when the control is ready to run\",\"params\":[]}]},{\"name\":\"ami.ISubApp\",\"desc\":\"The AMI sub-application interface\",\"implements\":[],\"inherits\":[],\"functions\":[{\"name\":\"onReady\",\"desc\":\"Called when the sub-application is ready to run\",\"params\":[{\"name\":\"userdata\",\"type\":\"?\",\"desc\":\"userdata\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"}]},{\"name\":\"onExit\",\"desc\":\"Called when the sub-application is about to exit\",\"params\":[{\"name\":\"userdata\",\"type\":\"?\",\"desc\":\"userdata\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"}]},{\"name\":\"onLogin\",\"desc\":\"Called when logging in\",\"params\":[{\"name\":\"userdata\",\"type\":\"?\",\"desc\":\"userdata\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"}]},{\"name\":\"onLogout\",\"desc\":\"Called when logging out\",\"params\":[{\"name\":\"userdata\",\"type\":\"?\",\"desc\":\"userdata\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"}]}]}],\"classes\":[{\"name\":\"ami.Control\",\"desc\":\"The basic AMI control\",\"implements\":[\"ami.IControl\"],\"inherits\":[],\"konstructor\":{\"name\":\"Control\",\"params\":[]},\"functions\":[{\"name\":\"patchId\",\"desc\":\"Patches an HTML identifier\",\"params\":[{\"name\":\"id\",\"type\":\"String\",\"desc\":\"the unpatched HTML identifier\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"}],\"returns\":[{\"type\":\"String\",\"desc\":\"The patched HTML identifier\"}]},{\"name\":\"replaceHTML\",\"desc\":\"Puts a HTML or TWIG fragment to the given target, see method [formatTWIG]{@link #jsdoc_method_formatTWIG}\",\"params\":[{\"name\":\"selector\",\"type\":\"String\",\"desc\":\"the target selector\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"twig\",\"type\":\"String\",\"desc\":\"the TWIG fragment\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"settings\",\"type\":\"Object\",\"desc\":\"dictionary of settings (context, dict)\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}],\"returns\":[{\"type\":\"$.Deferred\",\"desc\":\"A JQuery deferred object\"}]},{\"name\":\"prependHTML\",\"desc\":\"Prepends a HTML or TWIG fragment to the given target, see method [formatTWIG]{@link #jsdoc_method_formatTWIG}\",\"params\":[{\"name\":\"selector\",\"type\":\"String\",\"desc\":\"the target selector\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"twig\",\"type\":\"String\",\"desc\":\"the TWIG fragment\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"settings\",\"type\":\"Object\",\"desc\":\"dictionary of settings (context, dict)\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}],\"returns\":[{\"type\":\"$.Deferred\",\"desc\":\"A JQuery deferred object\"}]},{\"name\":\"appendHTML\",\"desc\":\"Appends a HTML or TWIG fragment to the given target, see method [formatTWIG]{@link #jsdoc_method_formatTWIG}\",\"params\":[{\"name\":\"selector\",\"type\":\"String\",\"desc\":\"the target selector\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"twig\",\"type\":\"String\",\"desc\":\"the TWIG fragment\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"},{\"name\":\"settings\",\"type\":\"Object\",\"desc\":\"dictionary of settings (context, dict)\",\"default\":\"\",\"optional\":true,\"nullable\":\"\"}],\"returns\":[{\"type\":\"$.Deferred\",\"desc\":\"A JQuery deferred object\"}]},{\"name\":\"onReady\",\"desc\":\"Called when the control is ready to run\",\"params\":[]}]},{\"name\":\"ami.SubApp\",\"desc\":\"The basic AMI sub-application\",\"implements\":[\"ami.ISubApp\"],\"inherits\":[],\"konstructor\":{\"name\":\"SubApp\",\"params\":[]},\"functions\":[{\"name\":\"onReady\",\"desc\":\"Called when the sub-application is ready to run\",\"params\":[{\"name\":\"userdata\",\"type\":\"?\",\"desc\":\"userdata\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"}]},{\"name\":\"onExit\",\"desc\":\"Called when the sub-application is about to exit\",\"params\":[{\"name\":\"userdata\",\"type\":\"?\",\"desc\":\"userdata\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"}]},{\"name\":\"onLogin\",\"desc\":\"Called when logging in\",\"params\":[{\"name\":\"userdata\",\"type\":\"?\",\"desc\":\"userdata\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"}]},{\"name\":\"onLogout\",\"desc\":\"Called when logging out\",\"params\":[{\"name\":\"userdata\",\"type\":\"?\",\"desc\":\"userdata\",\"default\":\"\",\"optional\":\"\",\"nullable\":\"\"}]}]}]};\n\n/* eslint-enable */\n\n/*-------------------------------------------------------------------------*/"],"file":"ami.js"}