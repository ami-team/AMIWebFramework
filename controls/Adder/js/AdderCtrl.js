/*!
 * AMI Web Framework
 *
 * Copyright (c) 2014-XXXX The AMI Team / LPSC / CNRS
 *
 * This file must be used under the terms of the CeCILL-C:
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-fr.html
 *
 */$AMIClass("AdderCtrl",{$extends:ami.Control,$init:function $init(parent,owner){this.$super.$init(parent,owner)},onReady:function onReady(){var _this=this;return amiWebApp.loadResources([amiWebApp.originURL+"/controls/Adder/css/AdderCtrl.css",amiWebApp.originURL+"/controls/Adder/twig/AdderCtrl.twig","ctrl:table"]).done(function(data){_this.fragmentAddCtrl=data[1];_this.tableCtor=data[2]})},render:function render(selector,settings){var _this2=this;var result=$.Deferred();this.ctx={};var _amiWebApp$setup=amiWebApp.setup(["context","catalog","entity","field"],[result,"","",""],settings),context=_amiWebApp$setup[0],catalog=_amiWebApp$setup[1],entity=_amiWebApp$setup[2],field=_amiWebApp$setup[3];this.ctx.context=context;this.ctx.catalog=catalog;this.ctx.entity=entity;this.ctx.field=field;this.table=new this.tableCtor(this,this);this.replaceHTML(this._selector=selector,this.fragmentAddCtrl,{dict:settings}).done(function(){$(_this2.patchId("#F8A7229A_60B1_0D37_BA18_807B7E29C818")).click(function(e){_this2.table.fieldEditor.showRowModal(_this2.ctx.catalog,_this2.ctx.entity)});$(_this2.patchId("#EBB91625_148B_1606_0D40_30BF170B11EE")).click(function(e){var mql="SELECT *";var val=$(_this2.patchId("#B28F6454_3862_3031_6BAF_98392DE9C377")).val();if(val){mql+=" WHERE `"+_this2.ctx.field+"` LIKE '%"+val+"%'"}_this2.table.render("#"+_this2.patchId("D6FDA711_E893_7CB9_9B97_4161B2CDE139"),"SearchQuery -catalog=\""+amiWebApp.textToString(_this2.ctx.catalog)+"\" -entity=\""+amiWebApp.textToString(_this2.ctx.entity)+"\" -mql=\""+amiWebApp.textToString(mql)+"\"",{showToolBar:true,showDetails:true,showTools:true,canEdit:true,catalog:_this2.ctx.catalog,entity:_this2.ctx.entity}).done(function(){amiWebApp.unlock()}).fail(function(message){amiWebApp.error(message,true)})});_this2.table.render(_this2.patchId("#D6FDA711_E893_7CB9_9B97_4161B2CDE139"),"SearchQuery -catalog=\""+amiWebApp.textToString(_this2.ctx.catalog)+"\" -entity=\""+amiWebApp.textToString(_this2.ctx.entity)+"\" -mql=\"SELECT * \"",{showToolBar:true,showDetails:true,showTools:true,canEdit:true,catalog:_this2.ctx.catalog,entity:_this2.ctx.entity}).done(function(){amiWebApp.unlock();result.resolveWith(_this2.ctx.context)}).fail(function(message){amiWebApp.error(message,true);result.resolveWith(_this2.ctx.context)})});return result.promise()}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFkZGVyQ3RybC5lczYuanMiXSwibmFtZXMiOlsiJEFNSUNsYXNzIiwiJGV4dGVuZHMiLCJhbWkiLCJDb250cm9sIiwiJGluaXQiLCJwYXJlbnQiLCJvd25lciIsIiRzdXBlciIsIm9uUmVhZHkiLCJhbWlXZWJBcHAiLCJsb2FkUmVzb3VyY2VzIiwib3JpZ2luVVJMIiwiZG9uZSIsImRhdGEiLCJmcmFnbWVudEFkZEN0cmwiLCJ0YWJsZUN0b3IiLCJyZW5kZXIiLCJzZWxlY3RvciIsInNldHRpbmdzIiwicmVzdWx0IiwiJCIsIkRlZmVycmVkIiwiY3R4Iiwic2V0dXAiLCJjb250ZXh0IiwiY2F0YWxvZyIsImVudGl0eSIsImZpZWxkIiwidGFibGUiLCJyZXBsYWNlSFRNTCIsIl9zZWxlY3RvciIsImRpY3QiLCJwYXRjaElkIiwiY2xpY2siLCJlIiwiZmllbGRFZGl0b3IiLCJzaG93Um93TW9kYWwiLCJtcWwiLCJ2YWwiLCJ0ZXh0VG9TdHJpbmciLCJzaG93VG9vbEJhciIsInNob3dEZXRhaWxzIiwic2hvd1Rvb2xzIiwiY2FuRWRpdCIsInVubG9jayIsImZhaWwiLCJtZXNzYWdlIiwiZXJyb3IiLCJyZXNvbHZlV2l0aCIsInByb21pc2UiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7R0FhQUEsU0FBUyxDQUFDLFdBQUQsQ0FBYyxDQUd0QkMsUUFBUSxDQUFFQyxHQUFHLENBQUNDLE9BSFEsQ0FPdEJDLEtBQUssQ0FBRSxlQUFTQyxNQUFULENBQWlCQyxLQUFqQixDQUNQLENBQ0MsS0FBS0MsTUFBTCxDQUFZSCxLQUFaLENBQWtCQyxNQUFsQixDQUEwQkMsS0FBMUIsQ0FDQSxDQVZxQixDQWN0QkUsT0FBTyxDQUFFLGtCQUNULGdCQUNDLE1BQU9DLENBQUFBLFNBQVMsQ0FBQ0MsYUFBVixDQUF3QixDQUM5QkQsU0FBUyxDQUFDRSxTQUFWLENBQXNCLG1DQURRLENBRTlCRixTQUFTLENBQUNFLFNBQVYsQ0FBc0IscUNBRlEsQ0FJOUIsWUFKOEIsQ0FBeEIs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QVhELENBWUEsQ0E5Q0QsRUFrREEsTUFBT0wsQ0FBQUEsTUFBTSxDQUFDOEIsT0FBUCxFQUNQLENBcEhxQixDQUFkLENBQVQiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEFNSSBXZWIgRnJhbWV3b3JrXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LVhYWFggVGhlIEFNSSBUZWFtIC8gTFBTQyAvIENOUlNcbiAqXG4gKiBUaGlzIGZpbGUgbXVzdCBiZSB1c2VkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgQ2VDSUxMLUM6XG4gKiBodHRwOi8vd3d3LmNlY2lsbC5pbmZvL2xpY2VuY2VzL0xpY2VuY2VfQ2VDSUxMLUNfVjEtZW4uaHRtbFxuICogaHR0cDovL3d3dy5jZWNpbGwuaW5mby9saWNlbmNlcy9MaWNlbmNlX0NlQ0lMTC1DX1YxLWZyLmh0bWxcbiAqXG4gKi9cblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiRBTUlDbGFzcygnQWRkZXJDdHJsJywge1xuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdCRleHRlbmRzOiBhbWkuQ29udHJvbCxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdCRpbml0OiBmdW5jdGlvbihwYXJlbnQsIG93bmVyKVxuXHR7XG5cdFx0dGhpcy4kc3VwZXIuJGluaXQocGFyZW50LCBvd25lcik7XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRvblJlYWR5OiBmdW5jdGlvbigpXG5cdHtcblx0XHRyZXR1cm4gYW1pV2ViQXBwLmxvYWRSZXNvdXJjZXMoW1xuXHRcdFx0YW1pV2ViQXBwLm9yaWdpblVSTCArICcvY29udHJvbHMvQWRkZXIvY3NzL0FkZGVyQ3RybC5jc3MnLFxuXHRcdFx0YW1pV2ViQXBwLm9yaWdpblVSTCArICcvY29udHJvbHMvQWRkZXIvdHdpZy9BZGRlckN0cmwudHdpZycsXG5cdFx0XHQvKiovXG5cdFx0XHQnY3RybDp0YWJsZSdcblx0XHRdKS5kb25lKChkYXRhKSA9PiB7XG5cblx0XHRcdHRoaXMuZnJhZ21lbnRBZGRDdHJsID0gZGF0YVsxXTtcblx0XHRcdHRoaXMudGFibGVDdG9yID0gZGF0YVsyXTtcblx0XHR9KTtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdHJlbmRlcjogZnVuY3Rpb24oc2VsZWN0b3IsIHNldHRpbmdzKVxuXHR7XG5cdFx0Y29uc3QgcmVzdWx0ID0gJC5EZWZlcnJlZCgpO1xuXG5cdFx0dGhpcy5jdHggPSB7fTtcblxuXHRcdC8qKi9cblxuXHRcdGNvbnN0IFtcblx0XHRcdGNvbnRleHQsXG5cdFx0XHRjYXRhbG9nLCBlbnRpdHksIGZpZWxkLFxuXHRcdF0gPSBhbWlXZWJBcHAuc2V0dXAoXG5cdFx0XHRbXG5cdFx0XHRcdCdjb250ZXh0Jyxcblx0XHRcdFx0J2NhdGFsb2cnLCAnZW50aXR5JywgJ2ZpZWxkJyxcblx0XHRcdF0sXG5cdFx0XHRbXG5cdFx0XHRcdHJlc3VsdCxcblx0XHRcdFx0JycsICcnLCAnJyxcblx0XHRcdF0sXG5cdFx0XHRzZXR0aW5nc1xuXHRcdCk7XG5cblx0XHR0aGlzLmN0eC5jb250ZXh0ID0gY29udGV4dDtcblxuXHRcdHRoaXMuY3R4LmNhdGFsb2cgPSBjYXRhbG9nO1xuXHRcdHRoaXMuY3R4LmVudGl0eSA9IGVudGl0eTtcblx0XHR0aGlzLmN0eC5maWVsZCA9IGZpZWxkO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0dGhpcy50YWJsZSA9IG5ldyB0aGlzLnRhYmxlQ3Rvcih0aGlzLCB0aGlzKTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdHRoaXMucmVwbGFjZUhUTUwodGhpcy5fc2VsZWN0b3IgPSBzZWxlY3RvciwgdGhpcy5mcmFnbWVudEFkZEN0cmwsIHtkaWN0OiBzZXR0aW5nc30pLmRvbmUoKCkgPT4ge1xuXG5cdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0JCh0aGlzLnBhdGNoSWQoJyNGOEE3MjI5QV82MEIxXzBEMzdfQkExOF84MDdCN0UyOUM4MTgnKSkuY2xpY2soKGUpID0+IHtcblxuXHRcdFx0XHR0aGlzLnRhYmxlLmZpZWxkRWRpdG9yLnNob3dSb3dNb2RhbCh0aGlzLmN0eC5jYXRhbG9nLCB0aGlzLmN0eC5lbnRpdHkpO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHQkKHRoaXMucGF0Y2hJZCgnI0VCQjkxNjI1XzE0OEJfMTYwNl8wRDQwXzMwQkYxNzBCMTFFRScpKS5jbGljaygoZSkgPT4ge1xuXG5cdFx0XHRcdFx0bGV0IG1xbCA9ICdTRUxFQ1QgKic7XG5cblx0XHRcdFx0XHRjb25zdCB2YWwgPSAkKHRoaXMucGF0Y2hJZCgnI0IyOEY2NDU0XzM4NjJfMzAzMV82QkFGXzk4MzkyREU5QzM3NycpKS52YWwoKTtcblxuXHRcdFx0XHRcdGlmKHZhbClcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRtcWwgKz0gJyBXSEVSRSBgJyArIHRoaXMuY3R4LmZpZWxkICsgJ2AgTElLRSBcXCclJyArIHZhbCArICclXFwnJ1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLnRhYmxlLnJlbmRlcignIycgKyB0aGlzLnBhdGNoSWQoJ0Q2RkRBNzExX0U4OTNfN0NCOV85Qjk3XzQxNjFCMkNERTEzOScpLCAnU2VhcmNoUXVlcnkgLWNhdGFsb2c9XCInICsgYW1pV2ViQXBwLnRleHRUb1N0cmluZyh0aGlzLmN0eC5jYXRhbG9nKSArICdcIiAtZW50aXR5PVwiJyArIGFtaVdlYkFwcC50ZXh0VG9TdHJpbmcodGhpcy5jdHguZW50aXR5KSArICdcIiAtbXFsPVwiJyArIGFtaVdlYkFwcC50ZXh0VG9TdHJpbmcobXFsKSArICdcIicsIHtzaG93VG9vbEJhciA6IHRydWUsIHNob3dEZXRhaWxzOiB0cnVlLCBzaG93VG9vbHMgOiB0cnVlLCBjYW5FZGl0OiB0cnVlLCBjYXRhbG9nOiB0aGlzLmN0eC5jYXRhbG9nLCBlbnRpdHk6IHRoaXMuY3R4LmVudGl0eX0pLmRvbmUoKCkgPT4ge1xuXG5cdFx0XHRcdFx0YW1pV2ViQXBwLnVubG9jaygpO1xuXG5cdFx0XHRcdH0pLmZhaWwoKG1lc3NhZ2UpID0+IHtcblxuXHRcdFx0XHRcdGFtaVdlYkFwcC5lcnJvcihtZXNzYWdlLCB0cnVlKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblxuXHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRcdHRoaXMudGFibGUucmVuZGVyKHRoaXMucGF0Y2hJZCgnI0Q2RkRBNzExX0U4OTNfN0NCOV85Qjk3XzQxNjFCMkNERTEzOScpLCAnU2VhcmNoUXVlcnkgLWNhdGFsb2c9XCInICsgYW1pV2ViQXBwLnRleHRUb1N0cmluZyh0aGlzLmN0eC5jYXRhbG9nKSArICdcIiAtZW50aXR5PVwiJyArIGFtaVdlYkFwcC50ZXh0VG9TdHJpbmcodGhpcy5jdHguZW50aXR5KSArICdcIiAtbXFsPVwiU0VMRUNUICogXCInLCB7c2hvd1Rvb2xCYXIgOiB0cnVlLCBzaG93RGV0YWlsczogdHJ1ZSwgc2hvd1Rvb2xzIDogdHJ1ZSwgY2FuRWRpdDogdHJ1ZSwgY2F0YWxvZzogdGhpcy5jdHguY2F0YWxvZywgZW50aXR5OiB0aGlzLmN0eC5lbnRpdHl9KS5kb25lKCgpID0+IHtcblxuXHRcdFx0XHRhbWlXZWJBcHAudW5sb2NrKCk7XG5cblx0XHRcdFx0cmVzdWx0LnJlc29sdmVXaXRoKHRoaXMuY3R4LmNvbnRleHQpO1xuXG5cdFx0XHR9KS5mYWlsKChtZXNzYWdlKSA9PiB7XG5cblx0XHRcdFx0YW1pV2ViQXBwLmVycm9yKG1lc3NhZ2UsIHRydWUpO1xuXG5cdFx0XHRcdHJlc3VsdC5yZXNvbHZlV2l0aCh0aGlzLmN0eC5jb250ZXh0KTtcblx0XHRcdH0pXG5cdFx0fSk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRyZXR1cm4gcmVzdWx0LnByb21pc2UoKTtcblx0fVxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG59KTtcblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4iXX0=
