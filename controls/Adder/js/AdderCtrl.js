/*!
 * AMI Web Framework
 *
 * Copyright (c) 2014-XXXX The AMI Team / LPSC / CNRS
 *
 * This file must be used under the terms of the CeCILL-C:
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-fr.html
 *
 */$AMIClass("AdderCtrl",{$extends:ami.Control,$init:function $init(parent,owner){this.$super.$init(parent,owner)},onReady:function onReady(){var _this=this;return amiWebApp.loadResources([amiWebApp.originURL+"/controls/Adder/css/AdderCtrl.css",amiWebApp.originURL+"/controls/Adder/twig/AdderCtrl.twig","ctrl:table"]).done(function(data){_this.fragmentAddCtrl=data[1];_this._fieldEditorCtor=data[2];_this._tableCtor=data[3]})},render:function render(selector,settings){var _this2=this;var result=$.Deferred();this.ctx={};var _amiWebApp$setup=amiWebApp.setup(["context","catalog","entity","field"],[result,"","",""],settings),context=_amiWebApp$setup[0],catalog=_amiWebApp$setup[1],entity=_amiWebApp$setup[2],field=_amiWebApp$setup[3];this.ctx.context=context;this.ctx.catalog=catalog;this.ctx.entity=entity;this.ctx.field=field;this.table=new this._tableCtor(this);this.replaceHTML(this._selector=selector,this.fragmentAddCtrl,{dict:settings}).done(function(){$(_this2.patchId("#F8A7229A_60B1_0D37_BA18_807B7E29C818")).click(function(e){_this2.table.fieldEditor.showRowModal(_this2.ctx.catalog,_this2.ctx.entity)});$(_this2.patchId("#EBB91625_148B_1606_0D40_30BF170B11EE")).click(function(e){var mql="SELECT *";var val=$(_this2.patchId("#B28F6454_3862_3031_6BAF_98392DE9C377")).val();if(val){mql+=" WHERE `"+_this2.ctx.field+"` LIKE '%"+val+"%'"}_this2.table.render("#"+_this2.patchId("D6FDA711_E893_7CB9_9B97_4161B2CDE139"),"SearchQuery -catalog=\""+amiWebApp.textToString(_this2.ctx.catalog)+"\" -entity=\""+amiWebApp.textToString(_this2.ctx.entity)+"\" -mql=\""+amiWebApp.textToString(mql)+"\"",{showToolBar:true,showDetails:true,showTools:true,canEdit:true,catalog:_this2.ctx.catalog,entity:_this2.ctx.entity}).done(function(){amiWebApp.unlock()}).fail(function(message){amiWebApp.error(message,true)})});_this2.table.render(_this2.patchId("#D6FDA711_E893_7CB9_9B97_4161B2CDE139"),"SearchQuery -catalog=\""+amiWebApp.textToString(_this2.ctx.catalog)+"\" -entity=\""+amiWebApp.textToString(_this2.ctx.entity)+"\" -mql=\"SELECT * \"",{showToolBar:true,showDetails:true,showTools:true,canEdit:true,catalog:_this2.ctx.catalog,entity:_this2.ctx.entity}).done(function(){amiWebApp.unlock();result.resolveWith(_this2.ctx.context)}).fail(function(message){amiWebApp.error(message,true);result.resolveWith(_this2.ctx.context)})});return result.promise()}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFkZGVyQ3RybC5lczYuanMiXSwibmFtZXMiOlsiJEFNSUNsYXNzIiwiJGV4dGVuZHMiLCJhbWkiLCJDb250cm9sIiwiJGluaXQiLCJwYXJlbnQiLCJvd25lciIsIiRzdXBlciIsIm9uUmVhZHkiLCJhbWlXZWJBcHAiLCJsb2FkUmVzb3VyY2VzIiwib3JpZ2luVVJMIiwiZG9uZSIsImRhdGEiLCJmcmFnbWVudEFkZEN0cmwiLCJfZmllbGRFZGl0b3JDdG9yIiwiX3RhYmxlQ3RvciIsInJlbmRlciIsInNlbGVjdG9yIiwic2V0dGluZ3MiLCJyZXN1bHQiLCIkIiwiRGVmZXJyZWQiLCJjdHgiLCJzZXR1cCIsImNvbnRleHQiLCJjYXRhbG9nIiwiZW50aXR5IiwiZmllbGQiLCJ0YWJsZSIsInJlcGxhY2VIVE1MIiwiX3NlbGVjdG9yIiwiZGljdCIsInBhdGNoSWQiLCJjbGljayIsImUiLCJmaWVsZEVkaXRvciIsInNob3dSb3dNb2RhbCIsIm1xbCIsInZhbCIsInRleHRUb1N0cmluZyIsInNob3dUb29sQmFyIiwic2hvd0RldGFpbHMiLCJzaG93VG9vbHMiLCJjYW5FZGl0IiwidW5sb2NrIiwiZmFpbCIsIm1lc3NhZ2UiLCJlcnJvciIsInJlc29sdmVXaXRoIiwicHJvbWlzZSJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7OztHQWFBQSxTQUFTLENBQUMsV0FBRCxDQUFjLENBR3RCQyxRQUFRLENBQUVDLEdBQUcsQ0FBQ0MsT0FIUSxDQU90QkMsS0FBSyxDQUFFLGVBQVNDLE1BQVQsQ0FBaUJDLEtBQWpCLENBQ1AsQ0FDQyxLQUFLQyxNQUFMLENBQVlILEtBQVosQ0FBa0JDLE1BQWxCLENBQTBCQyxLQUExQixDQUNBLENBVnFCLENBY3RCRSxPQUFPLENBQUUsa0JBQ1QsZ0JBQ0MsTUFBT0MsQ0FBQUEsU0FBUyxDQUFDQyxhQUFWLENBQXdCLENBQzlCRCxTQUFTLENBQUNFLFNBQVYsQ0FBc0IsbUNBRFEsQ0FFOUJGLFNBQVMsQ0FBQ0UsU0FBVixDQUFzQixxQ0FG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TUFBTSxDQUFDNkIsV0FBUCxDQUFtQixNQUFJLENBQUMxQixHQUFMLENBQVNFLE9BQTVCLENBQ0EsQ0FYRCxDQVlBLENBOUNELEVBa0RBLE1BQU9MLENBQUFBLE1BQU0sQ0FBQzhCLE9BQVAsRUFDUCxDQXJIcUIsQ0FBZCxDQUFUIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBBTUkgV2ViIEZyYW1ld29ya1xuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNC1YWFhYIFRoZSBBTUkgVGVhbSAvIExQU0MgLyBDTlJTXG4gKlxuICogVGhpcyBmaWxlIG11c3QgYmUgdXNlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIENlQ0lMTC1DOlxuICogaHR0cDovL3d3dy5jZWNpbGwuaW5mby9saWNlbmNlcy9MaWNlbmNlX0NlQ0lMTC1DX1YxLWVuLmh0bWxcbiAqIGh0dHA6Ly93d3cuY2VjaWxsLmluZm8vbGljZW5jZXMvTGljZW5jZV9DZUNJTEwtQ19WMS1mci5odG1sXG4gKlxuICovXG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4kQU1JQ2xhc3MoJ0FkZGVyQ3RybCcsIHtcblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQkZXh0ZW5kczogYW1pLkNvbnRyb2wsXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQkaW5pdDogZnVuY3Rpb24ocGFyZW50LCBvd25lcilcblx0e1xuXHRcdHRoaXMuJHN1cGVyLiRpbml0KHBhcmVudCwgb3duZXIpO1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0b25SZWFkeTogZnVuY3Rpb24oKVxuXHR7XG5cdFx0cmV0dXJuIGFtaVdlYkFwcC5sb2FkUmVzb3VyY2VzKFtcblx0XHRcdGFtaVdlYkFwcC5vcmlnaW5VUkwgKyAnL2NvbnRyb2xzL0FkZGVyL2Nzcy9BZGRlckN0cmwuY3NzJyxcblx0XHRcdGFtaVdlYkFwcC5vcmlnaW5VUkwgKyAnL2NvbnRyb2xzL0FkZGVyL3R3aWcvQWRkZXJDdHJsLnR3aWcnLFxuXHRcdFx0LyoqL1xuXHRcdFx0J2N0cmw6dGFibGUnXG5cdFx0XSkuZG9uZSgoZGF0YSkgPT4ge1xuXG5cdFx0XHR0aGlzLmZyYWdtZW50QWRkQ3RybCA9IGRhdGFbMV07XG5cdFx0XHR0aGlzLl9maWVsZEVkaXRvckN0b3IgPSBkYXRhWzJdO1xuXHRcdFx0dGhpcy5fdGFibGVDdG9yID0gZGF0YVszXTtcblx0XHR9KTtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdHJlbmRlcjogZnVuY3Rpb24oc2VsZWN0b3IsIHNldHRpbmdzKVxuXHR7XG5cdFx0Y29uc3QgcmVzdWx0ID0gJC5EZWZlcnJlZCgpO1xuXG5cdFx0dGhpcy5jdHggPSB7fTtcblxuXHRcdC8qKi9cblxuXHRcdGNvbnN0IFtcblx0XHRcdGNvbnRleHQsXG5cdFx0XHRjYXRhbG9nLCBlbnRpdHksIGZpZWxkLFxuXHRcdF0gPSBhbWlXZWJBcHAuc2V0dXAoXG5cdFx0XHRbXG5cdFx0XHRcdCdjb250ZXh0Jyxcblx0XHRcdFx0J2NhdGFsb2cnLCAnZW50aXR5JywgJ2ZpZWxkJyxcblx0XHRcdF0sXG5cdFx0XHRbXG5cdFx0XHRcdHJlc3VsdCxcblx0XHRcdFx0JycsICcnLCAnJyxcblx0XHRcdF0sXG5cdFx0XHRzZXR0aW5nc1xuXHRcdCk7XG5cblx0XHR0aGlzLmN0eC5jb250ZXh0ID0gY29udGV4dDtcblxuXHRcdHRoaXMuY3R4LmNhdGFsb2cgPSBjYXRhbG9nO1xuXHRcdHRoaXMuY3R4LmVudGl0eSA9IGVudGl0eTtcblx0XHR0aGlzLmN0eC5maWVsZCA9IGZpZWxkO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0dGhpcy50YWJsZSA9IG5ldyB0aGlzLl90YWJsZUN0b3IodGhpcyk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHR0aGlzLnJlcGxhY2VIVE1MKHRoaXMuX3NlbGVjdG9yID0gc2VsZWN0b3IsIHRoaXMuZnJhZ21lbnRBZGRDdHJsLCB7ZGljdDogc2V0dGluZ3N9KS5kb25lKCgpID0+IHtcblxuXHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRcdCQodGhpcy5wYXRjaElkKCcjRjhBNzIyOUFfNjBCMV8wRDM3X0JBMThfODA3QjdFMjlDODE4JykpLmNsaWNrKChlKSA9PiB7XG5cblx0XHRcdFx0dGhpcy50YWJsZS5maWVsZEVkaXRvci5zaG93Um93TW9kYWwodGhpcy5jdHguY2F0YWxvZywgdGhpcy5jdHguZW50aXR5KTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0JCh0aGlzLnBhdGNoSWQoJyNFQkI5MTYyNV8xNDhCXzE2MDZfMEQ0MF8zMEJGMTcwQjExRUUnKSkuY2xpY2soKGUpID0+IHtcblxuXHRcdFx0XHRcdGxldCBtcWwgPSAnU0VMRUNUIConO1xuXG5cdFx0XHRcdFx0Y29uc3QgdmFsID0gJCh0aGlzLnBhdGNoSWQoJyNCMjhGNjQ1NF8zODYyXzMwMzFfNkJBRl85ODM5MkRFOUMzNzcnKSkudmFsKCk7XG5cblx0XHRcdFx0XHRpZih2YWwpXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0bXFsICs9ICcgV0hFUkUgYCcgKyB0aGlzLmN0eC5maWVsZCArICdgIExJS0UgXFwnJScgKyB2YWwgKyAnJVxcJydcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0dGhpcy50YWJsZS5yZW5kZXIoJyMnICsgdGhpcy5wYXRjaElkKCdENkZEQTcxMV9FODkzXzdDQjlfOUI5N180MTYxQjJDREUxMzknKSwgJ1NlYXJjaFF1ZXJ5IC1jYXRhbG9nPVwiJyArIGFtaVdlYkFwcC50ZXh0VG9TdHJpbmcodGhpcy5jdHguY2F0YWxvZykgKyAnXCIgLWVudGl0eT1cIicgKyBhbWlXZWJBcHAudGV4dFRvU3RyaW5nKHRoaXMuY3R4LmVudGl0eSkgKyAnXCIgLW1xbD1cIicgKyBhbWlXZWJBcHAudGV4dFRvU3RyaW5nKG1xbCkgKyAnXCInLCB7c2hvd1Rvb2xCYXIgOiB0cnVlLCBzaG93RGV0YWlsczogdHJ1ZSwgc2hvd1Rvb2xzIDogdHJ1ZSwgY2FuRWRpdDogdHJ1ZSwgY2F0YWxvZzogdGhpcy5jdHguY2F0YWxvZywgZW50aXR5OiB0aGlzLmN0eC5lbnRpdHl9KS5kb25lKCgpID0+IHtcblxuXHRcdFx0XHRcdGFtaVdlYkFwcC51bmxvY2soKTtcblxuXHRcdFx0XHR9KS5mYWlsKChtZXNzYWdlKSA9PiB7XG5cblx0XHRcdFx0XHRhbWlXZWJBcHAuZXJyb3IobWVzc2FnZSwgdHJ1ZSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHR0aGlzLnRhYmxlLnJlbmRlcih0aGlzLnBhdGNoSWQoJyNENkZEQTcxMV9FODkzXzdDQjlfOUI5N180MTYxQjJDREUxMzknKSwgJ1NlYXJjaFF1ZXJ5IC1jYXRhbG9nPVwiJyArIGFtaVdlYkFwcC50ZXh0VG9TdHJpbmcodGhpcy5jdHguY2F0YWxvZykgKyAnXCIgLWVudGl0eT1cIicgKyBhbWlXZWJBcHAudGV4dFRvU3RyaW5nKHRoaXMuY3R4LmVudGl0eSkgKyAnXCIgLW1xbD1cIlNFTEVDVCAqIFwiJywge3Nob3dUb29sQmFyIDogdHJ1ZSwgc2hvd0RldGFpbHM6IHRydWUsIHNob3dUb29scyA6IHRydWUsIGNhbkVkaXQ6IHRydWUsIGNhdGFsb2c6IHRoaXMuY3R4LmNhdGFsb2csIGVudGl0eTogdGhpcy5jdHguZW50aXR5fSkuZG9uZSgoKSA9PiB7XG5cblx0XHRcdFx0YW1pV2ViQXBwLnVubG9jaygpO1xuXG5cdFx0XHRcdHJlc3VsdC5yZXNvbHZlV2l0aCh0aGlzLmN0eC5jb250ZXh0KTtcblxuXHRcdFx0fSkuZmFpbCgobWVzc2FnZSkgPT4ge1xuXG5cdFx0XHRcdGFtaVdlYkFwcC5lcnJvcihtZXNzYWdlLCB0cnVlKTtcblxuXHRcdFx0XHRyZXN1bHQucmVzb2x2ZVdpdGgodGhpcy5jdHguY29udGV4dCk7XG5cdFx0XHR9KVxuXHRcdH0pO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0cmV0dXJuIHJlc3VsdC5wcm9taXNlKCk7XG5cdH1cblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xufSk7XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuIl19
