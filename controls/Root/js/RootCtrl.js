/*!
 * AMI Web Framework
 *
 * Copyright (c) 2014-XXXX The AMI Team / LPSC / CNRS
 *
 * This file must be used under the terms of the CeCILL-C:
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-fr.html
 *
 */$AMIClass("RootCtrl",{$extends:ami.Control,$init:function $init(parent,owner){this.$super.$init(parent,owner)},onReady:function onReady(){var _this=this;return amiWebApp.loadResources(["https://root.cern/js/latest/scripts/JSRootCore.min.js",amiWebApp.originURL+"/controls/Root/twig/RootCtrl.twig"]).done(function(data){_this.fragmentRootCtrl=data[1]})},render:function render(selector,commandOrJson,settings){var _this2=this;var result=$.Deferred();commandOrJson=commandOrJson.trim();var _amiWebApp$setup=amiWebApp.setup(["context","height","width"],[result,768,1024],settings),context=_amiWebApp$setup[0],height=_amiWebApp$setup[1],width=_amiWebApp$setup[2];if(commandOrJson.startsWith("{")){this._render(selector,commandOrJson,commandOrJson,height,width,false,settings).done(function(){result.resolveWith(context,[commandOrJson])})}else{amiWebApp.lock();amiCommand.execute(commandOrJson).done(function(data,message){var rows=amiWebApp.jspath("..rowset{.@type===\"hist\" }.row",data)||[];if(rows.length>0){var json=amiWebApp.jspath("..field{.@name===\"json\"}.$",rows)[0]||"{}";_this2._render(selector,commandOrJson,json,height,width,true,settings).done(function(data){result.resolveWith(context,[data]);amiWebApp.unlock()})}else{result.resolveWith(context,["not a ROOT histogram"]);amiWebApp.unlock()}}).fail(function(data,message){result.resolveWith(context,[message]);amiWebApp.unlock()})}return result.promise()},_render:function _render(selector,commandOrJson,json,height,width,tools,settings){var _this3=this;var JSON=JSROOT.parse(json);var dict={height:height,width:width,xAxis:"fXaxis"in JSON,yAxis:"fYaxis"in JSON,zAxis:"fZaxis"in JSON};return this.replaceHTML(this._selector=selector,this.fragmentRootCtrl,{dict:dict}).done(function(){JSROOT.draw(_this3.patchId("#E65240C8_73B7_B44C_52BB_388FFEEE01BD"),JSON,"hist");if(tools){$(_this3.patchId("#D5A34EA0_1E22_5DEE_473C_2AFA1D9EB28B")).click(function(){var xMin=$(_this3.patchId("#FAEC8E36_E668_9EBB_A36D_243C3F4C28BA")).val();var xMax=$(_this3.patchId("#BF663B5D_240E_A97D_9963_03F94166AB22")).val();var yMin=$(_this3.patchId("#E8924675_0D6A_99CE_363C_4BF4475B30FF")).val();var yMax=$(_this3.patchId("#CD6401B9_5882_F498_0039_FFD4CDF22C65")).val();var zMin=$(_this3.patchId("#AA2E78B1_FC85_C2FA_A5ED_5E1FF3039775")).val();var zMax=$(_this3.patchId("#E56BD713_6FBB_F319_D823_04E17866C674")).val();var numberOfBins=$(_this3.patchId("#C7CE39F6_B319_EDDD_CA19_E98DEF899372")).val();commandOrJson=commandOrJson.replace(/\s*-xMin\s*=\s*"[^"]*"/g,"").replace(/\s*-xMax\s*=\s*"[^"]*"/g,"").replace(/\s*-yMin\s*=\s*"[^"]*"/g,"").replace(/\s*-yMax\s*=\s*"[^"]*"/g,"").replace(/\s*-zMin\s*=\s*"[^"]*"/g,"").replace(/\s*-zMax\s*=\s*"[^"]*"/g,"").replace(/\s*-numberOfBins\s*=\s*"[^"]*"/g,"");_this3.render(selector,commandOrJson+" -xMin=\""+xMin+"\" -xMax=\""+xMax+"\" -yMin=\""+yMin+"\" -yMax=\""+yMax+"\" -zMin=\""+zMin+"\" -zMax=\""+zMax+"\" -numberOfBins=\""+numberOfBins+"\"",settings)});if("fXaxis"in JSON){$(_this3.patchId("#FAEC8E36_E668_9EBB_A36D_243C3F4C28BA")).val(JSON.fXaxis.fXmin);$(_this3.patchId("#BF663B5D_240E_A97D_9963_03F94166AB22")).val(JSON.fXaxis.fXmax)}if("fYaxis"in JSON){$(_this3.patchId("#E8924675_0D6A_99CE_363C_4BF4475B30FF")).val(JSON.fYaxis.fXmin);$(_this3.patchId("#CD6401B9_5882_F498_0039_FFD4CDF22C65")).val(JSON.fYaxis.fXmax)}if("fZaxis"in JSON){$(_this3.patchId("#AA2E78B1_FC85_C2FA_A5ED_5E1FF3039775")).val(JSON.fYaxis.fXmin);$(_this3.patchId("#E56BD713_6FBB_F319_D823_04E17866C674")).val(JSON.fYaxis.fXmax)}$(_this3.patchId("#C7CE39F6_B319_EDDD_CA19_E98DEF899372")).val(JSON.fNcells);$(_this3.patchId("#A1908273_5C91_D702_DA03_41FC7EF2051A")).show()}else{$(_this3.patchId("#A1908273_5C91_D702_DA03_41FC7EF2051A")).hide()}})}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJvb3RDdHJsLmVzNi5qcyJdLCJuYW1lcyI6WyIkQU1JQ2xhc3MiLCIkZXh0ZW5kcyIsImFtaSIsIkNvbnRyb2wiLCIkaW5pdCIsInBhcmVudCIsIm93bmVyIiwiJHN1cGVyIiwib25SZWFkeSIsImFtaVdlYkFwcCIsImxvYWRSZXNvdXJjZXMiLCJvcmlnaW5VUkwiLCJkb25lIiwiZGF0YSIsImZyYWdtZW50Um9vdEN0cmwiLCJyZW5kZXIiLCJzZWxlY3RvciIsImNvbW1hbmRPckpzb24iLCJzZXR0aW5ncyIsInJlc3VsdCIsIiQiLCJEZWZlcnJlZCIsInRyaW0iLCJzZXR1cCIsImNvbnRleHQiLCJoZWlnaHQiLCJ3aWR0aCIsInN0YXJ0c1dpdGgiLCJfcmVuZGVyIiwicmVzb2x2ZVdpdGgiLCJsb2NrIiwiYW1pQ29tbWFuZCIsImV4ZWN1dGUiLCJtZXNzYWdlIiwicm93cyIsImpzcGF0aCIsImxlbmd0aCIsImpzb24iLCJ1bmxvY2siLCJmYWlsIiwicHJvbWlzZSIsInRvb2xzIiwiSlNPTiIsIkpTUk9PVCIsInBhcnNlIiwiZGljdCIsInhBeGlzIiwieUF4aXMiLCJ6QXhpcyIsInJlcGxhY2VIVE1MIiwiX3NlbGVjdG9yIiwiZHJhdyIsInBhdGNoSWQiLCJjbGljayIsInhNaW4iLCJ2YWwiLCJ4TWF4IiwieU1pbiIsInlNYXgiLCJ6TWluIiwiek1heCIsIm51bWJlck9mQmlucyIsInJlcGxhY2UiLCJmWGF4aXMiLCJmWG1pbiIsImZYbWF4IiwiZllheGlzIiwiZk5jZWxscyIsInNob3ciLCJoaWRlIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7O0dBYUFBLFNBQVMsQ0FBQyxVQUFELENBQWEsQ0FHckJDLFFBQVEsQ0FBRUMsR0FBRyxDQUFDQyxPQUhPLENBT3JCQyxLQUFLLENBQUUsZUFBU0MsTUFBVCxDQUFpQkMsS0FBakIsQ0FDUCxDQUNDLEtBQUtDLE1BQUwsQ0FBWUgsS0FBWixDQUFrQkMsTUFBbEIsQ0FBMEJDLEtBQTFCLENBQ0EsQ0FWb0IsQ0Fj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QUFELENBQXlEaUIsSUFBekQsRUFDQSxDQUdELENBbEVNLENBbUVQLENBdkxvQixDQUFiLENBQVQiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEFNSSBXZWIgRnJhbWV3b3JrXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LVhYWFggVGhlIEFNSSBUZWFtIC8gTFBTQyAvIENOUlNcbiAqXG4gKiBUaGlzIGZpbGUgbXVzdCBiZSB1c2VkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgQ2VDSUxMLUM6XG4gKiBodHRwOi8vd3d3LmNlY2lsbC5pbmZvL2xpY2VuY2VzL0xpY2VuY2VfQ2VDSUxMLUNfVjEtZW4uaHRtbFxuICogaHR0cDovL3d3dy5jZWNpbGwuaW5mby9saWNlbmNlcy9MaWNlbmNlX0NlQ0lMTC1DX1YxLWZyLmh0bWxcbiAqXG4gKi9cblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiRBTUlDbGFzcygnUm9vdEN0cmwnLCB7XG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0JGV4dGVuZHM6IGFtaS5Db250cm9sLFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0JGluaXQ6IGZ1bmN0aW9uKHBhcmVudCwgb3duZXIpXG5cdHtcblx0XHR0aGlzLiRzdXBlci4kaW5pdChwYXJlbnQsIG93bmVyKTtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdG9uUmVhZHk6IGZ1bmN0aW9uKClcblx0e1xuXHRcdHJldHVybiBhbWlXZWJBcHAubG9hZFJlc291cmNlcyhbXG5cdFx0XHQnaHR0cHM6Ly9yb290LmNlcm4vanMvbGF0ZXN0L3NjcmlwdHMvSlNSb290Q29yZS5taW4uanMnLFxuXHRcdFx0YW1pV2ViQXBwLm9yaWdpblVSTCArICcvY29udHJvbHMvUm9vdC90d2lnL1Jvb3RDdHJsLnR3aWcnLFxuXHRcdF0pLmRvbmUoKGRhdGEpID0+IHtcblxuXHRcdFx0dGhpcy5mcmFnbWVudFJvb3RDdHJsID0gZGF0YVsxXTtcblx0XHR9KTtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdHJlbmRlcjogZnVuY3Rpb24oc2VsZWN0b3IsIGNvbW1hbmRPckpzb24sIHNldHRpbmdzKVxuXHR7XG5cdFx0Y29uc3QgcmVzdWx0ID0gJC5EZWZlcnJlZCgpO1xuXG5cdFx0Y29tbWFuZE9ySnNvbiA9IGNvbW1hbmRPckpzb24udHJpbSgpO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0Y29uc3QgW1xuXHRcdFx0Y29udGV4dCxcblx0XHRcdGhlaWdodCwgd2lkdGhcblx0XHRdID0gYW1pV2ViQXBwLnNldHVwKFxuXHRcdFx0W1xuXHRcdFx0XHQnY29udGV4dCcsXG5cdFx0XHRcdCdoZWlnaHQnLCAnd2lkdGgnLFxuXHRcdFx0XSxcblx0XHRcdFtcblx0XHRcdFx0cmVzdWx0LFxuXHRcdFx0XHQ3NjgsIDEwMjQsXG5cdFx0XHRdLFxuXHRcdFx0c2V0dGluZ3Ncblx0XHQpO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0aWYoY29tbWFuZE9ySnNvbi5zdGFydHNXaXRoKCd7JykpXG5cdFx0e1xuXHRcdFx0dGhpcy5fcmVuZGVyKHNlbGVjdG9yLCBjb21tYW5kT3JKc29uLCBjb21tYW5kT3JKc29uLCBoZWlnaHQsIHdpZHRoLCBmYWxzZSwgc2V0dGluZ3MpLmRvbmUoKCkgPT4ge1xuXG5cdFx0XHRcdHJlc3VsdC5yZXNvbHZlV2l0aChjb250ZXh0LCBbY29tbWFuZE9ySnNvbl0pO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdGVsc2Vcblx0XHR7XG5cdFx0XHRhbWlXZWJBcHAubG9jaygpO1xuXG5cdFx0XHRhbWlDb21tYW5kLmV4ZWN1dGUoY29tbWFuZE9ySnNvbikuZG9uZSgoZGF0YSwgbWVzc2FnZSkgPT4ge1xuXG5cdFx0XHRcdGNvbnN0IHJvd3MgPSBhbWlXZWJBcHAuanNwYXRoKCcuLnJvd3NldHsuQHR5cGU9PT1cImhpc3RcIiB9LnJvdycsIGRhdGEpIHx8IFtdO1xuXG5cdFx0XHRcdGlmKHJvd3MubGVuZ3RoID4gMClcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGNvbnN0IGpzb24gPSBhbWlXZWJBcHAuanNwYXRoKCcuLmZpZWxkey5AbmFtZT09PVwianNvblwifS4kJywgcm93cylbMF0gfHwgJ3t9JztcblxuXHRcdFx0XHRcdHRoaXMuX3JlbmRlcihzZWxlY3RvciwgY29tbWFuZE9ySnNvbiwganNvbiwgaGVpZ2h0LCB3aWR0aCwgdHJ1ZSwgc2V0dGluZ3MpIC5kb25lKChkYXRhKSA9PiB7XG5cblx0XHRcdFx0XHRcdHJlc3VsdC5yZXNvbHZlV2l0aChjb250ZXh0LCBbLyotLS0tKi8gZGF0YSAvKi0tLS0qLyBdKTtcblxuXHRcdFx0XHRcdFx0YW1pV2ViQXBwLnVubG9jaygpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHJlc3VsdC5yZXNvbHZlV2l0aChjb250ZXh0LCBbJ25vdCBhIFJPT1QgaGlzdG9ncmFtJ10pO1xuXG5cdFx0XHRcdFx0YW1pV2ViQXBwLnVubG9jaygpO1xuXHRcdFx0XHR9XG5cblx0XHRcdH0pLmZhaWwoKGRhdGEsIG1lc3NhZ2UpID0+IHtcblxuXHRcdFx0XHRyZXN1bHQucmVzb2x2ZVdpdGgoY29udGV4dCwgWy8qLSovIG1lc3NhZ2UgLyotKi9dKTtcblxuXHRcdFx0XHRhbWlXZWJBcHAudW5sb2NrKCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRyZXR1cm4gcmVzdWx0LnByb21pc2UoKTtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdF9yZW5kZXI6IGZ1bmN0aW9uKHNlbGVjdG9yLCBjb21tYW5kT3JKc29uLCBqc29uLCBoZWlnaHQsIHdpZHRoLCB0b29scywgc2V0dGluZ3MpXG5cdHtcblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRjb25zdCBKU09OID0gSlNST09ULnBhcnNlKGpzb24pO1xuXG5cdFx0Y29uc3QgZGljdCA9IHtcblx0XHRcdGhlaWdodDogaGVpZ2h0LFxuXHRcdFx0d2lkdGg6IHdpZHRoLFxuXHRcdFx0eEF4aXM6ICdmWGF4aXMnIGluIEpTT04sXG5cdFx0XHR5QXhpczogJ2ZZYXhpcycgaW4gSlNPTixcblx0XHRcdHpBeGlzOiAnZlpheGlzJyBpbiBKU09OLFxuXHRcdH07XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRyZXR1cm4gdGhpcy5yZXBsYWNlSFRNTCh0aGlzLl9zZWxlY3RvciA9IHNlbGVjdG9yLCB0aGlzLmZyYWdtZW50Um9vdEN0cmwsIHtkaWN0OiBkaWN0fSkuZG9uZSgoKSA9PiB7XG5cblx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRKU1JPT1QuZHJhdyh0aGlzLnBhdGNoSWQoJyNFNjUyNDBDOF83M0I3X0I0NENfNTJCQl8zODhGRkVFRTAxQkQnKSwgSlNPTiwgJ2hpc3QnKTtcblxuXHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRcdGlmKHRvb2xzKVxuXHRcdFx0e1xuXHRcdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRcdCQodGhpcy5wYXRjaElkKCcjRDVBMzRFQTBfMUUyMl81REVFXzQ3M0NfMkFGQTFEOUVCMjhCJykpLmNsaWNrKCgpID0+IHtcblxuXHRcdFx0XHRcdGNvbnN0IHhNaW4gPSAkKHRoaXMucGF0Y2hJZCgnI0ZBRUM4RTM2X0U2NjhfOUVCQl9BMzZEXzI0M0MzRjRDMjhCQScpKS52YWwoKTtcblx0XHRcdFx0XHRjb25zdCB4TWF4ID0gJCh0aGlzLnBhdGNoSWQoJyNCRjY2M0I1RF8yNDBFX0E5N0RfOTk2M18wM0Y5NDE2NkFCMjInKSkudmFsKCk7XG5cdFx0XHRcdFx0Y29uc3QgeU1pbiA9ICQodGhpcy5wYXRjaElkKCcjRTg5MjQ2NzVfMEQ2QV85OUNFXzM2M0NfNEJGNDQ3NUIzMEZGJykpLnZhbCgpO1xuXHRcdFx0XHRcdGNvbnN0IHlNYXggPSAkKHRoaXMucGF0Y2hJZCgnI0NENjQwMUI5XzU4ODJfRjQ5OF8wMDM5X0ZGRDRDREYyMkM2NScpKS52YWwoKTtcblx0XHRcdFx0XHRjb25zdCB6TWluID0gJCh0aGlzLnBhdGNoSWQoJyNBQTJFNzhCMV9GQzg1X0MyRkFfQTVFRF81RTFGRjMwMzk3NzUnKSkudmFsKCk7XG5cdFx0XHRcdFx0Y29uc3Qgek1heCA9ICQodGhpcy5wYXRjaElkKCcjRTU2QkQ3MTNfNkZCQl9GMzE5X0Q4MjNfMDRFMTc4NjZDNjc0JykpLnZhbCgpO1xuXHRcdFx0XHRcdGNvbnN0IG51bWJlck9mQmlucyA9ICQodGhpcy5wYXRjaElkKCcjQzdDRTM5RjZfQjMxOV9FREREX0NBMTlfRTk4REVGODk5MzcyJykpLnZhbCgpO1xuXG5cdFx0XHRcdFx0Y29tbWFuZE9ySnNvbiA9IGNvbW1hbmRPckpzb24ucmVwbGFjZSgvXFxzKi14TWluXFxzKj1cXHMqXCJbXlwiXSpcIi9nLCAnJylcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAucmVwbGFjZSgvXFxzKi14TWF4XFxzKj1cXHMqXCJbXlwiXSpcIi9nLCAnJylcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAucmVwbGFjZSgvXFxzKi15TWluXFxzKj1cXHMqXCJbXlwiXSpcIi9nLCAnJylcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAucmVwbGFjZSgvXFxzKi15TWF4XFxzKj1cXHMqXCJbXlwiXSpcIi9nLCAnJylcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAucmVwbGFjZSgvXFxzKi16TWluXFxzKj1cXHMqXCJbXlwiXSpcIi9nLCAnJylcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAucmVwbGFjZSgvXFxzKi16TWF4XFxzKj1cXHMqXCJbXlwiXSpcIi9nLCAnJylcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAucmVwbGFjZSgvXFxzKi1udW1iZXJPZkJpbnNcXHMqPVxccypcIlteXCJdKlwiL2csICcnKVxuXHRcdFx0XHRcdDtcblxuXHRcdFx0XHRcdHRoaXMucmVuZGVyKHNlbGVjdG9yLCBjb21tYW5kT3JKc29uICsgJyAteE1pbj1cIicgKyB4TWluICsgJ1wiIC14TWF4PVwiJyArIHhNYXggKyAnXCIgLXlNaW49XCInICsgeU1pbiArICdcIiAteU1heD1cIicgKyB5TWF4ICsgJ1wiIC16TWluPVwiJyArIHpNaW4gKyAnXCIgLXpNYXg9XCInICsgek1heCArICdcIiAtbnVtYmVyT2ZCaW5zPVwiJyArIG51bWJlck9mQmlucyArICdcIicsIHNldHRpbmdzKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0XHRpZignZlhheGlzJyBpbiBKU09OKVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0JCh0aGlzLnBhdGNoSWQoJyNGQUVDOEUzNl9FNjY4XzlFQkJfQTM2RF8yNDNDM0Y0QzI4QkEnKSkudmFsKEpTT04uZlhheGlzLmZYbWluKTtcblx0XHRcdFx0XHQkKHRoaXMucGF0Y2hJZCgnI0JGNjYzQjVEXzI0MEVfQTk3RF85OTYzXzAzRjk0MTY2QUIyMicpKS52YWwoSlNPTi5mWGF4aXMuZlhtYXgpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYoJ2ZZYXhpcycgaW4gSlNPTilcblx0XHRcdFx0e1xuXHRcdFx0XHRcdCQodGhpcy5wYXRjaElkKCcjRTg5MjQ2NzVfMEQ2QV85OUNFXzM2M0NfNEJGNDQ3NUIzMEZGJykpLnZhbChKU09OLmZZYXhpcy5mWG1pbik7XG5cdFx0XHRcdFx0JCh0aGlzLnBhdGNoSWQoJyNDRDY0MDFCOV81ODgyX0Y0OThfMDAzOV9GRkQ0Q0RGMjJDNjUnKSkudmFsKEpTT04uZllheGlzLmZYbWF4KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmKCdmWmF4aXMnIGluIEpTT04pXG5cdFx0XHRcdHtcblx0XHRcdFx0XHQkKHRoaXMucGF0Y2hJZCgnI0FBMkU3OEIxX0ZDODVfQzJGQV9BNUVEXzVFMUZGMzAzOTc3NScpKS52YWwoSlNPTi5mWWF4aXMuZlhtaW4pO1xuXHRcdFx0XHRcdCQodGhpcy5wYXRjaElkKCcjRTU2QkQ3MTNfNkZCQl9GMzE5X0Q4MjNfMDRFMTc4NjZDNjc0JykpLnZhbChKU09OLmZZYXhpcy5mWG1heCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQkKHRoaXMucGF0Y2hJZCgnI0M3Q0UzOUY2X0IzMTlfRURERF9DQTE5X0U5OERFRjg5OTM3MicpKS52YWwoSlNPTi5mTmNlbGxzKTtcblxuXHRcdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRcdCQodGhpcy5wYXRjaElkKCcjQTE5MDgyNzNfNUM5MV9ENzAyX0RBMDNfNDFGQzdFRjIwNTFBJykpLnNob3coKTtcblx0XHRcdH1cblx0XHRcdGVsc2Vcblx0XHRcdHtcblx0XHRcdFx0JCh0aGlzLnBhdGNoSWQoJyNBMTkwODI3M181QzkxX0Q3MDJfREEwM180MUZDN0VGMjA1MUEnKSkuaGlkZSgpO1xuXHRcdFx0fVxuXG5cdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0XHR9KTtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xufSk7XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuIl19
