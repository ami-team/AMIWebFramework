/*!
 * AMI Web Framework
 *
 * Copyright (c) 2014-XXXX The AMI Team / LPSC / IN2P3
 *
 * This file must be used under the terms of the CeCILL-C:
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-fr.html
 *
 * @global ClipboardJS
 *
 */$AMIClass("TextBoxCtrl",{$extends:ami.Control,$init:function $init(parent,owner){this.$super.$init(parent,owner)},onReady:function onReady(){var _this=this;return amiWebApp.loadResources([amiWebApp.originURL+"/controls/TextBox/twig/TextBoxCtrl.twig",amiWebApp.originURL+"/js/3rd-party/clipboard.min.js",amiWebApp.originURL+"/js/3rd-party/ace/ace.min.js"]).done(function(data){amiWebApp.appendHTML("body",data[0]).done(function(){var _class=_this.$class;$("#B8927006_7FCE_87BD_FC8D_C7575D69C362").on("hidden.bs.modal",function(){amiWebApp.modalLeave();_class.deferred.resolveWith(_class.context||_class.deferred)});new ClipboardJS("#B8927006_7FCE_87BD_FC8D_C7575D69C362 .btn[data-clipboard-target]")})})},render:function render(text,settings){var deferred=$.Deferred();var _amiWebApp$setup=amiWebApp.setup(["context","title","mode"],[deferred,"Text box","text"],settings),context=_amiWebApp$setup[0],title=_amiWebApp$setup[1],mode=_amiWebApp$setup[2];if(mode==="json"){try{if(amiWebApp.typeOf(text)!=="String"){text=JSON.stringify(text,null,2)}else{text=text.trim();if(text&&text.toUpperCase()!=="@NULL"){text=JSON.stringify(JSON.parse(text),null,2)}else{text="null"}}}catch(e){amiWebApp.error("invalid JSON string",true);text="null"}}$("#B6FA759D_D2DD_D079_B591_5023C422B87F").text(title);$("#B8927006_7FCE_87BD_FC8D_C7575D69C362 .form-editor").val(text).data("session").setMode("ace/mode/"+mode);$("#B8927006_7FCE_87BD_FC8D_C7575D69C362").modal("show");this.$class.deferred=deferred;this.$class.context=context;amiWebApp.modalEnter();return deferred.promise()},show:function show(text,settings){return this.render(text,settings)}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRleHRCb3hDdHJsLmVzNi5qcyJdLCJuYW1lcyI6WyIkQU1JQ2xhc3MiLCIkZXh0ZW5kcyIsImFtaSIsIkNvbnRyb2wiLCIkaW5pdCIsInBhcmVudCIsIm93bmVyIiwiJHN1cGVyIiwib25SZWFkeSIsImFtaVdlYkFwcCIsImxvYWRSZXNvdXJjZXMiLCJvcmlnaW5VUkwiLCJkb25lIiwiZGF0YSIsImFwcGVuZEhUTUwiLCJfY2xhc3MiLCIkY2xhc3MiLCIkIiwib24iLCJtb2RhbExlYXZlIiwiZGVmZXJyZWQiLCJyZXNvbHZlV2l0aCIsImNvbnRleHQiLCJDbGlwYm9hcmRKUyIsInJlbmRlciIsInRleHQiLCJzZXR0aW5ncyIsIkRlZmVycmVkIiwic2V0dXAiLCJ0aXRsZSIsIm1vZGUiLCJ0eXBlT2YiLCJKU09OIiwic3RyaW5naWZ5IiwidHJpbSIsInRvVXBwZXJDYXNlIiwicGFyc2UiLCJlIiwiZXJyb3IiLCJ2YWwiLCJzZXRNb2RlIiwibW9kYWwiLCJtb2RhbEVudGVyIiwicHJvbWlzZSIsInNob3ciXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7OztHQWVBQSxTQUFTLENBQUMsYUFBRCxDQUFnQixDQUd4QkMsUUFBUSxDQUFFQyxHQUFHLENBQUNDLE9BSFUsQ0FPeEJDLEtBQUssQ0FBRSxlQUFTQyxNQUFULENBQWlCQyxLQUFqQixDQUNQLENBQ0MsS0FBS0MsTUFBTCxDQUFZSCxLQUFaLENBQWtCQyxNQUFsQixDQUEwQkMsS0FBMUIsQ0FDQSxDQVZ1QixDQWN4QkUsT0FBTyxDQUFFLGtCQUNULGdCQUNDLE1BQU9DLENBQUFBLFNBQVMsQ0FBQ0MsYUFBVixDQUF3QixDQUM5QkQsU0FBUyxDQUFDRSxTQUFWLENBQXNCLHlDQURRLENBRTlCRixTQUFTLENBQUNFLFNBQVYsQ0FBc0IsZ0NBRlEsQ0FHOUJGLFNBQVMsQ0FBQ0UsU0FBVixDQUFzQiw4QkFIUSxDQUF4QixFQUlKQyxJQUpJLENBSUMsU0FBQ0MsSUFBRCxDQUFVLENBRWpCSixTQUFTLENBQUNLLFVBQVYsQ0FBcUIsTUFBckIsQ0FBNkJELElBQUksQ0FBQyxDQUFELENBQWpDLEVBQXNDRCxJQUF0QyxDQUEyQyxVQUFNLENBRWhELEdBQU1HLENBQUFBLE1BQU0sQ0FBRyxLQUFJLENBQUNDLE1BQXBCLENBSUFDLENBQUMsQ0FBQyx1Q0FBRCxDQUFELENBQTJDQyxFQUEzQyxDQUE4QyxpQkFBOUMsQ0FBaUUsVUFBTSxDQUV0RVQsU0FBUyxDQUFDVSxVQUFWLEdBRUFKLE1BQU0sQ0FBQ0ssUUFBUCxDQUFnQkMsV0FBaEIsQ0FBNEJOLE1BQU0sQ0FBQ08sT0FBUCxFQUFrQlAsTUFBTSxDQUFDSyxRQUFyRCxDQUNBLENBTEQsRUFTQSxHQUFJRyxDQUFBQSxXQUFKLENBQWdCLG1FQUFoQixDQUdBLENBbEJELENBbUJBLENBekJNLENBMEJQLENBMUN1QixDQThDeEJDLE1BQU0sQ0FBRSxnQkFBU0MsSUFBVCxDQUFlQyxRQUFmLENBQ1IsQ0FDQyxHQUFNTixDQUFBQSxRQUFRLENBQUdILENBQUMsQ0FBQ1UsUUFBRixFQUFqQixDQURELHFCQU9LbEIsU0FBUyxDQUFDbUIsS0FBVixDQUNILENBQUMsU0FBRCxDQUFZLE9BQVosQ0FBcUIsTUFBckIsQ0FERyxDQUVILENBQUNSLFFBQUQsQ0FBVyxVQUFYLENBQXVCLE1BQXZCLENBRkcsQ0FHSE0sUUFIRyxDQVBMLENBTUVKLE9BTkYscUJBTVdPLEtBTlgscUJBTWtCQyxJQU5sQixxQkFlQyxHQUFHQSxJQUFJLEdBQUssTUFBWixDQUNBLENBQ0MsR0FDQSxDQUNDLEdBQUdyQixTQUFTLENBQUNzQixNQUFWLENBQWlCTixJQUFqQixJQUEyQixRQUE5QixDQUNBLENBQ0NBLElBQUksQ0FBR08sSUFBSSxDQUFDQyxTQUFMLENBQTBCUixJQUExQixDQUFpQyxJQUFqQyxDQUF1QyxDQUF2QyxDQUNQLENBSEQsSUFLQSxDQUNDQSxJQUFJLENBQUdBLElBQUksQ0FBQ1MsSUFBTCxFQUFQLENBRUEsR0FBR1QsSUFBSSxFQUFJQSxJQUFJLENBQUNVLFdBQUwsS0FBdUIsT0FBbEMsQ0FDQSxDQUNDVixJQUFJLENBQUdPLElBQUksQ0FBQ0MsU0FBTCxDQUFlRCxJQUFJLENBQUNJLEtBQUwsQ0FBV1gsSUFBWCxDQUFmLENBQWlDLElBQWpDLENBQXVDLENBQXZDLENBQ1AsQ0FIRCxJQUtBLENBQ0NBLElBQUksQ0FBRyxNQUNQLENBQ0QsQ0FDRCxDQUNELE1BQU1ZLENBQU4sQ0FDQSxDQUNDNUIsU0FBUyxDQUFDNkIsS0FBVixDQUFnQixxQkFBaEIsQ0FBdUMsSUFBdkMsRUFFQWIsSUFBSSxDQUFHLE1BQ1AsQ0FDRCxDQUlEUixDQUFDLENBQUMsdUNBQUQsQ0FBRCxDQUEyQ1EsSUFBM0MsQ0FBZ0RJLEtBQWhELEVBRUFaLENBQUMsQ0FBQyxvREFBRCxDQUFELENBQXdEc0IsR0FBeEQsQ0FBNERkLElBQTVELEVBQWtFWixJQUFsRSxDQUF1RSxTQUF2RSxFQUFrRjJCLE9BQWxGLENBQTBGLFlBQWNWLElBQXhHLEVBRUFiLENBQUMsQ0FBQyx1Q0FBRCxDQUFELENBQTJDd0IsS0FBM0MsQ0FBaUQsTUFBakQsRUFFQSxLQUFLekIsTUFBTCxDQUFZSSxRQUFaLENBQXVCQSxRQUF2QixDQUNBLEtBQUtKLE1BQUwsQ0FBWU0sT0FBWixDQUFzQkEsT0FBdEIsQ0FJQWIsU0FBUyxDQUFDaUMsVUFBVixHQUVBLE1BQU90QixDQUFBQSxRQUFRLENBQUN1QixPQUFULEVBR1AsQ0E5R3VCLENBa0h4QkMsSUFBSSxDQUFFLGNBQVNuQixJQUFULENBQWVDLFFBQWYsQ0FDTixDQUNDLE1BQU8sTUFBS0YsTUFBTCxDQUFZQyxJQUFaLENBQWtCQyxRQUFsQixDQUNQLENBckh1QixDQUFoQixDQUFUIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBBTUkgV2ViIEZyYW1ld29ya1xuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNC1YWFhYIFRoZSBBTUkgVGVhbSAvIExQU0MgLyBJTjJQM1xuICpcbiAqIFRoaXMgZmlsZSBtdXN0IGJlIHVzZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBDZUNJTEwtQzpcbiAqIGh0dHA6Ly93d3cuY2VjaWxsLmluZm8vbGljZW5jZXMvTGljZW5jZV9DZUNJTEwtQ19WMS1lbi5odG1sXG4gKiBodHRwOi8vd3d3LmNlY2lsbC5pbmZvL2xpY2VuY2VzL0xpY2VuY2VfQ2VDSUxMLUNfVjEtZnIuaHRtbFxuICpcbiAqIEBnbG9iYWwgQ2xpcGJvYXJkSlNcbiAqXG4gKi9cblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiRBTUlDbGFzcygnVGV4dEJveEN0cmwnLCB7XG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0JGV4dGVuZHM6IGFtaS5Db250cm9sLFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0JGluaXQ6IGZ1bmN0aW9uKHBhcmVudCwgb3duZXIpXG5cdHtcblx0XHR0aGlzLiRzdXBlci4kaW5pdChwYXJlbnQsIG93bmVyKTtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdG9uUmVhZHk6IGZ1bmN0aW9uKClcblx0e1xuXHRcdHJldHVybiBhbWlXZWJBcHAubG9hZFJlc291cmNlcyhbXG5cdFx0XHRhbWlXZWJBcHAub3JpZ2luVVJMICsgJy9jb250cm9scy9UZXh0Qm94L3R3aWcvVGV4dEJveEN0cmwudHdpZycsXG5cdFx0XHRhbWlXZWJBcHAub3JpZ2luVVJMICsgJy9qcy8zcmQtcGFydHkvY2xpcGJvYXJkLm1pbi5qcycsXG5cdFx0XHRhbWlXZWJBcHAub3JpZ2luVVJMICsgJy9qcy8zcmQtcGFydHkvYWNlL2FjZS5taW4uanMnLFxuXHRcdF0pLmRvbmUoKGRhdGEpID0+IHtcblxuXHRcdFx0YW1pV2ViQXBwLmFwcGVuZEhUTUwoJ2JvZHknLCBkYXRhWzBdKS5kb25lKCgpID0+IHtcblxuXHRcdFx0XHRjb25zdCBfY2xhc3MgPSB0aGlzLiRjbGFzcztcblxuXHRcdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRcdCQoJyNCODkyNzAwNl83RkNFXzg3QkRfRkM4RF9DNzU3NUQ2OUMzNjInKS5vbignaGlkZGVuLmJzLm1vZGFsJywgKCkgPT4ge1xuXG5cdFx0XHRcdFx0YW1pV2ViQXBwLm1vZGFsTGVhdmUoKTtcblxuXHRcdFx0XHRcdF9jbGFzcy5kZWZlcnJlZC5yZXNvbHZlV2l0aChfY2xhc3MuY29udGV4dCB8fCBfY2xhc3MuZGVmZXJyZWQpO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRcdG5ldyBDbGlwYm9hcmRKUygnI0I4OTI3MDA2XzdGQ0VfODdCRF9GQzhEX0M3NTc1RDY5QzM2MiAuYnRuW2RhdGEtY2xpcGJvYXJkLXRhcmdldF0nKTtcblxuXHRcdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRyZW5kZXI6IGZ1bmN0aW9uKHRleHQsIHNldHRpbmdzKVxuXHR7XG5cdFx0Y29uc3QgZGVmZXJyZWQgPSAkLkRlZmVycmVkKCk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRjb25zdCBbXG5cdFx0XHRjb250ZXh0LCB0aXRsZSwgbW9kZVxuXHRcdF0gPSBhbWlXZWJBcHAuc2V0dXAoXG5cdFx0XHRbJ2NvbnRleHQnLCAndGl0bGUnLCAnbW9kZSddLFxuXHRcdFx0W2RlZmVycmVkLCAnVGV4dCBib3gnLCAndGV4dCddLFxuXHRcdFx0c2V0dGluZ3Ncblx0XHQpO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0aWYobW9kZSA9PT0gJ2pzb24nKVxuXHRcdHtcblx0XHRcdHRyeVxuXHRcdFx0e1xuXHRcdFx0XHRpZihhbWlXZWJBcHAudHlwZU9mKHRleHQpICE9PSAnU3RyaW5nJylcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHRleHQgPSBKU09OLnN0cmluZ2lmeSgvKi0tLS0tLSovKHRleHQpLCBudWxsLCAyKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdHtcblx0XHRcdFx0XHR0ZXh0ID0gdGV4dC50cmltKCk7XG5cblx0XHRcdFx0XHRpZih0ZXh0ICYmIHRleHQudG9VcHBlckNhc2UoKSAhPT0gJ0BOVUxMJylcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHR0ZXh0ID0gSlNPTi5zdHJpbmdpZnkoSlNPTi5wYXJzZSh0ZXh0KSwgbnVsbCwgMik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHR0ZXh0ID0gJ251bGwnO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0Y2F0Y2goZSlcblx0XHRcdHtcblx0XHRcdFx0YW1pV2ViQXBwLmVycm9yKCdpbnZhbGlkIEpTT04gc3RyaW5nJywgdHJ1ZSk7XG5cblx0XHRcdFx0dGV4dCA9ICdudWxsJztcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHQkKCcjQjZGQTc1OURfRDJERF9EMDc5X0I1OTFfNTAyM0M0MjJCODdGJykudGV4dCh0aXRsZSk7XG5cblx0XHQkKCcjQjg5MjcwMDZfN0ZDRV84N0JEX0ZDOERfQzc1NzVENjlDMzYyIC5mb3JtLWVkaXRvcicpLnZhbCh0ZXh0KS5kYXRhKCdzZXNzaW9uJykuc2V0TW9kZSgnYWNlL21vZGUvJyArIG1vZGUpO1xuXG5cdFx0JCgnI0I4OTI3MDA2XzdGQ0VfODdCRF9GQzhEX0M3NTc1RDY5QzM2MicpLm1vZGFsKCdzaG93Jyk7XG5cblx0XHR0aGlzLiRjbGFzcy5kZWZlcnJlZCA9IGRlZmVycmVkO1xuXHRcdHRoaXMuJGNsYXNzLmNvbnRleHQgPSBjb250ZXh0O1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0YW1pV2ViQXBwLm1vZGFsRW50ZXIoKTtcblxuXHRcdHJldHVybiBkZWZlcnJlZC5wcm9taXNlKCk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRzaG93OiBmdW5jdGlvbih0ZXh0LCBzZXR0aW5ncylcblx0e1xuXHRcdHJldHVybiB0aGlzLnJlbmRlcih0ZXh0LCBzZXR0aW5ncyk7XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbn0pO1xuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbiJdfQ==
