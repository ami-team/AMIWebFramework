/*!
 * AMI Web Framework
 *
 * Copyright (c) 2014-XXXX The AMI Team / LPSC / IN2P3
 *
 * This file must be used under the terms of the CeCILL-C:
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-fr.html
 *
 * @global FieldEditorCtrl_lock
 */$AMIClass("UnitEditorCtrl",{$extends:ami.Control,$init:function $init(parent,owner){this.$super.$init(parent,owner)},onReady:function onReady(){var _this=this;return amiWebApp.loadResources([amiWebApp.originURL+"/controls/UnitEditor/twig/UnitEditorCtrl.twig"]).done(function(data){_this.inEditMode=false;amiWebApp.appendHTML("body",data[0]).done(function(){var el1=$("#CE77B2CF_A83B_854D_6B94_1A7A65555833");var el2=$("#C9712C7B_9A5C_BD83_45D1_4CC52CD81DA9");el1.change(function(){switch(el1.find("option:selected").val()){case"1000":el2.find(".positive").show();el2.find(".negative").show();break;case"1024":el2.find(".positive").show();el2.find(".negative").hide();break;default:el2.find(".positive").hide();el2.find(".negative").hide();break;}})})})},setup:function setup(selector){var _this2=this;this.el=$(selector);this.el.find("[data-unit-name]").each(function(index,item){var el=$(item);var unitVal=el.attr("data-val");var unitName=el.attr("data-unit-name");var unitFactor=el.attr("data-unit-factor");var unitBase=el.attr("data-unit-base");var scale=0;var base=parseFloat(unitBase);var rawVal=parseFloat(unitVal)*_this2.getFactorFlt(unitFactor,base);if(!Number.isNaN(rawVal)){if(rawVal!==0){scale=Math.log(Math.abs(rawVal))/Math.log(base);if(scale>0){scale=Math.ceil(scale-1)}else if(scale<0){scale=Math.floor(scale-0)}}}else{return}var factor=Math.pow(base,scale);el.attr("data-unit-val",(rawVal/factor).toPrecision(3));el.attr("data-unit-factor",_this2.getFactorStr(factor,base));el.attr("data-raw-unit-val",rawVal);el.attr("data-raw-unit-name",unitName);el.attr("data-raw-unit-factor","");el.attr("data-raw-unit-base",unitBase);el.click(function(){if(!_this2.inEditMode){_this2.editUnit(el)}});_this2.updateText(el)})},isInEditMode:function isInEditMode(){return this.inEditMode()},setInEditMode:function setInEditMode(inEditMode){if(inEditMode){this.el.addClass("field-edit")}else{this.el.removeClass("field-edit")}this.inEditMode=inEditMode},editUnit:function editUnit(el){var _this3=this;var rawUnitVal=el.attr("data-raw-unit-val");var rawUnitName=el.attr("data-raw-unit-name");var rawUnitFactor=el.attr("data-raw-unit-factor");var unitName=el.attr("data-unit-name");var unitFactor=el.attr("data-unit-factor");var unitBase=el.attr("data-unit-base");$("#DB6F1B3B_A1E1_474F_494D_B673367D6020").text("raw value: "+rawUnitVal+" "+rawUnitFactor+rawUnitName);$("#B23EA96D_07CB_0D49_564A_8CBC446331F0").val(unitName);$("#C9712C7B_9A5C_BD83_45D1_4CC52CD81DA9").val(unitFactor);$("#CE77B2CF_A83B_854D_6B94_1A7A65555833").val(unitBase);if(el.attr("data-human-readable").replace(/^\s+|\s+$/g,"").toLowerCase()==="false"){$("#D84D615F_8E4A_C9FB_18DD_D927B9CD68BD").prop("checked",false)}else{$("#D84D615F_8E4A_C9FB_18DD_D927B9CD68BD").prop("checked",true)}$("#B16DD66F_D5A1_BCDF_DB78_D375D7B208C5").off().on("submit",function(e){e.preventDefault();_this3.apply(el)});$("#EEFEE4E6_2756_0FAC_6E1C_77F89E501417").modal("show")},apply:function apply(el){var unitName=$("#B23EA96D_07CB_0D49_564A_8CBC446331F0").val();var unitFactor=$("#C9712C7B_9A5C_BD83_45D1_4CC52CD81DA9").val();var unitBase=$("#CE77B2CF_A83B_854D_6B94_1A7A65555833").val();el.attr("data-unit-name",unitName);el.attr("data-unit-factor",unitFactor);el.attr("data-unit-base",unitBase);if($("#D84D615F_8E4A_C9FB_18DD_D927B9CD68BD").prop("checked")){el.attr("data-human-readable","true")}else{el.attr("data-human-readable","false")}var newVal=parseFloat(el.attr("data-raw-unit-val"))/this.getFactorFlt(unitFactor,parseFloat(unitBase));el.attr("data-unit-val",newVal.toPrecision(3));this.updateText(el);$("#EEFEE4E6_2756_0FAC_6E1C_77F89E501417").modal("hide")},updateText:function updateText(el){if(el.attr("data-human-readable").replace(/^\s+|\s+$/g,"").toLowerCase()==="false"){el.text(el.attr("data-raw-unit-val")+" "+el.attr("data-raw-unit-factor")+el.attr("data-raw-unit-name"))}else{el.text(el.attr("data-unit-val")+" "+el.attr("data-unit-factor")+el.attr("data-unit-name"))}},factor2Unit_1000:{1e+24:"Y",1e+21:"Z",1.0e+18:"E",1.0e+15:"P",1.0e+12:"T",1.0e+9:"G",1.0e+6:"M",1000:"k",1:"",0.001:"m",1.0e-6:"u",1e-9:"n",1e-12:"p",1e-15:"f",1e-18:"a",1e-21:"z",1e-24:"y"},factor2Unit_1024:{1.2089258196146292e+24:"Y",1.1805916207174113e+21:"Z",1152921504606847000:"E",1125899906842624:"P",1099511627776:"T",1073741824:"G",1048576:"M",1024:"k",1:""},getFactorStr:function getFactorStr(factor,base){var result;if(base===1000){result=factor in this.factor2Unit_1000?this.factor2Unit_1000[factor]:"?"}else if(base==1024){result=factor in this.factor2Unit_1024?this.factor2Unit_1024[factor]:"?"}else{result="?"}return result},unit2Factor_1000:{"Y":1e+24,"Z":1e+21,"E":1.0e+18,"P":1.0e+15,"T":1.0e+12,"G":1.0e+9,"M":1.0e+6,"k":1000,"":1,"m":0.001,"u":1.0e-6,"n":1e-9,"p":1e-12,"f":1e-15,"a":1e-18,"z":1e-21,"y":1e-24},unit2Factor_1024:{"Y":1.2089258196146292e+24,"Z":1.1805916207174113e+21,"E":1152921504606847000,"P":1125899906842624,"T":1099511627776,"G":1073741824,"M":1048576,"k":1024,"":1},getFactorFlt:function getFactorFlt(unit,base){var result;if(base===1000){result=unit in this.unit2Factor_1000?this.unit2Factor_1000[unit]:1}else if(base==1024){result=unit in this.unit2Factor_1024?this.unit2Factor_1024[unit]:1}else{result=1}return result}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVuaXRFZGl0b3JDdHJsLmVzNi5qcyJdLCJuYW1lcyI6WyIkQU1JQ2xhc3MiLCIkZXh0ZW5kcyIsImFtaSIsIkNvbnRyb2wiLCIkaW5pdCIsInBhcmVudCIsIm93bmVyIiwiJHN1cGVyIiwib25SZWFkeSIsImFtaVdlYkFwcCIsImxvYWRSZXNvdXJjZXMiLCJvcmlnaW5VUkwiLCJkb25lIiwiZGF0YSIsImluRWRpdE1vZGUiLCJhcHBlbmRIVE1MIiwiZWwxIiwiJCIsImVsMiIsImNoYW5nZSIsImZpbmQiLCJ2YWwiLCJzaG93IiwiaGlkZSIsInNldHVwIiwic2VsZWN0b3IiLCJlbCIsImVhY2giLCJpbmRleCIsIml0ZW0iLCJ1bml0VmFsIiwiYXR0ciIsInVuaXROYW1lIiwidW5pdEZhY3RvciIsInVuaXRCYXNlIiwic2NhbGUiLCJiYXNlIiwicGFyc2VGbG9hdCIsInJhd1ZhbCIsImdldEZhY3RvckZsdCIsIk51bWJlciIsImlzTmFOIiwiTWF0aCIsImxvZyIsImFicyIsImNlaWwiLCJmbG9vciIsImZhY3RvciIsInBvdyIsInRvUHJlY2lzaW9uIiwiZ2V0RmFjdG9yU3RyIiwiY2xpY2siLCJlZGl0VW5pdCIsInVwZGF0ZVRleHQiLCJpc0luRWRpdE1vZGUiLCJzZXRJbkVkaXRNb2RlIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsInJhd1VuaXRWYWwiLCJyYXdVbml0TmFtZSIsInJhd1VuaXRGYWN0b3IiLCJ0ZXh0IiwicmVwbGFjZSIsInRvTG93ZXJDYXNlIiwicHJvcCIsIm9mZiIsIm9uIiwiZSIsInByZXZlbnREZWZhdWx0IiwiYXBwbHkiLCJtb2RhbCIsIm5ld1ZhbCIsImZhY3RvcjJVbml0XzEwMDAiLCJmYWN0b3IyVW5pdF8xMDI0IiwicmVzdWx0IiwidW5pdDJGYWN0b3JfMTAwMCIsInVuaXQyRmFjdG9yXzEwMjQiLCJ1bml0Il0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7OztHQWNBQSxTQUFTLENBQUMsZ0JBQUQsQ0FBbUIsQ0FHM0JDLFFB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akIsSUFBSyxPQUpZLENBS2pCLElBQUssT0FMWSxDQU1qQixJQUFLLE1BTlksQ0FPakIsSUFBSyxNQVBZLENBUWpCLElBQUssSUFSWSxDQVNqQixHQUFJLENBVGEsQ0FVakIsSUFBSyxLQVZZLENBV2pCLElBQUssTUFYWSxDQVlqQixJQUFLLElBWlksQ0FhakIsSUFBSyxLQWJZLENBY2pCLElBQUssS0FkWSxDQWVqQixJQUFLLEtBZlksQ0FnQmpCLElBQUssS0FoQlksQ0FpQmpCLElBQUssS0FqQlksQ0FwVVMsQ0F3VjNCQyxnQkFBZ0IsQ0FBRSxDQUNqQixJQUFLLHNCQURZLENBRWpCLElBQUssc0JBRlksQ0FHakIsSUFBSyxtQkFIWSxDQUlqQixJQUFLLGdCQUpZLENBS2pCLElBQUssYUFMWSxDQU1qQixJQUFLLFVBTlksQ0FPakIsSUFBSyxPQVBZLENBUWpCLElBQUssSUFSWSxDQVNqQixHQUFJLENBVGEsQ0F4VlMsQ0FzVzNCckMsWUFBWSxDQUFFLHNCQUFTc0MsSUFBVCxDQUFlekMsSUFBZixDQUNkLENBQ0MsR0FBSXNDLENBQUFBLE1BQUosQ0FFSyxHQUFHdEMsSUFBSSxHQUFLLElBQVosQ0FBb0IsQ0FDeEJzQyxNQUFNLENBQUdHLElBQUksR0FBSSxNQUFLRixnQkFBYixDQUFnQyxLQUFLQSxnQkFBTCxDQUFzQkUsSUFBdEIsQ0FBaEMsQ0FBOEQsQ0FDdkUsQ0FGSSxJQUdBLElBQUd6QyxJQUFJLEVBQUksSUFBWCxDQUFtQixDQUN2QnNDLE1BQU0sQ0FBR0csSUFBSSxHQUFJLE1BQUtELGdCQUFiLENBQWdDLEtBQUtBLGdCQUFMLENBQXNCQyxJQUF0QixDQUFoQyxDQUE4RCxDQUN2RSxDQUZJLElBR0EsQ0FDSkgsTUFBTSxDQUFHLENBQ1QsQ0FFRCxNQUFPQSxDQUFBQSxNQUNQLENBclgwQixDQUFuQixDQUFUIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBBTUkgV2ViIEZyYW1ld29ya1xuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNC1YWFhYIFRoZSBBTUkgVGVhbSAvIExQU0MgLyBJTjJQM1xuICpcbiAqIFRoaXMgZmlsZSBtdXN0IGJlIHVzZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBDZUNJTEwtQzpcbiAqIGh0dHA6Ly93d3cuY2VjaWxsLmluZm8vbGljZW5jZXMvTGljZW5jZV9DZUNJTEwtQ19WMS1lbi5odG1sXG4gKiBodHRwOi8vd3d3LmNlY2lsbC5pbmZvL2xpY2VuY2VzL0xpY2VuY2VfQ2VDSUxMLUNfVjEtZnIuaHRtbFxuICpcbiAqIEBnbG9iYWwgRmllbGRFZGl0b3JDdHJsX2xvY2tcbiAqL1xuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuJEFNSUNsYXNzKCdVbml0RWRpdG9yQ3RybCcsIHtcblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQkZXh0ZW5kczogYW1pLkNvbnRyb2wsXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQkaW5pdDogZnVuY3Rpb24ocGFyZW50LCBvd25lcilcblx0e1xuXHRcdHRoaXMuJHN1cGVyLiRpbml0KHBhcmVudCwgb3duZXIpO1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0b25SZWFkeTogZnVuY3Rpb24oKVxuXHR7XG5cdFx0cmV0dXJuIGFtaVdlYkFwcC5sb2FkUmVzb3VyY2VzKFtcblx0XHRcdGFtaVdlYkFwcC5vcmlnaW5VUkwgKyAnL2NvbnRyb2xzL1VuaXRFZGl0b3IvdHdpZy9Vbml0RWRpdG9yQ3RybC50d2lnJyxcblx0XHRdKS5kb25lKChkYXRhKSA9PiB7XG5cblx0XHRcdHRoaXMuaW5FZGl0TW9kZSA9IGZhbHNlO1xuXG5cdFx0XHRhbWlXZWJBcHAuYXBwZW5kSFRNTCgnYm9keScsIGRhdGFbMF0pLmRvbmUoKCkgPT4ge1xuXG5cdFx0XHRcdGNvbnN0IGVsMSA9ICQoJyNDRTc3QjJDRl9BODNCXzg1NERfNkI5NF8xQTdBNjU1NTU4MzMnKTtcblx0XHRcdFx0Y29uc3QgZWwyID0gJCgnI0M5NzEyQzdCXzlBNUNfQkQ4M180NUQxXzRDQzUyQ0Q4MURBOScpO1xuXG5cdFx0XHRcdGVsMS5jaGFuZ2UoKCkgPT4ge1xuXG5cdFx0XHRcdFx0c3dpdGNoKGVsMS5maW5kKCdvcHRpb246c2VsZWN0ZWQnKS52YWwoKSlcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRjYXNlICcxMDAwJzpcblx0XHRcdFx0XHRcdFx0ZWwyLmZpbmQoJy5wb3NpdGl2ZScpLnNob3coKTtcblx0XHRcdFx0XHRcdFx0ZWwyLmZpbmQoJy5uZWdhdGl2ZScpLnNob3coKTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRcdGNhc2UgJzEwMjQnOlxuXHRcdFx0XHRcdFx0XHRlbDIuZmluZCgnLnBvc2l0aXZlJykuc2hvdygpO1xuXHRcdFx0XHRcdFx0XHRlbDIuZmluZCgnLm5lZ2F0aXZlJykuaGlkZSgpO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRcdFx0ZWwyLmZpbmQoJy5wb3NpdGl2ZScpLmhpZGUoKTtcblx0XHRcdFx0XHRcdFx0ZWwyLmZpbmQoJy5uZWdhdGl2ZScpLmhpZGUoKTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0c2V0dXA6IGZ1bmN0aW9uKHNlbGVjdG9yKVxuXHR7XG5cdFx0dGhpcy5lbCA9ICQoc2VsZWN0b3IpO1xuXG5cdFx0dGhpcy5lbC5maW5kKCdbZGF0YS11bml0LW5hbWVdJykuZWFjaCgoaW5kZXgsIGl0ZW0pID0+IHtcblxuXHRcdFx0Y29uc3QgZWwgPSAkKGl0ZW0pO1xuXG5cdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0XHRcdC8qIEdFVCBVTklUIElORk8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRcdGNvbnN0IHVuaXRWYWwgPSBlbC5hdHRyKCdkYXRhLXZhbCcpO1xuXHRcdFx0Y29uc3QgdW5pdE5hbWUgPSBlbC5hdHRyKCdkYXRhLXVuaXQtbmFtZScpO1xuXHRcdFx0Y29uc3QgdW5pdEZhY3RvciA9IGVsLmF0dHIoJ2RhdGEtdW5pdC1mYWN0b3InKTtcblx0XHRcdGNvbnN0IHVuaXRCYXNlID0gZWwuYXR0cignZGF0YS11bml0LWJhc2UnKTtcblxuXHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdFx0XHQvKiBPUFRJTUlaRSBVTklUIElORk8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRsZXQgc2NhbGUgPSAwLjA7XG5cblx0XHRcdGNvbnN0IGJhc2UgPSBwYXJzZUZsb2F0KHVuaXRCYXNlKTtcblxuXHRcdFx0Y29uc3QgcmF3VmFsID0gcGFyc2VGbG9hdCh1bml0VmFsKSAqIHRoaXMuZ2V0RmFjdG9yRmx0KHVuaXRGYWN0b3IsIGJhc2UpO1xuXG5cdFx0XHRpZighTnVtYmVyLmlzTmFOKHJhd1ZhbCkpXG5cdFx0XHR7XG5cdFx0XHRcdGlmKHJhd1ZhbCAhPT0gMC4wKVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0c2NhbGUgPSBNYXRoLmxvZyhNYXRoLmFicyhyYXdWYWwpKSAvIE1hdGgubG9nKGJhc2UpO1xuXG5cdFx0XHRcdFx0LyoqLyBpZihzY2FsZSA+IDAuMCkge1xuXHRcdFx0XHRcdFx0c2NhbGUgPSBNYXRoLmNlaWwoc2NhbGUgLSAxKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSBpZihzY2FsZSA8IDAuMCkge1xuXHRcdFx0XHRcdFx0c2NhbGUgPSBNYXRoLmZsb29yKHNjYWxlIC0gMCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRlbHNlXG5cdFx0XHR7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRcdGNvbnN0IGZhY3RvciA9IE1hdGgucG93KGJhc2UsIHNjYWxlKTtcblxuXHRcdFx0ZWwuYXR0cignZGF0YS11bml0LXZhbCcsIChyYXdWYWwgLyBmYWN0b3IpLnRvUHJlY2lzaW9uKDMpKTtcblxuXHRcdFx0ZWwuYXR0cignZGF0YS11bml0LWZhY3RvcicsIHRoaXMuZ2V0RmFjdG9yU3RyKGZhY3RvciwgYmFzZSkpO1xuXG5cdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0ZWwuYXR0cignZGF0YS1yYXctdW5pdC12YWwnLCByYXdWYWwpO1xuXHRcdFx0ZWwuYXR0cignZGF0YS1yYXctdW5pdC1uYW1lJywgdW5pdE5hbWUpO1xuXHRcdFx0ZWwuYXR0cignZGF0YS1yYXctdW5pdC1mYWN0b3InLCAoKCgnJykpKSk7XG5cdFx0XHRlbC5hdHRyKCdkYXRhLXJhdy11bml0LWJhc2UnLCB1bml0QmFzZSk7XG5cblx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHRcdFx0LyogU0VUVVAgRURJVE9SIEFORCBVUERBVEUgVEVYVCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0ZWwuY2xpY2soKCkgPT4ge1xuXG5cdFx0XHRcdGlmKCF0aGlzLmluRWRpdE1vZGUpXG5cdFx0XHRcdHtcblx0XHRcdFx0XHR0aGlzLmVkaXRVbml0KGVsKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdHRoaXMudXBkYXRlVGV4dChlbCk7XG5cblx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHRcdH0pO1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0aXNJbkVkaXRNb2RlOiBmdW5jdGlvbigpXG5cdHtcblx0XHRyZXR1cm4gdGhpcy5pbkVkaXRNb2RlKCk7XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRzZXRJbkVkaXRNb2RlOiBmdW5jdGlvbihpbkVkaXRNb2RlKVxuXHR7XG5cdFx0aWYoaW5FZGl0TW9kZSkge1xuXHRcdFx0dGhpcy5lbC5hZGRDbGFzcygnZmllbGQtZWRpdCcpO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdHRoaXMuZWwucmVtb3ZlQ2xhc3MoJ2ZpZWxkLWVkaXQnKTtcblx0XHR9XG5cblx0XHR0aGlzLmluRWRpdE1vZGUgPSBpbkVkaXRNb2RlO1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0ZWRpdFVuaXQ6IGZ1bmN0aW9uKGVsKVxuXHR7XG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0Y29uc3QgcmF3VW5pdFZhbCA9IGVsLmF0dHIoJ2RhdGEtcmF3LXVuaXQtdmFsJyk7XG5cdFx0Y29uc3QgcmF3VW5pdE5hbWUgPSBlbC5hdHRyKCdkYXRhLXJhdy11bml0LW5hbWUnKTtcblx0XHRjb25zdCByYXdVbml0RmFjdG9yID0gZWwuYXR0cignZGF0YS1yYXctdW5pdC1mYWN0b3InKTtcblxuXHRcdGNvbnN0IHVuaXROYW1lID0gZWwuYXR0cignZGF0YS11bml0LW5hbWUnKTtcblx0XHRjb25zdCB1bml0RmFjdG9yID0gZWwuYXR0cignZGF0YS11bml0LWZhY3RvcicpO1xuXHRcdGNvbnN0IHVuaXRCYXNlID0gZWwuYXR0cignZGF0YS11bml0LWJhc2UnKTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdCQoJyNEQjZGMUIzQl9BMUUxXzQ3NEZfNDk0RF9CNjczMzY3RDYwMjAnKS50ZXh0KCdyYXcgdmFsdWU6ICcgKyByYXdVbml0VmFsICsgJyAnICsgcmF3VW5pdEZhY3RvciArIHJhd1VuaXROYW1lKTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdCQoJyNCMjNFQTk2RF8wN0NCXzBENDlfNTY0QV84Q0JDNDQ2MzMxRjAnKS52YWwodW5pdE5hbWUpO1xuXHRcdCQoJyNDOTcxMkM3Ql85QTVDX0JEODNfNDVEMV80Q0M1MkNEODFEQTknKS52YWwodW5pdEZhY3Rvcik7XG5cdFx0JCgnI0NFNzdCMkNGX0E4M0JfODU0RF82Qjk0XzFBN0E2NTU1NTgzMycpLnZhbCh1bml0QmFzZSk7XG5cblx0XHRpZihlbC5hdHRyKCdkYXRhLWh1bWFuLXJlYWRhYmxlJykucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpLnRvTG93ZXJDYXNlKCkgPT09ICdmYWxzZScpXG5cdFx0e1xuXHRcdFx0JCgnI0Q4NEQ2MTVGXzhFNEFfQzlGQl8xOEREX0Q5MjdCOUNENjhCRCcpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XG5cdFx0fVxuXHRcdGVsc2Vcblx0XHR7XG5cdFx0XHQkKCcjRDg0RDYxNUZfOEU0QV9DOUZCXzE4RERfRDkyN0I5Q0Q2OEJEJykucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xuXHRcdH1cblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdCQoJyNCMTZERDY2Rl9ENUExX0JDREZfREI3OF9EMzc1RDdCMjA4QzUnKS5vZmYoKS5vbignc3VibWl0JywgKGUpID0+IHtcblxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHR0aGlzLmFwcGx5KGVsKTtcblx0XHR9KTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdCQoJyNFRUZFRTRFNl8yNzU2XzBGQUNfNkUxQ183N0Y4OUU1MDE0MTcnKS5tb2RhbCgnc2hvdycpO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRhcHBseTogZnVuY3Rpb24oZWwpXG5cdHtcblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRjb25zdCB1bml0TmFtZSA9ICQoJyNCMjNFQTk2RF8wN0NCXzBENDlfNTY0QV84Q0JDNDQ2MzMxRjAnKS52YWwoKTtcblx0XHRjb25zdCB1bml0RmFjdG9yID0gJCgnI0M5NzEyQzdCXzlBNUNfQkQ4M180NUQxXzRDQzUyQ0Q4MURBOScpLnZhbCgpO1xuXHRcdGNvbnN0IHVuaXRCYXNlID0gJCgnI0NFNzdCMkNGX0E4M0JfODU0RF82Qjk0XzFBN0E2NTU1NTgzMycpLnZhbCgpO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0ZWwuYXR0cignZGF0YS11bml0LW5hbWUnLCB1bml0TmFtZSk7XG5cdFx0ZWwuYXR0cignZGF0YS11bml0LWZhY3RvcicsIHVuaXRGYWN0b3IpO1xuXHRcdGVsLmF0dHIoJ2RhdGEtdW5pdC1iYXNlJywgdW5pdEJhc2UpO1xuXG5cdFx0aWYoJCgnI0Q4NEQ2MTVGXzhFNEFfQzlGQl8xOEREX0Q5MjdCOUNENjhCRCcpLnByb3AoJ2NoZWNrZWQnKSlcblx0XHR7XG5cdFx0XHRlbC5hdHRyKCdkYXRhLWh1bWFuLXJlYWRhYmxlJywgJ3RydWUnKTtcblx0XHR9XG5cdFx0ZWxzZVxuXHRcdHtcblx0XHRcdGVsLmF0dHIoJ2RhdGEtaHVtYW4tcmVhZGFibGUnLCAnZmFsc2UnKTtcblx0XHR9XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRjb25zdCBuZXdWYWwgPSBwYXJzZUZsb2F0KGVsLmF0dHIoJ2RhdGEtcmF3LXVuaXQtdmFsJykpIC8gdGhpcy5nZXRGYWN0b3JGbHQodW5pdEZhY3RvciwgcGFyc2VGbG9hdCh1bml0QmFzZSkpO1xuXG5cdFx0ZWwuYXR0cignZGF0YS11bml0LXZhbCcsIG5ld1ZhbC50b1ByZWNpc2lvbigzKSk7XG5cblx0XHR0aGlzLnVwZGF0ZVRleHQoZWwpO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0JCgnI0VFRkVFNEU2XzI3NTZfMEZBQ182RTFDXzc3Rjg5RTUwMTQxNycpLm1vZGFsKCdoaWRlJyk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHR1cGRhdGVUZXh0OiBmdW5jdGlvbihlbClcblx0e1xuXHRcdGlmKGVsLmF0dHIoJ2RhdGEtaHVtYW4tcmVhZGFibGUnKS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJykudG9Mb3dlckNhc2UoKSA9PT0gJ2ZhbHNlJylcblx0XHR7XG5cdFx0XHRlbC50ZXh0KFxuXHRcdFx0XHRlbC5hdHRyKCdkYXRhLXJhdy11bml0LXZhbCcpXG5cdFx0XHRcdCsgJyAnICtcblx0XHRcdFx0ZWwuYXR0cignZGF0YS1yYXctdW5pdC1mYWN0b3InKVxuXHRcdFx0XHQrXG5cdFx0XHRcdGVsLmF0dHIoJ2RhdGEtcmF3LXVuaXQtbmFtZScpXG5cdFx0XHQpO1xuXHRcdH1cblx0XHRlbHNlXG5cdFx0e1xuXHRcdFx0ZWwudGV4dChcblx0XHRcdFx0ZWwuYXR0cignZGF0YS11bml0LXZhbCcpXG5cdFx0XHRcdCsgJyAnICtcblx0XHRcdFx0ZWwuYXR0cignZGF0YS11bml0LWZhY3RvcicpXG5cdFx0XHRcdCtcblx0XHRcdFx0ZWwuYXR0cignZGF0YS11bml0LW5hbWUnKVxuXHRcdFx0KTtcblx0XHR9XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRmYWN0b3IyVW5pdF8xMDAwOiB7XG5cdFx0MS4wZSsyNDogJ1knLFxuXHRcdDEuMGUrMjE6ICdaJyxcblx0XHQxLjBlKzE4OiAnRScsXG5cdFx0MS4wZSsxNTogJ1AnLFxuXHRcdDEuMGUrMTI6ICdUJyxcblx0XHQxLjBlKzk6ICdHJyxcblx0XHQxLjBlKzY6ICdNJyxcblx0XHQxLjBlKzM6ICdrJyxcblx0XHQxLjA6ICcnLFxuXHRcdDEuMGUtMzogJ20nLFxuXHRcdDEuMGUtNjogJ3UnLFxuXHRcdDEuMGUtOTogJ24nLFxuXHRcdDEuMGUtMTI6ICdwJyxcblx0XHQxLjBlLTE1OiAnZicsXG5cdFx0MS4wZS0xODogJ2EnLFxuXHRcdDEuMGUtMjE6ICd6Jyxcblx0XHQxLjBlLTI0OiAneScsXG5cdH0sXG5cblx0ZmFjdG9yMlVuaXRfMTAyNDoge1xuXHRcdDEyMDg5MjU4MTk2MTQ2MjkxNzQ3MDYxNzYuMDogJ1knLFxuXHRcdDExODA1OTE2MjA3MTc0MTEzMDM0MjQuMDogJ1onLFxuXHRcdDExNTI5MjE1MDQ2MDY4NDY5NzYuMDogJ0UnLFxuXHRcdDExMjU4OTk5MDY4NDI2MjQuMDogJ1AnLFxuXHRcdDEwOTk1MTE2Mjc3NzYuMDogJ1QnLFxuXHRcdDEwNzM3NDE4MjQuMDogJ0cnLFxuXHRcdDEwNDg1NzYuMDogJ00nLFxuXHRcdDEwMjQuMDogJ2snLFxuXHRcdDEuMDogJycsXG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRnZXRGYWN0b3JTdHI6IGZ1bmN0aW9uKGZhY3RvciwgYmFzZSlcblx0e1xuXHRcdGxldCByZXN1bHQ7XG5cblx0XHQvKiovIGlmKGJhc2UgPT09IDEwMDAuMCkge1xuXHRcdFx0cmVzdWx0ID0gZmFjdG9yIGluIHRoaXMuZmFjdG9yMlVuaXRfMTAwMCA/IHRoaXMuZmFjdG9yMlVuaXRfMTAwMFtmYWN0b3JdIDogJz8nO1xuXHRcdH1cblx0XHRlbHNlIGlmKGJhc2UgPT0gMTAyNC4wKSB7XG5cdFx0XHRyZXN1bHQgPSBmYWN0b3IgaW4gdGhpcy5mYWN0b3IyVW5pdF8xMDI0ID8gdGhpcy5mYWN0b3IyVW5pdF8xMDI0W2ZhY3Rvcl0gOiAnPyc7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0cmVzdWx0ID0gJz8nO1xuXHRcdH1cblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHR1bml0MkZhY3Rvcl8xMDAwOiB7XG5cdFx0J1knOiAxLjBlKzI0LFxuXHRcdCdaJzogMS4wZSsyMSxcblx0XHQnRSc6IDEuMGUrMTgsXG5cdFx0J1AnOiAxLjBlKzE1LFxuXHRcdCdUJzogMS4wZSsxMixcblx0XHQnRyc6IDEuMGUrOSxcblx0XHQnTSc6IDEuMGUrNixcblx0XHQnayc6IDEuMGUrMyxcblx0XHQnJzogMS4wLFxuXHRcdCdtJzogMS4wZS0zLFxuXHRcdCd1JzogMS4wZS02LFxuXHRcdCduJzogMS4wZS05LFxuXHRcdCdwJzogMS4wZS0xMixcblx0XHQnZic6IDEuMGUtMTUsXG5cdFx0J2EnOiAxLjBlLTE4LFxuXHRcdCd6JzogMS4wZS0yMSxcblx0XHQneSc6IDEuMGUtMjQsXG5cdH0sXG5cblx0dW5pdDJGYWN0b3JfMTAyNDoge1xuXHRcdCdZJzogMTIwODkyNTgxOTYxNDYyOTE3NDcwNjE3Ni4wLFxuXHRcdCdaJzogMTE4MDU5MTYyMDcxNzQxMTMwMzQyNC4wLFxuXHRcdCdFJzogMTE1MjkyMTUwNDYwNjg0Njk3Ni4wLFxuXHRcdCdQJzogMTEyNTg5OTkwNjg0MjYyNC4wLFxuXHRcdCdUJzogMTA5OTUxMTYyNzc3Ni4wLFxuXHRcdCdHJzogMTA3Mzc0MTgyNC4wLFxuXHRcdCdNJzogMTA0ODU3Ni4wLFxuXHRcdCdrJzogMTAyNC4wLFxuXHRcdCcnOiAxLjAsXG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRnZXRGYWN0b3JGbHQ6IGZ1bmN0aW9uKHVuaXQsIGJhc2UpXG5cdHtcblx0XHRsZXQgcmVzdWx0O1xuXG5cdFx0LyoqLyBpZihiYXNlID09PSAxMDAwLjApIHtcblx0XHRcdHJlc3VsdCA9IHVuaXQgaW4gdGhpcy51bml0MkZhY3Rvcl8xMDAwID8gdGhpcy51bml0MkZhY3Rvcl8xMDAwW3VuaXRdIDogMS4wO1xuXHRcdH1cblx0XHRlbHNlIGlmKGJhc2UgPT0gMTAyNC4wKSB7XG5cdFx0XHRyZXN1bHQgPSB1bml0IGluIHRoaXMudW5pdDJGYWN0b3JfMTAyNCA/IHRoaXMudW5pdDJGYWN0b3JfMTAyNFt1bml0XSA6IDEuMDtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRyZXN1bHQgPSAxLjA7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xufSk7XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuIl19
