/*!
 * AMI Web Framework
 *
 * Copyright (c) 2014-XXXX The AMI Team / LPSC / IN2P3
 *
 * This file must be used under the terms of the CeCILL-C:
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-fr.html
 *
 * @global FieldEditorCtrl_lock
 */$AMIClass("UnitEditorCtrl",{$extends:ami.Control,$init:function $init(parent,owner){this.$super.$init(parent,owner)},onReady:function onReady(){var _this=this;return amiWebApp.loadResources([amiWebApp.originURL+"/controls/UnitEditor/twig/UnitEditorCtrl.twig"]).done(function(data){_this.inEditMode=false;amiWebApp.appendHTML("body",data[0]).done(function(){var el1=$("#CE77B2CF_A83B_854D_6B94_1A7A65555833");var el2=$("#C9712C7B_9A5C_BD83_45D1_4CC52CD81DA9");el1.change(function(){switch(el1.find("option:selected").val()){case"1000":el2.find(".positive").show();el2.find(".negative").show();break;case"1024":el2.find(".positive").show();el2.find(".negative").hide();break;default:el2.find(".positive").hide();el2.find(".negative").hide();break;}})})})},setup:function setup(selector){var _this2=this;this.el=$(selector);this.el.find("[data-unit-name]").each(function(index,item){var el=$(item);var unitVal=el.attr("data-val");var unitName=el.attr("data-unit-name");var unitFactor=el.attr("data-unit-factor");var unitBase=el.attr("data-unit-base");var scale=0;var base=parseFloat(unitBase);var rawVal=parseFloat(unitVal)*_this2.getFactorFlt(unitFactor,base);if(!Number.isNaN(rawVal)){if(rawVal!==0){scale=Math.log(rawVal)/Math.log(base);if(scale>0){scale=Math.ceil(scale-1)}else if(scale<0){scale=Math.floor(scale-0)}}}else{return}var factor=Math.pow(base,scale);el.attr("data-unit-val",(rawVal/factor).toPrecision(3));el.attr("data-unit-factor",_this2.getFactorStr(factor,base));el.attr("data-raw-unit-val",rawVal);el.attr("data-raw-unit-name",unitName);el.attr("data-raw-unit-factor","");el.attr("data-raw-unit-base",unitBase);el.click(function(){if(!_this2.inEditMode){_this2.editUnit(el)}});_this2.updateText(el)})},isInEditMode:function isInEditMode(){return this.inEditMode()},setInEditMode:function setInEditMode(inEditMode){if(inEditMode){this.el.addClass("field-edit")}else{this.el.removeClass("field-edit")}this.inEditMode=inEditMode},editUnit:function editUnit(el){var _this3=this;var rawUnitVal=el.attr("data-raw-unit-val");var rawUnitName=el.attr("data-raw-unit-name");var rawUnitFactor=el.attr("data-raw-unit-factor");var unitName=el.attr("data-unit-name");var unitFactor=el.attr("data-unit-factor");var unitBase=el.attr("data-unit-base");$("#DB6F1B3B_A1E1_474F_494D_B673367D6020").text("raw value: "+rawUnitVal+" "+rawUnitFactor+rawUnitName);$("#B23EA96D_07CB_0D49_564A_8CBC446331F0").val(unitName);$("#C9712C7B_9A5C_BD83_45D1_4CC52CD81DA9").val(unitFactor);$("#CE77B2CF_A83B_854D_6B94_1A7A65555833").val(unitBase);if(el.attr("data-human-readable").replace(/^\s+|\s+$/g,"").toLowerCase()==="false"){$("#D84D615F_8E4A_C9FB_18DD_D927B9CD68BD").prop("checked",false)}else{$("#D84D615F_8E4A_C9FB_18DD_D927B9CD68BD").prop("checked",true)}$("#B16DD66F_D5A1_BCDF_DB78_D375D7B208C5").off().on("submit",function(e){e.preventDefault();_this3.apply(el)});$("#EEFEE4E6_2756_0FAC_6E1C_77F89E501417").modal("show")},apply:function apply(el){var unitName=$("#B23EA96D_07CB_0D49_564A_8CBC446331F0").val();var unitFactor=$("#C9712C7B_9A5C_BD83_45D1_4CC52CD81DA9").val();var unitBase=$("#CE77B2CF_A83B_854D_6B94_1A7A65555833").val();el.attr("data-unit-name",unitName);el.attr("data-unit-factor",unitFactor);el.attr("data-unit-base",unitBase);if($("#D84D615F_8E4A_C9FB_18DD_D927B9CD68BD").prop("checked")){el.attr("data-human-readable","true")}else{el.attr("data-human-readable","false")}var newVal=parseFloat(el.attr("data-raw-unit-val"))/this.getFactorFlt(unitFactor,parseFloat(unitBase));el.attr("data-unit-val",newVal.toPrecision(3));this.updateText(el);$("#EEFEE4E6_2756_0FAC_6E1C_77F89E501417").modal("hide")},updateText:function updateText(el){if(el.attr("data-human-readable").replace(/^\s+|\s+$/g,"").toLowerCase()==="false"){el.text(el.attr("data-raw-unit-val")+" "+el.attr("data-raw-unit-factor")+el.attr("data-raw-unit-name"))}else{el.text(el.attr("data-unit-val")+" "+el.attr("data-unit-factor")+el.attr("data-unit-name"))}},factor2Unit_1000:{1e+24:"Y",1e+21:"Z",1.0e+18:"E",1.0e+15:"P",1.0e+12:"T",1.0e+9:"G",1.0e+6:"M",1000:"k",1:"",0.001:"m",1.0e-6:"u",1e-9:"n",1e-12:"p",1e-15:"f",1e-18:"a",1e-21:"z",1e-24:"y"},factor2Unit_1024:{1.2089258196146292e+24:"Y",1.1805916207174113e+21:"Z",1152921504606847000:"E",1125899906842624:"P",1099511627776:"T",1073741824:"G",1048576:"M",1024:"k",1:""},getFactorStr:function getFactorStr(factor,base){var result;if(base===1000){result=this.factor2Unit_1000.hasOwnProperty(factor)?this.factor2Unit_1000[factor]:"?"}else if(base==1024){result=this.factor2Unit_1024.hasOwnProperty(factor)?this.factor2Unit_1024[factor]:"?"}else{result="?"}return result},unit2Factor_1000:{"Y":1e+24,"Z":1e+21,"E":1.0e+18,"P":1.0e+15,"T":1.0e+12,"G":1.0e+9,"M":1.0e+6,"k":1000,"":1,"m":0.001,"u":1.0e-6,"n":1e-9,"p":1e-12,"f":1e-15,"a":1e-18,"z":1e-21,"y":1e-24},unit2Factor_1024:{"Y":1.2089258196146292e+24,"Z":1.1805916207174113e+21,"E":1152921504606847000,"P":1125899906842624,"T":1099511627776,"G":1073741824,"M":1048576,"k":1024,"":1},getFactorFlt:function getFactorFlt(unit,base){var result;if(base===1000){result=this.unit2Factor_1000.hasOwnProperty(unit)?this.unit2Factor_1000[unit]:1}else if(base==1024){result=this.unit2Factor_1024.hasOwnProperty(unit)?this.unit2Factor_1024[unit]:1}else{result=1}return result}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVuaXRFZGl0b3JDdHJsLmVzNi5qcyJdLCJuYW1lcyI6WyIkQU1JQ2xhc3MiLCIkZXh0ZW5kcyIsImFtaSIsIkNvbnRyb2wiLCIkaW5pdCIsInBhcmVudCIsIm93bmVyIiwiJHN1cGVyIiwib25SZWFkeSIsImFtaVdlYkFwcCIsImxvYWRSZXNvdXJjZXMiLCJvcmlnaW5VUkwiLCJkb25lIiwiZGF0YSIsImluRWRpdE1vZGUiLCJhcHBlbmRIVE1MIiwiZWwxIiwiJCIsImVsMiIsImNoYW5nZSIsImZpbmQiLCJ2YWwiLCJzaG93IiwiaGlkZSIsInNldHVwIiwic2VsZWN0b3IiLCJlbCIsImVhY2giLCJpbmRleCIsIml0ZW0iLCJ1bml0VmFsIiwiYXR0ciIsInVuaXROYW1lIiwidW5pdEZhY3RvciIsInVuaXRCYXNlIiwic2NhbGUiLCJiYXNlIiwicGFyc2VGbG9hdCIsInJhd1ZhbCIsImdldEZhY3RvckZsdCIsIk51bWJlciIsImlzTmFOIiwiTWF0aCIsImxvZyIsImNlaWwiLCJmbG9vciIsImZhY3RvciIsInBvdyIsInRvUHJlY2lzaW9uIiwiZ2V0RmFjdG9yU3RyIiwiY2xpY2siLCJlZGl0VW5pdCIsInVwZGF0ZVRleHQiLCJpc0luRWRpdE1vZGUiLCJzZXRJbkVkaXRNb2RlIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsInJhd1VuaXRWYWwiLCJyYXdVbml0TmFtZSIsInJhd1VuaXRGYWN0b3IiLCJ0ZXh0IiwicmVwbGFjZSIsInRvTG93ZXJDYXNlIiwicHJvcCIsIm9mZiIsIm9uIiwiZSIsInByZXZlbnREZWZhdWx0IiwiYXBwbHkiLCJtb2RhbCIsIm5ld1ZhbCIsImZhY3RvcjJVbml0XzEwMDAiLCJmYWN0b3IyVW5pdF8xMDI0IiwicmVzdWx0IiwiaGFzT3duUHJvcGVydHkiLCJ1bml0MkZhY3Rvcl8xMDAwIiwidW5pdDJGYWN0b3JfMTAyNCIsInVuaXQiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7O0dBY0FBLFNBQVMsQ0FBQyxnQkFBRCxDQUFt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eXJpZ2h0IChjKSAyMDE0LVhYWFggVGhlIEFNSSBUZWFtIC8gTFBTQyAvIElOMlAzXG4gKlxuICogVGhpcyBmaWxlIG11c3QgYmUgdXNlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIENlQ0lMTC1DOlxuICogaHR0cDovL3d3dy5jZWNpbGwuaW5mby9saWNlbmNlcy9MaWNlbmNlX0NlQ0lMTC1DX1YxLWVuLmh0bWxcbiAqIGh0dHA6Ly93d3cuY2VjaWxsLmluZm8vbGljZW5jZXMvTGljZW5jZV9DZUNJTEwtQ19WMS1mci5odG1sXG4gKlxuICogQGdsb2JhbCBGaWVsZEVkaXRvckN0cmxfbG9ja1xuICovXG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiRBTUlDbGFzcygnVW5pdEVkaXRvckN0cmwnLCB7XG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQkZXh0ZW5kczogYW1pLkNvbnRyb2wsXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdCRpbml0OiBmdW5jdGlvbihwYXJlbnQsIG93bmVyKVxuXHR7XG5cdFx0dGhpcy4kc3VwZXIuJGluaXQocGFyZW50LCBvd25lcik7XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdG9uUmVhZHk6IGZ1bmN0aW9uKClcblx0e1xuXHRcdHJldHVybiBhbWlXZWJBcHAubG9hZFJlc291cmNlcyhbXG5cdFx0XHRhbWlXZWJBcHAub3JpZ2luVVJMICsgJy9jb250cm9scy9Vbml0RWRpdG9yL3R3aWcvVW5pdEVkaXRvckN0cmwudHdpZycsXG5cdFx0XSkuZG9uZSgoZGF0YSkgPT4ge1xuXG5cdFx0XHR0aGlzLmluRWRpdE1vZGUgPSBmYWxzZTtcblxuXHRcdFx0YW1pV2ViQXBwLmFwcGVuZEhUTUwoJ2JvZHknLCBkYXRhWzBdKS5kb25lKCgpID0+IHtcblxuXHRcdFx0XHRjb25zdCBlbDEgPSAkKCcjQ0U3N0IyQ0ZfQTgzQl84NTREXzZCOTRfMUE3QTY1NTU1ODMzJyk7XG5cdFx0XHRcdGNvbnN0IGVsMiA9ICQoJyNDOTcxMkM3Ql85QTVDX0JEODNfNDVEMV80Q0M1MkNEODFEQTknKTtcblxuXHRcdFx0XHRlbDEuY2hhbmdlKCgpID0+IHtcblxuXHRcdFx0XHRcdHN3aXRjaChlbDEuZmluZCgnb3B0aW9uOnNlbGVjdGVkJykudmFsKCkpXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0Y2FzZSAnMTAwMCc6XG5cdFx0XHRcdFx0XHRcdGVsMi5maW5kKCcucG9zaXRpdmUnKS5zaG93KCk7XG5cdFx0XHRcdFx0XHRcdGVsMi5maW5kKCcubmVnYXRpdmUnKS5zaG93KCk7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0XHRjYXNlICcxMDI0Jzpcblx0XHRcdFx0XHRcdFx0ZWwyLmZpbmQoJy5wb3NpdGl2ZScpLnNob3coKTtcblx0XHRcdFx0XHRcdFx0ZWwyLmZpbmQoJy5uZWdhdGl2ZScpLmhpZGUoKTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRcdGVsMi5maW5kKCcucG9zaXRpdmUnKS5oaWRlKCk7XG5cdFx0XHRcdFx0XHRcdGVsMi5maW5kKCcubmVnYXRpdmUnKS5oaWRlKCk7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0c2V0dXA6IGZ1bmN0aW9uKHNlbGVjdG9yKVxuXHR7XG5cdFx0dGhpcy5lbCA9ICQoc2VsZWN0b3IpO1xuXG5cdFx0dGhpcy5lbC5maW5kKCdbZGF0YS11bml0LW5hbWVdJykuZWFjaCgoaW5kZXgsIGl0ZW0pID0+IHtcblxuXHRcdFx0Y29uc3QgZWwgPSAkKGl0ZW0pO1xuXG5cdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHRcdFx0LyogR0VUIFVOSVQgSU5GTyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRcdGNvbnN0IHVuaXRWYWwgPSBlbC5hdHRyKCdkYXRhLXZhbCcpO1xuXHRcdFx0Y29uc3QgdW5pdE5hbWUgPSBlbC5hdHRyKCdkYXRhLXVuaXQtbmFtZScpO1xuXHRcdFx0Y29uc3QgdW5pdEZhY3RvciA9IGVsLmF0dHIoJ2RhdGEtdW5pdC1mYWN0b3InKTtcblx0XHRcdGNvbnN0IHVuaXRCYXNlID0gZWwuYXR0cignZGF0YS11bml0LWJhc2UnKTtcblxuXHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0XHRcdC8qIE9QVElNSVpFIFVOSVQgSU5GTyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRsZXQgc2NhbGUgPSAwLjA7XG5cblx0XHRcdGNvbnN0IGJhc2UgPSBwYXJzZUZsb2F0KHVuaXRCYXNlKTtcblxuXHRcdFx0Y29uc3QgcmF3VmFsID0gcGFyc2VGbG9hdCh1bml0VmFsKSAqIHRoaXMuZ2V0RmFjdG9yRmx0KHVuaXRGYWN0b3IsIGJhc2UpO1xuXG5cdFx0XHRpZighTnVtYmVyLmlzTmFOKHJhd1ZhbCkpXG5cdFx0XHR7XG5cdFx0XHRcdGlmKHJhd1ZhbCAhPT0gMC4wKVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0c2NhbGUgPSBNYXRoLmxvZyhyYXdWYWwpIC8gTWF0aC5sb2coYmFzZSk7XG5cblx0XHRcdFx0XHQvKiovIGlmKHNjYWxlID4gMC4wKSB7XG5cdFx0XHRcdFx0XHRzY2FsZSA9IE1hdGguY2VpbChzY2FsZSAtIDEpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIGlmKHNjYWxlIDwgMC4wKSB7XG5cdFx0XHRcdFx0XHRzY2FsZSA9IE1hdGguZmxvb3Ioc2NhbGUgLSAwKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGVsc2Vcblx0XHRcdHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRjb25zdCBmYWN0b3IgPSBNYXRoLnBvdyhiYXNlLCBzY2FsZSk7XG5cblx0XHRcdGVsLmF0dHIoJ2RhdGEtdW5pdC12YWwnLCAocmF3VmFsIC8gZmFjdG9yKS50b1ByZWNpc2lvbigzKSk7XG5cblx0XHRcdGVsLmF0dHIoJ2RhdGEtdW5pdC1mYWN0b3InLCB0aGlzLmdldEZhY3RvclN0cihmYWN0b3IsIGJhc2UpKTtcblxuXHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0ZWwuYXR0cignZGF0YS1yYXctdW5pdC12YWwnLCByYXdWYWwpO1xuXHRcdFx0ZWwuYXR0cignZGF0YS1yYXctdW5pdC1uYW1lJywgdW5pdE5hbWUpO1xuXHRcdFx0ZWwuYXR0cignZGF0YS1yYXctdW5pdC1mYWN0b3InLCAoKChcIlwiKSkpKTtcblx0XHRcdGVsLmF0dHIoJ2RhdGEtcmF3LXVuaXQtYmFzZScsIHVuaXRCYXNlKTtcblxuXHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0XHRcdC8qIFNFVFVQIEVESVRPUiBBTkQgVVBEQVRFIFRFWFQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRlbC5jbGljaygoKSA9PiB7XG5cblx0XHRcdFx0aWYoIXRoaXMuaW5FZGl0TW9kZSlcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHRoaXMuZWRpdFVuaXQoZWwpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0dGhpcy51cGRhdGVUZXh0KGVsKTtcblxuXHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0XHR9KTtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0aXNJbkVkaXRNb2RlOiBmdW5jdGlvbigpXG5cdHtcblx0XHRyZXR1cm4gdGhpcy5pbkVkaXRNb2RlKCk7XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdHNldEluRWRpdE1vZGU6IGZ1bmN0aW9uKGluRWRpdE1vZGUpXG5cdHtcblx0XHRpZihpbkVkaXRNb2RlKSB7XG5cdFx0XHR0aGlzLmVsLmFkZENsYXNzKCdmaWVsZC1lZGl0Jyk7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0dGhpcy5lbC5yZW1vdmVDbGFzcygnZmllbGQtZWRpdCcpO1xuXHRcdH1cblxuXHRcdHRoaXMuaW5FZGl0TW9kZSA9IGluRWRpdE1vZGU7XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdGVkaXRVbml0OiBmdW5jdGlvbihlbClcblx0e1xuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0Y29uc3QgcmF3VW5pdFZhbCA9IGVsLmF0dHIoJ2RhdGEtcmF3LXVuaXQtdmFsJyk7XG5cdFx0Y29uc3QgcmF3VW5pdE5hbWUgPSBlbC5hdHRyKCdkYXRhLXJhdy11bml0LW5hbWUnKTtcblx0XHRjb25zdCByYXdVbml0RmFjdG9yID0gZWwuYXR0cignZGF0YS1yYXctdW5pdC1mYWN0b3InKTtcblxuXHRcdGNvbnN0IHVuaXROYW1lID0gZWwuYXR0cignZGF0YS11bml0LW5hbWUnKTtcblx0XHRjb25zdCB1bml0RmFjdG9yID0gZWwuYXR0cignZGF0YS11bml0LWZhY3RvcicpO1xuXHRcdGNvbnN0IHVuaXRCYXNlID0gZWwuYXR0cignZGF0YS11bml0LWJhc2UnKTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0JCgnI0RCNkYxQjNCX0ExRTFfNDc0Rl80OTREX0I2NzMzNjdENjAyMCcpLnRleHQoJ3JhdyB2YWx1ZTogJyArIHJhd1VuaXRWYWwgKyAnICcgKyByYXdVbml0RmFjdG9yICsgcmF3VW5pdE5hbWUpO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHQkKCcjQjIzRUE5NkRfMDdDQl8wRDQ5XzU2NEFfOENCQzQ0NjMzMUYwJykudmFsKHVuaXROYW1lKTtcblx0XHQkKCcjQzk3MTJDN0JfOUE1Q19CRDgzXzQ1RDFfNENDNTJDRDgxREE5JykudmFsKHVuaXRGYWN0b3IpO1xuXHRcdCQoJyNDRTc3QjJDRl9BODNCXzg1NERfNkI5NF8xQTdBNjU1NTU4MzMnKS52YWwodW5pdEJhc2UpO1xuXG5cdFx0aWYoZWwuYXR0cignZGF0YS1odW1hbi1yZWFkYWJsZScpLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKS50b0xvd2VyQ2FzZSgpID09PSAnZmFsc2UnKVxuXHRcdHtcblx0XHRcdCQoJyNEODRENjE1Rl84RTRBX0M5RkJfMThERF9EOTI3QjlDRDY4QkQnKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xuXHRcdH1cblx0XHRlbHNlXG5cdFx0e1xuXHRcdFx0JCgnI0Q4NEQ2MTVGXzhFNEFfQzlGQl8xOEREX0Q5MjdCOUNENjhCRCcpLnByb3AoJ2NoZWNrZWQnLCB0cnVlKTtcblx0XHR9XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdCQoJyNCMTZERDY2Rl9ENUExX0JDREZfREI3OF9EMzc1RDdCMjA4QzUnKS5vZmYoKS5vbignc3VibWl0JywgKGUpID0+IHtcblxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHR0aGlzLmFwcGx5KGVsKTtcblx0XHR9KTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0JCgnI0VFRkVFNEU2XzI3NTZfMEZBQ182RTFDXzc3Rjg5RTUwMTQxNycpLm1vZGFsKCdzaG93Jyk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0YXBwbHk6IGZ1bmN0aW9uKGVsKVxuXHR7XG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRjb25zdCB1bml0TmFtZSA9ICQoJyNCMjNFQTk2RF8wN0NCXzBENDlfNTY0QV84Q0JDNDQ2MzMxRjAnKS52YWwoKTtcblx0XHRjb25zdCB1bml0RmFjdG9yID0gJCgnI0M5NzEyQzdCXzlBNUNfQkQ4M180NUQxXzRDQzUyQ0Q4MURBOScpLnZhbCgpO1xuXHRcdGNvbnN0IHVuaXRCYXNlID0gJCgnI0NFNzdCMkNGX0E4M0JfODU0RF82Qjk0XzFBN0E2NTU1NTgzMycpLnZhbCgpO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRlbC5hdHRyKCdkYXRhLXVuaXQtbmFtZScsIHVuaXROYW1lKTtcblx0XHRlbC5hdHRyKCdkYXRhLXVuaXQtZmFjdG9yJywgdW5pdEZhY3Rvcik7XG5cdFx0ZWwuYXR0cignZGF0YS11bml0LWJhc2UnLCB1bml0QmFzZSk7XG5cblx0XHRpZigkKCcjRDg0RDYxNUZfOEU0QV9DOUZCXzE4RERfRDkyN0I5Q0Q2OEJEJykucHJvcCgnY2hlY2tlZCcpKVxuXHRcdHtcblx0XHRcdGVsLmF0dHIoJ2RhdGEtaHVtYW4tcmVhZGFibGUnLCAndHJ1ZScpO1xuXHRcdH1cblx0XHRlbHNlXG5cdFx0e1xuXHRcdFx0ZWwuYXR0cignZGF0YS1odW1hbi1yZWFkYWJsZScsICdmYWxzZScpO1xuXHRcdH1cblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0Y29uc3QgbmV3VmFsID0gcGFyc2VGbG9hdChlbC5hdHRyKCdkYXRhLXJhdy11bml0LXZhbCcpKSAvIHRoaXMuZ2V0RmFjdG9yRmx0KHVuaXRGYWN0b3IsIHBhcnNlRmxvYXQodW5pdEJhc2UpKTtcblxuXHRcdGVsLmF0dHIoJ2RhdGEtdW5pdC12YWwnLCBuZXdWYWwudG9QcmVjaXNpb24oMykpO1xuXG5cdFx0dGhpcy51cGRhdGVUZXh0KGVsKTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0JCgnI0VFRkVFNEU2XzI3NTZfMEZBQ182RTFDXzc3Rjg5RTUwMTQxNycpLm1vZGFsKCdoaWRlJyk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0dXBkYXRlVGV4dDogZnVuY3Rpb24oZWwpXG5cdHtcblx0XHRpZihlbC5hdHRyKCdkYXRhLWh1bWFuLXJlYWRhYmxlJykucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpLnRvTG93ZXJDYXNlKCkgPT09ICdmYWxzZScpXG5cdFx0e1xuXHRcdFx0ZWwudGV4dChcblx0XHRcdFx0ZWwuYXR0cignZGF0YS1yYXctdW5pdC12YWwnKVxuXHRcdFx0XHQrICcgJyArXG5cdFx0XHRcdGVsLmF0dHIoJ2RhdGEtcmF3LXVuaXQtZmFjdG9yJylcblx0XHRcdFx0K1xuXHRcdFx0XHRlbC5hdHRyKCdkYXRhLXJhdy11bml0LW5hbWUnKVxuXHRcdFx0KTtcblx0XHR9XG5cdFx0ZWxzZVxuXHRcdHtcblx0XHRcdGVsLnRleHQoXG5cdFx0XHRcdGVsLmF0dHIoJ2RhdGEtdW5pdC12YWwnKVxuXHRcdFx0XHQrICcgJyArXG5cdFx0XHRcdGVsLmF0dHIoJ2RhdGEtdW5pdC1mYWN0b3InKVxuXHRcdFx0XHQrXG5cdFx0XHRcdGVsLmF0dHIoJ2RhdGEtdW5pdC1uYW1lJylcblx0XHRcdCk7XG5cdFx0fVxuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRmYWN0b3IyVW5pdF8xMDAwOiB7XG5cdFx0MS4wZSsyNDogJ1knLFxuXHRcdDEuMGUrMjE6ICdaJyxcblx0XHQxLjBlKzE4OiAnRScsXG5cdFx0MS4wZSsxNTogJ1AnLFxuXHRcdDEuMGUrMTI6ICdUJyxcblx0XHQxLjBlKzk6ICdHJyxcblx0XHQxLjBlKzY6ICdNJyxcblx0XHQxLjBlKzM6ICdrJyxcblx0XHQxLjA6ICcnLFxuXHRcdDEuMGUtMzogJ20nLFxuXHRcdDEuMGUtNjogJ3UnLFxuXHRcdDEuMGUtOTogJ24nLFxuXHRcdDEuMGUtMTI6ICdwJyxcblx0XHQxLjBlLTE1OiAnZicsXG5cdFx0MS4wZS0xODogJ2EnLFxuXHRcdDEuMGUtMjE6ICd6Jyxcblx0XHQxLjBlLTI0OiAneScsXG5cdH0sXG5cblx0ZmFjdG9yMlVuaXRfMTAyNDoge1xuXHRcdDEyMDg5MjU4MTk2MTQ2MjkxNzQ3MDYxNzYuMDogJ1knLFxuXHRcdDExODA1OTE2MjA3MTc0MTEzMDM0MjQuMDogJ1onLFxuXHRcdDExNTI5MjE1MDQ2MDY4NDY5NzYuMDogJ0UnLFxuXHRcdDExMjU4OTk5MDY4NDI2MjQuMDogJ1AnLFxuXHRcdDEwOTk1MTE2Mjc3NzYuMDogJ1QnLFxuXHRcdDEwNzM3NDE4MjQuMDogJ0cnLFxuXHRcdDEwNDg1NzYuMDogJ00nLFxuXHRcdDEwMjQuMDogJ2snLFxuXHRcdDEuMDogJycsXG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdGdldEZhY3RvclN0cjogZnVuY3Rpb24oZmFjdG9yLCBiYXNlKVxuXHR7XG5cdFx0bGV0IHJlc3VsdDtcblxuXHRcdC8qKi8gaWYoYmFzZSA9PT0gMTAwMC4wKSB7XG5cdFx0XHRyZXN1bHQgPSB0aGlzLmZhY3RvcjJVbml0XzEwMDAuaGFzT3duUHJvcGVydHkoZmFjdG9yKSA/IHRoaXMuZmFjdG9yMlVuaXRfMTAwMFtmYWN0b3JdIDogJz8nO1xuXHRcdH1cblx0XHRlbHNlIGlmKGJhc2UgPT0gMTAyNC4wKSB7XG5cdFx0XHRyZXN1bHQgPSB0aGlzLmZhY3RvcjJVbml0XzEwMjQuaGFzT3duUHJvcGVydHkoZmFjdG9yKSA/IHRoaXMuZmFjdG9yMlVuaXRfMTAyNFtmYWN0b3JdIDogJz8nO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdHJlc3VsdCA9ICc/Jztcblx0XHR9XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHR1bml0MkZhY3Rvcl8xMDAwOiB7XG5cdFx0J1knOiAxLjBlKzI0LFxuXHRcdCdaJzogMS4wZSsyMSxcblx0XHQnRSc6IDEuMGUrMTgsXG5cdFx0J1AnOiAxLjBlKzE1LFxuXHRcdCdUJzogMS4wZSsxMixcblx0XHQnRyc6IDEuMGUrOSxcblx0XHQnTSc6IDEuMGUrNixcblx0XHQnayc6IDEuMGUrMyxcblx0XHQnJzogMS4wLFxuXHRcdCdtJzogMS4wZS0zLFxuXHRcdCd1JzogMS4wZS02LFxuXHRcdCduJzogMS4wZS05LFxuXHRcdCdwJzogMS4wZS0xMixcblx0XHQnZic6IDEuMGUtMTUsXG5cdFx0J2EnOiAxLjBlLTE4LFxuXHRcdCd6JzogMS4wZS0yMSxcblx0XHQneSc6IDEuMGUtMjQsXG5cdH0sXG5cblx0dW5pdDJGYWN0b3JfMTAyNDoge1xuXHRcdCdZJzogMTIwODkyNTgxOTYxNDYyOTE3NDcwNjE3Ni4wLFxuXHRcdCdaJzogMTE4MDU5MTYyMDcxNzQxMTMwMzQyNC4wLFxuXHRcdCdFJzogMTE1MjkyMTUwNDYwNjg0Njk3Ni4wLFxuXHRcdCdQJzogMTEyNTg5OTkwNjg0MjYyNC4wLFxuXHRcdCdUJzogMTA5OTUxMTYyNzc3Ni4wLFxuXHRcdCdHJzogMTA3Mzc0MTgyNC4wLFxuXHRcdCdNJzogMTA0ODU3Ni4wLFxuXHRcdCdrJzogMTAyNC4wLFxuXHRcdCcnOiAxLjAsXG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdGdldEZhY3RvckZsdDogZnVuY3Rpb24odW5pdCwgYmFzZSlcblx0e1xuXHRcdGxldCByZXN1bHQ7XG5cblx0XHQvKiovIGlmKGJhc2UgPT09IDEwMDAuMCkge1xuXHRcdFx0cmVzdWx0ID0gdGhpcy51bml0MkZhY3Rvcl8xMDAwLmhhc093blByb3BlcnR5KHVuaXQpID8gdGhpcy51bml0MkZhY3Rvcl8xMDAwW3VuaXRdIDogMS4wO1xuXHRcdH1cblx0XHRlbHNlIGlmKGJhc2UgPT0gMTAyNC4wKSB7XG5cdFx0XHRyZXN1bHQgPSB0aGlzLnVuaXQyRmFjdG9yXzEwMjQuaGFzT3duUHJvcGVydHkodW5pdCkgPyB0aGlzLnVuaXQyRmFjdG9yXzEwMjRbdW5pdF0gOiAxLjA7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0cmVzdWx0ID0gMS4wO1xuXHRcdH1cblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xufSk7XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4iXX0=
