/*!
 * AMI Web Framework
 *
 * Copyright (c) 2014-XXXX The AMI Team / LPSC / IN2P3
 *
 * This file must be used under the terms of the CeCILL-C:
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-fr.html
 *
 * @global FieldEditorCtrl_lock
 */$AMIClass("UnitEditorCtrl",{$extends:ami.Control,$init:function $init(parent,owner){this.$super.$init(parent,owner)},onReady:function onReady(){var _this=this;return amiWebApp.loadResources([amiWebApp.originURL+"/controls/UnitEditor/twig/UnitEditorCtrl.twig"]).done(function(data){_this.inEditMode=false;amiWebApp.appendHTML("body",data[0]).done(function(){var el1=$("#CE77B2CF_A83B_854D_6B94_1A7A65555833");var el2=$("#C9712C7B_9A5C_BD83_45D1_4CC52CD81DA9");el1.change(function(){switch(el1.find("option:selected").val()){case"1000":el2.find(".positive").show();el2.find(".negative").show();break;case"1024":el2.find(".positive").show();el2.find(".negative").hide();break;default:el2.find(".positive").hide();el2.find(".negative").hide();break;}})})})},setup:function setup(selector){var _this2=this;this.el=$(selector);this.el.find("[data-unit-name]").each(function(index,item){var el=$(item);var unitVal=el.attr("data-val");var unitName=el.attr("data-unit-name");var unitFactor=el.attr("data-unit-factor");var unitBase=el.attr("data-unit-base");var scale=0;var base=parseFloat(unitBase);var rawVal=parseFloat(unitVal)*_this2.getFactorFlt(unitFactor,base);if(!Number.isNaN(rawVal)){if(rawVal!==0){scale=Math.log(rawVal)/Math.log(base);if(scale>0){scale=Math.ceil(scale-1)}else if(scale<0){scale=Math.floor(scale-0)}}}else{return}var factor=Math.pow(base,scale);el.attr("data-unit-val",(rawVal/factor).toPrecision(3));el.attr("data-unit-factor",_this2.getFactorStr(factor,base));el.attr("data-raw-unit-val",rawVal);el.attr("data-raw-unit-name",unitName);el.attr("data-raw-unit-factor","");el.attr("data-raw-unit-base",unitBase);el.click(function(){if(!_this2.inEditMode){_this2.editUnit(el)}});_this2.updateText(el)})},isInEditMode:function isInEditMode(){return this.inEditMode()},setInEditMode:function setInEditMode(inEditMode){if(inEditMode){this.el.addClass("field-edit")}else{this.el.removeClass("field-edit")}this.inEditMode=inEditMode},editUnit:function editUnit(el){var _this3=this;var rawUnitVal=el.attr("data-raw-unit-val");var rawUnitName=el.attr("data-raw-unit-name");var rawUnitFactor=el.attr("data-raw-unit-factor");var unitName=el.attr("data-unit-name");var unitFactor=el.attr("data-unit-factor");var unitBase=el.attr("data-unit-base");$("#DB6F1B3B_A1E1_474F_494D_B673367D6020").text("raw value: "+rawUnitVal+" "+rawUnitFactor+rawUnitName);$("#B23EA96D_07CB_0D49_564A_8CBC446331F0").val(unitName);$("#C9712C7B_9A5C_BD83_45D1_4CC52CD81DA9").val(unitFactor);$("#CE77B2CF_A83B_854D_6B94_1A7A65555833").val(unitBase);if(el.attr("data-human-readable").replace(/^\s+|\s+$/g,"").toLowerCase()==="false"){$("#D84D615F_8E4A_C9FB_18DD_D927B9CD68BD").prop("checked",false)}else{$("#D84D615F_8E4A_C9FB_18DD_D927B9CD68BD").prop("checked",true)}$("#B16DD66F_D5A1_BCDF_DB78_D375D7B208C5").off().on("submit",function(e){e.preventDefault();_this3.apply(el)});$("#EEFEE4E6_2756_0FAC_6E1C_77F89E501417").modal("show")},apply:function apply(el){var unitName=$("#B23EA96D_07CB_0D49_564A_8CBC446331F0").val();var unitFactor=$("#C9712C7B_9A5C_BD83_45D1_4CC52CD81DA9").val();var unitBase=$("#CE77B2CF_A83B_854D_6B94_1A7A65555833").val();el.attr("data-unit-name",unitName);el.attr("data-unit-factor",unitFactor);el.attr("data-unit-base",unitBase);if($("#D84D615F_8E4A_C9FB_18DD_D927B9CD68BD").prop("checked")){el.attr("data-human-readable","true")}else{el.attr("data-human-readable","false")}var newVal=parseFloat(el.attr("data-raw-unit-val"))/this.getFactorFlt(unitFactor,parseFloat(unitBase));el.attr("data-unit-val",newVal.toPrecision(3));this.updateText(el);$("#EEFEE4E6_2756_0FAC_6E1C_77F89E501417").modal("hide")},updateText:function updateText(el){if(el.attr("data-human-readable").replace(/^\s+|\s+$/g,"").toLowerCase()==="false"){el.text(el.attr("data-raw-unit-val")+" "+el.attr("data-raw-unit-factor")+el.attr("data-raw-unit-name"))}else{el.text(el.attr("data-unit-val")+" "+el.attr("data-unit-factor")+el.attr("data-unit-name"))}},factor2Unit_1000:{1e+24:"Y",1e+21:"Z",1.0e+18:"E",1.0e+15:"P",1.0e+12:"T",1.0e+9:"G",1.0e+6:"M",1000:"k",1:"",0.001:"m",1.0e-6:"u",1e-9:"n",1e-12:"p",1e-15:"f",1e-18:"a",1e-21:"z",1e-24:"y"},factor2Unit_1024:{1.2089258196146292e+24:"Y",1.1805916207174113e+21:"Z",1152921504606847000:"E",1125899906842624:"P",1099511627776:"T",1073741824:"G",1048576:"M",1024:"k",1:""},getFactorStr:function getFactorStr(factor,base){var result;if(base===1000){result=factor in this.factor2Unit_1000?this.factor2Unit_1000[factor]:"?"}else if(base==1024){result=factor in this.factor2Unit_1024?this.factor2Unit_1024[factor]:"?"}else{result="?"}return result},unit2Factor_1000:{"Y":1e+24,"Z":1e+21,"E":1.0e+18,"P":1.0e+15,"T":1.0e+12,"G":1.0e+9,"M":1.0e+6,"k":1000,"":1,"m":0.001,"u":1.0e-6,"n":1e-9,"p":1e-12,"f":1e-15,"a":1e-18,"z":1e-21,"y":1e-24},unit2Factor_1024:{"Y":1.2089258196146292e+24,"Z":1.1805916207174113e+21,"E":1152921504606847000,"P":1125899906842624,"T":1099511627776,"G":1073741824,"M":1048576,"k":1024,"":1},getFactorFlt:function getFactorFlt(unit,base){var result;if(base===1000){result=unit in this.unit2Factor_1000?this.unit2Factor_1000[unit]:1}else if(base==1024){result=unit in this.unit2Factor_1024?this.unit2Factor_1024[unit]:1}else{result=1}return result}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVuaXRFZGl0b3JDdHJsLmVzNi5qcyJdLCJuYW1lcyI6WyIkQU1JQ2xhc3MiLCIkZXh0ZW5kcyIsImFtaSIsIkNvbnRyb2wiLCIkaW5pdCIsInBhcmVudCIsIm93bmVyIiwiJHN1cGVyIiwib25SZWFkeSIsImFtaVdlYkFwcCIsImxvYWRSZXNvdXJjZXMiLCJvcmlnaW5VUkwiLCJkb25lIiwiZGF0YSIsImluRWRpdE1vZGUiLCJhcHBlbmRIVE1MIiwiZWwxIiwiJCIsImVsMiIsImNoYW5nZSIsImZpbmQiLCJ2YWwiLCJzaG93IiwiaGlkZSIsInNldHVwIiwic2VsZWN0b3IiLCJlbCIsImVhY2giLCJpbmRleCIsIml0ZW0iLCJ1bml0VmFsIiwiYXR0ciIsInVuaXROYW1lIiwidW5pdEZhY3RvciIsInVuaXRCYXNlIiwic2NhbGUiLCJiYXNlIiwicGFyc2VGbG9hdCIsInJhd1ZhbCIsImdldEZhY3RvckZsdCIsIk51bWJlciIsImlzTmFOIiwiTWF0aCIsImxvZyIsImNlaWwiLCJmbG9vciIsImZhY3RvciIsInBvdyIsInRvUHJlY2lzaW9uIiwiZ2V0RmFjdG9yU3RyIiwiY2xpY2siLCJlZGl0VW5pdCIsInVwZGF0ZVRleHQiLCJpc0luRWRpdE1vZGUiLCJzZXRJbkVkaXRNb2RlIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsInJhd1VuaXRWYWwiLCJyYXdVbml0TmFtZSIsInJhd1VuaXRGYWN0b3IiLCJ0ZXh0IiwicmVwbGFjZSIsInRvTG93ZXJDYXNlIiwicHJvcCIsIm9mZiIsIm9uIiwiZSIsInByZXZlbnREZWZhdWx0IiwiYXBwbHkiLCJtb2RhbCIsIm5ld1ZhbCIsImZhY3RvcjJVbml0XzEwMDAiLCJmYWN0b3IyVW5pdF8xMDI0IiwicmVzdWx0IiwidW5pdDJGYWN0b3JfMTAwMCIsInVuaXQyRmFjdG9yXzEwMjQiLCJ1bml0Il0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7OztHQWNBQSxTQUFTLENBQUMsZ0JBQUQsQ0FBbUIsQ0FHM0JDLFFBQVEsQ0FB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QixJQUFLLE1BTlksQ0FPakIsSUFBSyxNQVBZLENBUWpCLElBQUssSUFSWSxDQVNqQixHQUFJLENBVGEsQ0FVakIsSUFBSyxLQVZZLENBV2pCLElBQUssTUFYWSxDQVlqQixJQUFLLElBWlksQ0FhakIsSUFBSyxLQWJZLENBY2pCLElBQUssS0FkWSxDQWVqQixJQUFLLEtBZlksQ0FnQmpCLElBQUssS0FoQlksQ0FpQmpCLElBQUssS0FqQlksQ0FwVVMsQ0F3VjNCQyxnQkFBZ0IsQ0FBRSxDQUNqQixJQUFLLHNCQURZLENBRWpCLElBQUssc0JBRlksQ0FHakIsSUFBSyxtQkFIWSxDQUlqQixJQUFLLGdCQUpZLENBS2pCLElBQUssYUFMWSxDQU1qQixJQUFLLFVBTlksQ0FPakIsSUFBSyxPQVBZLENBUWpCLElBQUssSUFSWSxDQVNqQixHQUFJLENBVGEsQ0F4VlMsQ0FzVzNCcEMsWUFBWSxDQUFFLHNCQUFTcUMsSUFBVCxDQUFleEMsSUFBZixDQUNkLENBQ0MsR0FBSXFDLENBQUFBLE1BQUosQ0FFSyxHQUFHckMsSUFBSSxHQUFLLElBQVosQ0FBb0IsQ0FDeEJxQyxNQUFNLENBQUdHLElBQUksR0FBSSxNQUFLRixnQkFBYixDQUFnQyxLQUFLQSxnQkFBTCxDQUFzQkUsSUFBdEIsQ0FBaEMsQ0FBOEQsQ0FDdkUsQ0FGSSxJQUdBLElBQUd4QyxJQUFJLEVBQUksSUFBWCxDQUFtQixDQUN2QnFDLE1BQU0sQ0FBR0csSUFBSSxHQUFJLE1BQUtELGdCQUFiLENBQWdDLEtBQUtBLGdCQUFMLENBQXNCQyxJQUF0QixDQUFoQyxDQUE4RCxDQUN2RSxDQUZJLElBR0EsQ0FDSkgsTUFBTSxDQUFHLENBQ1QsQ0FFRCxNQUFPQSxDQUFBQSxNQUNQLENBclgwQixDQUFuQixDQUFUIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBBTUkgV2ViIEZyYW1ld29ya1xuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNC1YWFhYIFRoZSBBTUkgVGVhbSAvIExQU0MgLyBJTjJQM1xuICpcbiAqIFRoaXMgZmlsZSBtdXN0IGJlIHVzZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBDZUNJTEwtQzpcbiAqIGh0dHA6Ly93d3cuY2VjaWxsLmluZm8vbGljZW5jZXMvTGljZW5jZV9DZUNJTEwtQ19WMS1lbi5odG1sXG4gKiBodHRwOi8vd3d3LmNlY2lsbC5pbmZvL2xpY2VuY2VzL0xpY2VuY2VfQ2VDSUxMLUNfVjEtZnIuaHRtbFxuICpcbiAqIEBnbG9iYWwgRmllbGRFZGl0b3JDdHJsX2xvY2tcbiAqL1xuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuJEFNSUNsYXNzKCdVbml0RWRpdG9yQ3RybCcsIHtcblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQkZXh0ZW5kczogYW1pLkNvbnRyb2wsXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQkaW5pdDogZnVuY3Rpb24ocGFyZW50LCBvd25lcilcblx0e1xuXHRcdHRoaXMuJHN1cGVyLiRpbml0KHBhcmVudCwgb3duZXIpO1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0b25SZWFkeTogZnVuY3Rpb24oKVxuXHR7XG5cdFx0cmV0dXJuIGFtaVdlYkFwcC5sb2FkUmVzb3VyY2VzKFtcblx0XHRcdGFtaVdlYkFwcC5vcmlnaW5VUkwgKyAnL2NvbnRyb2xzL1VuaXRFZGl0b3IvdHdpZy9Vbml0RWRpdG9yQ3RybC50d2lnJyxcblx0XHRdKS5kb25lKChkYXRhKSA9PiB7XG5cblx0XHRcdHRoaXMuaW5FZGl0TW9kZSA9IGZhbHNlO1xuXG5cdFx0XHRhbWlXZWJBcHAuYXBwZW5kSFRNTCgnYm9keScsIGRhdGFbMF0pLmRvbmUoKCkgPT4ge1xuXG5cdFx0XHRcdGNvbnN0IGVsMSA9ICQoJyNDRTc3QjJDRl9BODNCXzg1NERfNkI5NF8xQTdBNjU1NTU4MzMnKTtcblx0XHRcdFx0Y29uc3QgZWwyID0gJCgnI0M5NzEyQzdCXzlBNUNfQkQ4M180NUQxXzRDQzUyQ0Q4MURBOScpO1xuXG5cdFx0XHRcdGVsMS5jaGFuZ2UoKCkgPT4ge1xuXG5cdFx0XHRcdFx0c3dpdGNoKGVsMS5maW5kKCdvcHRpb246c2VsZWN0ZWQnKS52YWwoKSlcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRjYXNlICcxMDAwJzpcblx0XHRcdFx0XHRcdFx0ZWwyLmZpbmQoJy5wb3NpdGl2ZScpLnNob3coKTtcblx0XHRcdFx0XHRcdFx0ZWwyLmZpbmQoJy5uZWdhdGl2ZScpLnNob3coKTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRcdGNhc2UgJzEwMjQnOlxuXHRcdFx0XHRcdFx0XHRlbDIuZmluZCgnLnBvc2l0aXZlJykuc2hvdygpO1xuXHRcdFx0XHRcdFx0XHRlbDIuZmluZCgnLm5lZ2F0aXZlJykuaGlkZSgpO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRcdFx0ZWwyLmZpbmQoJy5wb3NpdGl2ZScpLmhpZGUoKTtcblx0XHRcdFx0XHRcdFx0ZWwyLmZpbmQoJy5uZWdhdGl2ZScpLmhpZGUoKTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0c2V0dXA6IGZ1bmN0aW9uKHNlbGVjdG9yKVxuXHR7XG5cdFx0dGhpcy5lbCA9ICQoc2VsZWN0b3IpO1xuXG5cdFx0dGhpcy5lbC5maW5kKCdbZGF0YS11bml0LW5hbWVdJykuZWFjaCgoaW5kZXgsIGl0ZW0pID0+IHtcblxuXHRcdFx0Y29uc3QgZWwgPSAkKGl0ZW0pO1xuXG5cdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0XHRcdC8qIEdFVCBVTklUIElORk8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRcdGNvbnN0IHVuaXRWYWwgPSBlbC5hdHRyKCdkYXRhLXZhbCcpO1xuXHRcdFx0Y29uc3QgdW5pdE5hbWUgPSBlbC5hdHRyKCdkYXRhLXVuaXQtbmFtZScpO1xuXHRcdFx0Y29uc3QgdW5pdEZhY3RvciA9IGVsLmF0dHIoJ2RhdGEtdW5pdC1mYWN0b3InKTtcblx0XHRcdGNvbnN0IHVuaXRCYXNlID0gZWwuYXR0cignZGF0YS11bml0LWJhc2UnKTtcblxuXHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdFx0XHQvKiBPUFRJTUlaRSBVTklUIElORk8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRsZXQgc2NhbGUgPSAwLjA7XG5cblx0XHRcdGNvbnN0IGJhc2UgPSBwYXJzZUZsb2F0KHVuaXRCYXNlKTtcblxuXHRcdFx0Y29uc3QgcmF3VmFsID0gcGFyc2VGbG9hdCh1bml0VmFsKSAqIHRoaXMuZ2V0RmFjdG9yRmx0KHVuaXRGYWN0b3IsIGJhc2UpO1xuXG5cdFx0XHRpZighTnVtYmVyLmlzTmFOKHJhd1ZhbCkpXG5cdFx0XHR7XG5cdFx0XHRcdGlmKHJhd1ZhbCAhPT0gMC4wKVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0c2NhbGUgPSBNYXRoLmxvZyhyYXdWYWwpIC8gTWF0aC5sb2coYmFzZSk7XG5cblx0XHRcdFx0XHQvKiovIGlmKHNjYWxlID4gMC4wKSB7XG5cdFx0XHRcdFx0XHRzY2FsZSA9IE1hdGguY2VpbChzY2FsZSAtIDEpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIGlmKHNjYWxlIDwgMC4wKSB7XG5cdFx0XHRcdFx0XHRzY2FsZSA9IE1hdGguZmxvb3Ioc2NhbGUgLSAwKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGVsc2Vcblx0XHRcdHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0Y29uc3QgZmFjdG9yID0gTWF0aC5wb3coYmFzZSwgc2NhbGUpO1xuXG5cdFx0XHRlbC5hdHRyKCdkYXRhLXVuaXQtdmFsJywgKHJhd1ZhbCAvIGZhY3RvcikudG9QcmVjaXNpb24oMykpO1xuXG5cdFx0XHRlbC5hdHRyKCdkYXRhLXVuaXQtZmFjdG9yJywgdGhpcy5nZXRGYWN0b3JTdHIoZmFjdG9yLCBiYXNlKSk7XG5cblx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRlbC5hdHRyKCdkYXRhLXJhdy11bml0LXZhbCcsIHJhd1ZhbCk7XG5cdFx0XHRlbC5hdHRyKCdkYXRhLXJhdy11bml0LW5hbWUnLCB1bml0TmFtZSk7XG5cdFx0XHRlbC5hdHRyKCdkYXRhLXJhdy11bml0LWZhY3RvcicsICgoKCcnKSkpKTtcblx0XHRcdGVsLmF0dHIoJ2RhdGEtcmF3LXVuaXQtYmFzZScsIHVuaXRCYXNlKTtcblxuXHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdFx0XHQvKiBTRVRVUCBFRElUT1IgQU5EIFVQREFURSBURVhUICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRlbC5jbGljaygoKSA9PiB7XG5cblx0XHRcdFx0aWYoIXRoaXMuaW5FZGl0TW9kZSlcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHRoaXMuZWRpdFVuaXQoZWwpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0dGhpcy51cGRhdGVUZXh0KGVsKTtcblxuXHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdFx0fSk7XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRpc0luRWRpdE1vZGU6IGZ1bmN0aW9uKClcblx0e1xuXHRcdHJldHVybiB0aGlzLmluRWRpdE1vZGUoKTtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdHNldEluRWRpdE1vZGU6IGZ1bmN0aW9uKGluRWRpdE1vZGUpXG5cdHtcblx0XHRpZihpbkVkaXRNb2RlKSB7XG5cdFx0XHR0aGlzLmVsLmFkZENsYXNzKCdmaWVsZC1lZGl0Jyk7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0dGhpcy5lbC5yZW1vdmVDbGFzcygnZmllbGQtZWRpdCcpO1xuXHRcdH1cblxuXHRcdHRoaXMuaW5FZGl0TW9kZSA9IGluRWRpdE1vZGU7XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRlZGl0VW5pdDogZnVuY3Rpb24oZWwpXG5cdHtcblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRjb25zdCByYXdVbml0VmFsID0gZWwuYXR0cignZGF0YS1yYXctdW5pdC12YWwnKTtcblx0XHRjb25zdCByYXdVbml0TmFtZSA9IGVsLmF0dHIoJ2RhdGEtcmF3LXVuaXQtbmFtZScpO1xuXHRcdGNvbnN0IHJhd1VuaXRGYWN0b3IgPSBlbC5hdHRyKCdkYXRhLXJhdy11bml0LWZhY3RvcicpO1xuXG5cdFx0Y29uc3QgdW5pdE5hbWUgPSBlbC5hdHRyKCdkYXRhLXVuaXQtbmFtZScpO1xuXHRcdGNvbnN0IHVuaXRGYWN0b3IgPSBlbC5hdHRyKCdkYXRhLXVuaXQtZmFjdG9yJyk7XG5cdFx0Y29uc3QgdW5pdEJhc2UgPSBlbC5hdHRyKCdkYXRhLXVuaXQtYmFzZScpO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0JCgnI0RCNkYxQjNCX0ExRTFfNDc0Rl80OTREX0I2NzMzNjdENjAyMCcpLnRleHQoJ3JhdyB2YWx1ZTogJyArIHJhd1VuaXRWYWwgKyAnICcgKyByYXdVbml0RmFjdG9yICsgcmF3VW5pdE5hbWUpO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0JCgnI0IyM0VBOTZEXzA3Q0JfMEQ0OV81NjRBXzhDQkM0NDYzMzFGMCcpLnZhbCh1bml0TmFtZSk7XG5cdFx0JCgnI0M5NzEyQzdCXzlBNUNfQkQ4M180NUQxXzRDQzUyQ0Q4MURBOScpLnZhbCh1bml0RmFjdG9yKTtcblx0XHQkKCcjQ0U3N0IyQ0ZfQTgzQl84NTREXzZCOTRfMUE3QTY1NTU1ODMzJykudmFsKHVuaXRCYXNlKTtcblxuXHRcdGlmKGVsLmF0dHIoJ2RhdGEtaHVtYW4tcmVhZGFibGUnKS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJykudG9Mb3dlckNhc2UoKSA9PT0gJ2ZhbHNlJylcblx0XHR7XG5cdFx0XHQkKCcjRDg0RDYxNUZfOEU0QV9DOUZCXzE4RERfRDkyN0I5Q0Q2OEJEJykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcblx0XHR9XG5cdFx0ZWxzZVxuXHRcdHtcblx0XHRcdCQoJyNEODRENjE1Rl84RTRBX0M5RkJfMThERF9EOTI3QjlDRDY4QkQnKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XG5cdFx0fVxuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0JCgnI0IxNkRENjZGX0Q1QTFfQkNERl9EQjc4X0QzNzVEN0IyMDhDNScpLm9mZigpLm9uKCdzdWJtaXQnLCAoZSkgPT4ge1xuXG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdHRoaXMuYXBwbHkoZWwpO1xuXHRcdH0pO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0JCgnI0VFRkVFNEU2XzI3NTZfMEZBQ182RTFDXzc3Rjg5RTUwMTQxNycpLm1vZGFsKCdzaG93Jyk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdGFwcGx5OiBmdW5jdGlvbihlbClcblx0e1xuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdGNvbnN0IHVuaXROYW1lID0gJCgnI0IyM0VBOTZEXzA3Q0JfMEQ0OV81NjRBXzhDQkM0NDYzMzFGMCcpLnZhbCgpO1xuXHRcdGNvbnN0IHVuaXRGYWN0b3IgPSAkKCcjQzk3MTJDN0JfOUE1Q19CRDgzXzQ1RDFfNENDNTJDRDgxREE5JykudmFsKCk7XG5cdFx0Y29uc3QgdW5pdEJhc2UgPSAkKCcjQ0U3N0IyQ0ZfQTgzQl84NTREXzZCOTRfMUE3QTY1NTU1ODMzJykudmFsKCk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRlbC5hdHRyKCdkYXRhLXVuaXQtbmFtZScsIHVuaXROYW1lKTtcblx0XHRlbC5hdHRyKCdkYXRhLXVuaXQtZmFjdG9yJywgdW5pdEZhY3Rvcik7XG5cdFx0ZWwuYXR0cignZGF0YS11bml0LWJhc2UnLCB1bml0QmFzZSk7XG5cblx0XHRpZigkKCcjRDg0RDYxNUZfOEU0QV9DOUZCXzE4RERfRDkyN0I5Q0Q2OEJEJykucHJvcCgnY2hlY2tlZCcpKVxuXHRcdHtcblx0XHRcdGVsLmF0dHIoJ2RhdGEtaHVtYW4tcmVhZGFibGUnLCAndHJ1ZScpO1xuXHRcdH1cblx0XHRlbHNlXG5cdFx0e1xuXHRcdFx0ZWwuYXR0cignZGF0YS1odW1hbi1yZWFkYWJsZScsICdmYWxzZScpO1xuXHRcdH1cblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdGNvbnN0IG5ld1ZhbCA9IHBhcnNlRmxvYXQoZWwuYXR0cignZGF0YS1yYXctdW5pdC12YWwnKSkgLyB0aGlzLmdldEZhY3RvckZsdCh1bml0RmFjdG9yLCBwYXJzZUZsb2F0KHVuaXRCYXNlKSk7XG5cblx0XHRlbC5hdHRyKCdkYXRhLXVuaXQtdmFsJywgbmV3VmFsLnRvUHJlY2lzaW9uKDMpKTtcblxuXHRcdHRoaXMudXBkYXRlVGV4dChlbCk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHQkKCcjRUVGRUU0RTZfMjc1Nl8wRkFDXzZFMUNfNzdGODlFNTAxNDE3JykubW9kYWwoJ2hpZGUnKTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdHVwZGF0ZVRleHQ6IGZ1bmN0aW9uKGVsKVxuXHR7XG5cdFx0aWYoZWwuYXR0cignZGF0YS1odW1hbi1yZWFkYWJsZScpLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKS50b0xvd2VyQ2FzZSgpID09PSAnZmFsc2UnKVxuXHRcdHtcblx0XHRcdGVsLnRleHQoXG5cdFx0XHRcdGVsLmF0dHIoJ2RhdGEtcmF3LXVuaXQtdmFsJylcblx0XHRcdFx0KyAnICcgK1xuXHRcdFx0XHRlbC5hdHRyKCdkYXRhLXJhdy11bml0LWZhY3RvcicpXG5cdFx0XHRcdCtcblx0XHRcdFx0ZWwuYXR0cignZGF0YS1yYXctdW5pdC1uYW1lJylcblx0XHRcdCk7XG5cdFx0fVxuXHRcdGVsc2Vcblx0XHR7XG5cdFx0XHRlbC50ZXh0KFxuXHRcdFx0XHRlbC5hdHRyKCdkYXRhLXVuaXQtdmFsJylcblx0XHRcdFx0KyAnICcgK1xuXHRcdFx0XHRlbC5hdHRyKCdkYXRhLXVuaXQtZmFjdG9yJylcblx0XHRcdFx0K1xuXHRcdFx0XHRlbC5hdHRyKCdkYXRhLXVuaXQtbmFtZScpXG5cdFx0XHQpO1xuXHRcdH1cblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdGZhY3RvcjJVbml0XzEwMDA6IHtcblx0XHQxLjBlKzI0OiAnWScsXG5cdFx0MS4wZSsyMTogJ1onLFxuXHRcdDEuMGUrMTg6ICdFJyxcblx0XHQxLjBlKzE1OiAnUCcsXG5cdFx0MS4wZSsxMjogJ1QnLFxuXHRcdDEuMGUrOTogJ0cnLFxuXHRcdDEuMGUrNjogJ00nLFxuXHRcdDEuMGUrMzogJ2snLFxuXHRcdDEuMDogJycsXG5cdFx0MS4wZS0zOiAnbScsXG5cdFx0MS4wZS02OiAndScsXG5cdFx0MS4wZS05OiAnbicsXG5cdFx0MS4wZS0xMjogJ3AnLFxuXHRcdDEuMGUtMTU6ICdmJyxcblx0XHQxLjBlLTE4OiAnYScsXG5cdFx0MS4wZS0yMTogJ3onLFxuXHRcdDEuMGUtMjQ6ICd5Jyxcblx0fSxcblxuXHRmYWN0b3IyVW5pdF8xMDI0OiB7XG5cdFx0MTIwODkyNTgxOTYxNDYyOTE3NDcwNjE3Ni4wOiAnWScsXG5cdFx0MTE4MDU5MTYyMDcxNzQxMTMwMzQyNC4wOiAnWicsXG5cdFx0MTE1MjkyMTUwNDYwNjg0Njk3Ni4wOiAnRScsXG5cdFx0MTEyNTg5OTkwNjg0MjYyNC4wOiAnUCcsXG5cdFx0MTA5OTUxMTYyNzc3Ni4wOiAnVCcsXG5cdFx0MTA3Mzc0MTgyNC4wOiAnRycsXG5cdFx0MTA0ODU3Ni4wOiAnTScsXG5cdFx0MTAyNC4wOiAnaycsXG5cdFx0MS4wOiAnJyxcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdGdldEZhY3RvclN0cjogZnVuY3Rpb24oZmFjdG9yLCBiYXNlKVxuXHR7XG5cdFx0bGV0IHJlc3VsdDtcblxuXHRcdC8qKi8gaWYoYmFzZSA9PT0gMTAwMC4wKSB7XG5cdFx0XHRyZXN1bHQgPSBmYWN0b3IgaW4gdGhpcy5mYWN0b3IyVW5pdF8xMDAwID8gdGhpcy5mYWN0b3IyVW5pdF8xMDAwW2ZhY3Rvcl0gOiAnPyc7XG5cdFx0fVxuXHRcdGVsc2UgaWYoYmFzZSA9PSAxMDI0LjApIHtcblx0XHRcdHJlc3VsdCA9IGZhY3RvciBpbiB0aGlzLmZhY3RvcjJVbml0XzEwMjQgPyB0aGlzLmZhY3RvcjJVbml0XzEwMjRbZmFjdG9yXSA6ICc/Jztcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRyZXN1bHQgPSAnPyc7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdHVuaXQyRmFjdG9yXzEwMDA6IHtcblx0XHQnWSc6IDEuMGUrMjQsXG5cdFx0J1onOiAxLjBlKzIxLFxuXHRcdCdFJzogMS4wZSsxOCxcblx0XHQnUCc6IDEuMGUrMTUsXG5cdFx0J1QnOiAxLjBlKzEyLFxuXHRcdCdHJzogMS4wZSs5LFxuXHRcdCdNJzogMS4wZSs2LFxuXHRcdCdrJzogMS4wZSszLFxuXHRcdCcnOiAxLjAsXG5cdFx0J20nOiAxLjBlLTMsXG5cdFx0J3UnOiAxLjBlLTYsXG5cdFx0J24nOiAxLjBlLTksXG5cdFx0J3AnOiAxLjBlLTEyLFxuXHRcdCdmJzogMS4wZS0xNSxcblx0XHQnYSc6IDEuMGUtMTgsXG5cdFx0J3onOiAxLjBlLTIxLFxuXHRcdCd5JzogMS4wZS0yNCxcblx0fSxcblxuXHR1bml0MkZhY3Rvcl8xMDI0OiB7XG5cdFx0J1knOiAxMjA4OTI1ODE5NjE0NjI5MTc0NzA2MTc2LjAsXG5cdFx0J1onOiAxMTgwNTkxNjIwNzE3NDExMzAzNDI0LjAsXG5cdFx0J0UnOiAxMTUyOTIxNTA0NjA2ODQ2OTc2LjAsXG5cdFx0J1AnOiAxMTI1ODk5OTA2ODQyNjI0LjAsXG5cdFx0J1QnOiAxMDk5NTExNjI3Nzc2LjAsXG5cdFx0J0cnOiAxMDczNzQxODI0LjAsXG5cdFx0J00nOiAxMDQ4NTc2LjAsXG5cdFx0J2snOiAxMDI0LjAsXG5cdFx0Jyc6IDEuMCxcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdGdldEZhY3RvckZsdDogZnVuY3Rpb24odW5pdCwgYmFzZSlcblx0e1xuXHRcdGxldCByZXN1bHQ7XG5cblx0XHQvKiovIGlmKGJhc2UgPT09IDEwMDAuMCkge1xuXHRcdFx0cmVzdWx0ID0gdW5pdCBpbiB0aGlzLnVuaXQyRmFjdG9yXzEwMDAgPyB0aGlzLnVuaXQyRmFjdG9yXzEwMDBbdW5pdF0gOiAxLjA7XG5cdFx0fVxuXHRcdGVsc2UgaWYoYmFzZSA9PSAxMDI0LjApIHtcblx0XHRcdHJlc3VsdCA9IHVuaXQgaW4gdGhpcy51bml0MkZhY3Rvcl8xMDI0ID8gdGhpcy51bml0MkZhY3Rvcl8xMDI0W3VuaXRdIDogMS4wO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdHJlc3VsdCA9IDEuMDtcblx0XHR9XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG59KTtcblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4iXX0=
