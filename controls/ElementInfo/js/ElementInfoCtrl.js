/*!
* AMI Web Framework
*
* Copyright (c) 2014-XXXX The AMI Team / LPSC / IN2P3
*
* This file must be used under the terms of the CeCILL-C:
* http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html
* http://www.cecill.info/licences/Licence_CeCILL-C_V1-fr.html
*
*/$AMIClass("ElementInfoCtrl",{$extends:ami.Control,$init:function $init(parent,owner){this.$super.$init(parent,owner)},onReady:function onReady(){var _this=this;return amiWebApp.loadResources([amiWebApp.originURL+"/controls/ElementInfo/twig/ElementInfoCtrl.twig",amiWebApp.originURL+"/controls/ElementInfo/twig/details.twig",amiWebApp.originURL+"/controls/ElementInfo/twig/js.twig","ctrl:fieldEditor","ctrl:unitEditor","ctrl:tab"]).done(function(data){_this.fragmentElementInfoCtrl=data[0];_this.fragmentDetails=data[1];_this.fragmentJS=data[2];_this.fieldEditorCtor=data[3];_this.fieldUnitCtor=data[4];_this.tabCtor=data[5]})},render:function render(selector,catalog,entity,primaryFieldName,primaryFieldValue,settings){var result=$.Deferred();this.ctx={catalog:catalog,entity:entity,primaryFieldName:primaryFieldName,primaryFieldValue:primaryFieldValue};var fn=function fn(catalog,entity,primaryFieldName,primaryFieldValue){return"GetElementInfo -catalog=\""+amiWebApp.textToString(catalog)+"\" -entity=\""+amiWebApp.textToString(entity)+"\" -primaryFieldName=\""+amiWebApp.textToString(primaryFieldName)+"\" -primaryFieldValue=\""+amiWebApp.textToString(primaryFieldValue)+"\""};var _amiWebApp$setup=amiWebApp.setup(["context","elementInfoCommandFunc","expandedLinkedElements","enableCache","enableCount","showPrimaryField","showToolBar","showDetails","showTools","canEdit","maxCellLength","card"],[result,fn,[],false,true,true,true,false,true,false,64,false],settings),context=_amiWebApp$setup[0],elementInfoCommandFunc=_amiWebApp$setup[1],expandedLinkedElements=_amiWebApp$setup[2],enableCache=_amiWebApp$setup[3],enableCount=_amiWebApp$setup[4],showPrimaryField=_amiWebApp$setup[5],showToolBar=_amiWebApp$setup[6],showDetails=_amiWebApp$setup[7],showTools=_amiWebApp$setup[8],canEdit=_amiWebApp$setup[9],maxCellLength=_amiWebApp$setup[10],card=_amiWebApp$setup[11];this.ctx.elementInfoCommandFunc=elementInfoCommandFunc;this.ctx.expandedLinkedElements=expandedLinkedElements;this.ctx.enableCache=enableCache;this.ctx.enableCount=enableCount;this.ctx.showPrimaryField=showPrimaryField;this.ctx.showToolBar=showToolBar;this.ctx.showDetails=showDetails;this.ctx.showTools=showTools;this.ctx.canEdit=canEdit;this.ctx.maxCellLength=maxCellLength;this.ctx.card=card;this.ctx.ignoredFields={"ORACLE_ROWNUM":"","PROJECT":"","PROCESS":"","AMIENTITYNAME":"","AMIELEMENTID":"","AMICREATED":"","AMILASTMODIFIED":"","AMISYSDATE":""};var L=[];this.ctx.expandedLinkedElements.forEach(function(expandedLinkedElement){var catalog=amiWebApp.textToString(expandedLinkedElement.catalog);var entity=amiWebApp.textToString(expandedLinkedElement.entity);L.push(catalog+"."+entity)});this.ctx.command+=" -expandedLinkedElements=\""+L.join(",")+"\"";this.fieldEditor=new this.fieldEditorCtor(this,this);this.unitEditor=new this.fieldUnitCtor(this,this);this._render(result,selector);return result},_render:function _render(result,selector){var _this2=this;if(this.getParent().$name!=="TabCtrl"){var tab=new this.tabCtor(null,this);tab.render(selector,this.ctx).done(function(){tab.appendItem("<i class=\"fa fa-arrows-alt\"></i> "+_this2.ctx.entity,{closable:false,firstVisible:false}).done(function(selector){_this2.setParent(tab);_this2.__render(result,selector)})})}else{this.__render(result,selector)}},__render:function __render(result,selector){var _this3=this;this.replaceHTML(selector,this.fragmentElementInfoCtrl,{dict:this.ctx}).done(function(){$(_this3.patchId("#ACFEDF15_7894_6D91_CBE7_D98B5F7E9C6A")).click(function(){amiWebApp.lock();_this3.refresh().done(function(){amiWebApp.unlock()}).fail(function(message){amiWebApp.error(message,true)})});$(_this3.patchId("#D98B6B9A_1D5A_021E_5F90_2B55A6C3BE73")).change(function(){amiWebApp.lock();_this3.refresh().done(function(){amiWebApp.unlock()}).fail(function(message){amiWebApp.error(message,true)})});$(_this3.patchId("#AB84A8CC_5E70_EBE7_8766_317FEE71EFE8")).change(function(){_this3.setMode()});$(_this3.patchId("#BF7E7885_DB34_7993_9F17_37990DDD4BF3")).click(function(){amiWebApp.createControl(_this3.getParent(),_this3,"messageBox",[_this3.ctx.command],{})});$(_this3.patchId("#F1232710_45E2_92BF_7378_1BCD05FBF131")).click(function(){amiWebApp.createControl(_this3.getParent(),_this3,"textBox",[_this3.ctx.js],{})});$(_this3.patchId("#C28C33B1_9BCE_808C_0E57_4C8704359932")).click(function(){var params=[_this3.ctx.catalog,_this3.ctx.entity,_this3.ctx.primaryFieldName,_this3.ctx.primaryFieldValue];var settings={enableCache:_this3.ctx.enableCache,enableCount:_this3.ctx.enableCount,showPrimaryField:_this3.ctx.showPrimaryField,showToolBar:_this3.ctx.showToolBar,showDetails:_this3.ctx.showDetails,showTools:_this3.ctx.showTools,canEdit:_this3.ctx.canEdit,catalog:_this3.ctx.catalog,entity:_this3.ctx.entity,primaryField:_this3.ctx.primaryField,rowset:_this3.ctx.rowset,maxCellLength:_this3.ctx.maxCellLength,card:_this3.ctx.card};var autoRefresh=confirm("Auto-refresh new widget?");amiWebApp.lock();amiCommand.execute("AddWidget -control=\"ElementInfo\" -params=\""+amiWebApp.textToString(JSON.stringify(params))+"\" -settings=\""+amiWebApp.textToString(JSON.stringify(settings))+"\" -transparent"+(autoRefresh?" -autoRefresh":"")).done(function(data,message){amiWebApp.success(message)}).fail(function(data,message){amiWebApp.error(message)})});_this3.ctx.js=amiWebApp.formatTWIG(_this3.fragmentJS,_this3.ctx);_this3.refresh().done(function(elementRowset,linkedElementRowset,expandedLinkedElements){result.resolveWith(_this3.ctx.context,[elementRowset,linkedElementRowset,expandedLinkedElements])}).fail(function(message){result.rejectWith(_this3.ctx.context,[message])})})},refresh:function refresh(settings){var _this4=this;var result=$.Deferred();var _amiWebApp$setup2=amiWebApp.setup(["context"],[result],settings),context=_amiWebApp$setup2[0];this.ctx.command=this.ctx.elementInfoCommandFunc(this.ctx.catalog,this.ctx.entity,this.ctx.primaryFieldName,this.ctx.primaryFieldValue);amiCommand.execute(this.ctx.command).done(function(data){var fieldDescriptions=amiWebApp.jspath("..fieldDescription",data);var elementRowset=amiWebApp.jspath("..rowset{.@type===\"element\" || .@type===\"Element_Info\"}.row",data);var linkedElementRowset=amiWebApp.jspath("..rowset{.@type===\"linked_elements\" || .@type===\"Element_Child\"}.row",data);var expandedLinkedElements=[];_this4.ctx.expandedLinkedElements.forEach(function(expandedLinkedElement){expandedLinkedElements.push({catalog:expandedLinkedElement.catalog,entity:expandedLinkedElement.entity,fields:expandedLinkedElement.fields,keyValMode:expandedLinkedElement.keyValMode,rows:amiWebApp.jspath("..rowset{.@type===\""+expandedLinkedElement.entity+"\"}.row",data)})});var dict={catalog:_this4.ctx.catalog,entity:_this4.ctx.entity,primaryFieldName:_this4.ctx.primaryFieldName,primaryFieldValue:_this4.ctx.primaryFieldValue,fieldDescriptions:fieldDescriptions,elementRowset:elementRowset,linkedElementRowset:linkedElementRowset,expandedLinkedElements:expandedLinkedElements,showToolBar:_this4.ctx.showToolBar,ignoredFields:_this4.ctx.ignoredFields,showEmptyFields:$(_this4.patchId("#D98B6B9A_1D5A_021E_5F90_2B55A6C3BE73")).prop("checked"),maxCellLength:_this4.ctx.maxCellLength};_this4.replaceHTML(_this4.patchId("#BBD391C7_759D_01DD_E234_488D46504638"),_this4.fragmentDetails,{dict:dict}).done(function(){_this4.fieldEditor.setup(_this4.patchId("#BBD391C7_759D_01DD_E234_488D46504638"),_this4.ctx);_this4.unitEditor.setup(_this4.patchId("#BBD391C7_759D_01DD_E234_488D46504638"));$(_this4.patchId("#BBD391C7_759D_01DD_E234_488D46504638")).find("[data-ctrl]").click(function(e){e.preventDefault();_this4.createControlFromWebLink(_this4.getParent(),e.currentTarget,_this4.ctx)});result.resolveWith(context,[fieldDescriptions,elementRowset,linkedElementRowset,expandedLinkedElements])})}).fail(function(data,message){result.rejectWith(context,[message])});return result},isInEditMode:function isInEditMode(){return this.fieldEditor.isInEditMode()},setMode:function setMode(){var tags1=$(this.patchId("#BBD391C7_759D_01DD_E234_488D46504638"));var tags2=tags1.find(".view-more");var tags3=tags1.find(".view-media");if($(this.patchId("#AB84A8CC_5E70_EBE7_8766_317FEE71EFE8")).prop("checked")){tags2.hide();tags3.hide();this.fieldEditor.setInEditMode(true);this.unitEditor.setInEditMode(true)}else{tags2.show();tags3.show();this.fieldEditor.setInEditMode(false);this.unitEditor.setInEditMode(false)}}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkVsZW1lbnRJbmZvQ3RybC5lczYuanMiXSwibmFtZXMiOlsiJEFNSUNsYXNzIiwiJGV4dGVuZHMiLCJhbWkiLCJDb250cm9sIiwiJGluaXQiLCJwYXJlbnQiLCJvd25lciIsIiRzdXBlciIsIm9uUmVhZHkiLCJhbWlXZWJBcHAiLCJsb2FkUmVzb3VyY2VzIiwib3JpZ2luVVJMIiwiZG9uZSIsImRhdGEiLCJmcmFnbWVudEVsZW1lbnRJbmZvQ3RybCIsImZyYWdtZW50RGV0YWlscyIsImZyYWdtZW50SlMiLCJmaWVsZEVkaXRvckN0b3IiLCJmaWVsZFVuaXRDdG9yIiwidGFiQ3RvciIsInJlbmRlciIsInNlbGVjdG9yIiwiY2F0YWxvZyIsImVudGl0eSIsInByaW1hcnlGaWVsZE5hbWUiLCJwcmltYXJ5RmllbGRWYWx1ZSIsInNldHRpbmdzIiwicmVzdWx0IiwiJCIsIkRlZmVycmVkIiwiY3R4IiwiZm4iLCJ0ZXh0VG9TdHJpbmciLCJzZXR1cCIsImNvbnRleHQiLCJlbGVtZW50SW5mb0NvbW1hbmRGdW5jIiwiZXhwYW5kZWRMaW5rZWRFbGVtZW50cyIsImVuYWJsZUNhY2hlIiwiZW5hYmxlQ291bnQiLCJzaG93UHJpbWFyeUZpZWxkIiwic2hvd1Rvb2xCYXIiLCJzaG93RGV0YWlscyIsInNob3dUb29scyIsImNhbkVkaXQiLCJtYXhDZWxsTGVuZ3RoIiwiY2FyZCIsImlnbm9yZWRGaWVsZHMiLCJMIiwiZm9yRWFjaCIsImV4cGFuZGVkTGlua2VkRWxlbWVudCIsInB1c2giLCJjb21tYW5kIiwiam9pbiIsImZpZWxkRWRpdG9yIiwidW5pdEVkaXRvciIsIl9yZW5kZXIiLCJnZXRQYXJlbnQiLCIkbmFtZSIsInRhYiIsImFwcGVuZEl0ZW0iLCJjbG9zYWJsZSIsImZpcnN0VmlzaWJsZSIsInNldFBhcmVudCIsIl9fcmVuZGVyIiwicmVwbGFjZUhUTUwiLCJkaWN0IiwicGF0Y2hJZCIsImNsaWNrIiwibG9jayIsInJlZnJlc2giLCJ1bmxvY2siLCJmYWlsIiwibWVzc2FnZSIsImVycm9yIiwiY2hhbmdlIiwic2V0TW9kZSIsImNyZWF0ZUNvbnRyb2wiLCJqcyIsInBhcmFtcyIsInByaW1hcnlGaWVsZCIsInJvd3NldCIsImF1dG9SZWZyZXNoIiwiY29uZmlybSIsImFtaUNvbW1hbmQiLCJleGVjdXRlIiwiSlNPTiIsInN0cmluZ2lmeSIsInN1Y2Nlc3MiLCJmb3JtYXRUV0lHIiwiZWxlbWVudFJvd3NldCIsImxpbmtlZEVsZW1lbnRSb3dzZXQiLCJyZXNvbHZlV2l0aCIsInJlamVjdFdpdGgiLCJmaWVsZERlc2NyaXB0aW9ucyIsImpzcGF0aCIsImZpZWxkcyIsImtleVZhbE1vZGUiLCJyb3dzIiwic2hvd0VtcHR5RmllbGRzIiwicHJvcCIsImZpbmQiLCJlIiwicHJldmVudERlZmF1bHQiLCJjcmVhdGVDb250cm9sRnJvbVdlYkxpbmsiLCJjdXJyZW50VGFyZ2V0IiwiaXNJbkVkaXRNb2RlIiwidGFnczEiLCJ0YWdzMiIsInRhZ3MzIiwiaGlkZSIsInNldEluRWRpdE1vZGUiLCJzaG93Il0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7O0VBYUFBLFNBQVMsQ0FBQyxpQkFBRCxDQUFvQixDQUc1QkMsUUFBUSxDQUFFQyxHQUFHLENBQUNDLE9BSGMsQ0FPNUJDLEtBQUssQ0FBRSxlQUFTQyxNQUFULENBQWlCQyxLQUFqQixDQUNQLENBQ0MsS0FBS0MsTUFBTCxDQUFZSCxLQUFaLENBQWtCQyxNQUFsQixDQUEwQkMsS0FBMUIsQ0FDQSxDQVYyQixDQWM1QkUsT0FBTyxDQUFFLGtCQUNULGdCQUNDLE1BQU9DLENBQUFBLFNBQVMsQ0FBQ0MsYUFBVixDQUF3QixDQUM5QkQsU0FBUyxDQUFDRSxTQUFWLENBQXNCLGlEQURRLENBRTlCRixTQUFTLENBQUNFLFNBQVYsQ0FBc0IseUNBRlEsQ0FHOUJGLFNBQVMsQ0FBQ0UsU0FBVixDQUFzQixvQ0FIUSxDQUs5QixrQkFMOEIsQ0FNOUIsaUJBTjhCLENBTzlCLFVBUDhCLENBQXhCLEVBUUpDLElBUkksQ0FRQyxTQUFDQyxJ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LENBNVkyQixDQWdaNUI5QixPQUFPLENBQUUsa0JBQ1QsQ0FDQyxHQUFNK0IsQ0FBQUEsS0FBSyxDQUFHOUUsQ0FBQyxDQUFDLEtBQUtzQyxPQUFMLENBQWEsdUNBQWIsQ0FBRCxDQUFmLENBRUEsR0FBTXlDLENBQUFBLEtBQUssQ0FBR0QsS0FBSyxDQUFDTixJQUFOLENBQVcsWUFBWCxDQUFkLENBQ0EsR0FBTVEsQ0FBQUEsS0FBSyxDQUFHRixLQUFLLENBQUNOLElBQU4sQ0FBVyxhQUFYLENBQWQsQ0FFQSxHQUFHeEUsQ0FBQyxDQUFDLEtBQUtzQyxPQUFMLENBQWEsdUNBQWIsQ0FBRCxDQUFELENBQXlEaUMsSUFBekQsQ0FBOEQsU0FBOUQsQ0FBSCxDQUNBLENBQ0NRLEtBQUssQ0FBQ0UsSUFBTixHQUNBRCxLQUFLLENBQUNDLElBQU4sR0FFQSxLQUFLeEQsV0FBTCxDQUFpQnlELGFBQWpCLENBQStCLElBQS9CLEVBQ0EsS0FBS3hELFVBQUwsQ0FBZ0J3RCxhQUFoQixDQUE4QixJQUE5QixDQUNBLENBUEQsSUFTQSxDQUNDSCxLQUFLLENBQUNJLElBQU4sR0FDQUgsS0FBSyxDQUFDRyxJQUFOLEdBRUEsS0FBSzFELFdBQUwsQ0FBaUJ5RCxhQUFqQixDQUErQixLQUEvQixFQUNBLEtBQUt4RCxVQUFMLENBQWdCd0QsYUFBaEIsQ0FBOEIsS0FBOUIsQ0FDQSxDQUNELENBdmEyQixDQUFwQixDQUFUIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4qIEFNSSBXZWIgRnJhbWV3b3JrXG4qXG4qIENvcHlyaWdodCAoYykgMjAxNC1YWFhYIFRoZSBBTUkgVGVhbSAvIExQU0MgLyBJTjJQM1xuKlxuKiBUaGlzIGZpbGUgbXVzdCBiZSB1c2VkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgQ2VDSUxMLUM6XG4qIGh0dHA6Ly93d3cuY2VjaWxsLmluZm8vbGljZW5jZXMvTGljZW5jZV9DZUNJTEwtQ19WMS1lbi5odG1sXG4qIGh0dHA6Ly93d3cuY2VjaWxsLmluZm8vbGljZW5jZXMvTGljZW5jZV9DZUNJTEwtQ19WMS1mci5odG1sXG4qXG4qL1xuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4kQU1JQ2xhc3MoJ0VsZW1lbnRJbmZvQ3RybCcsIHtcblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdCRleHRlbmRzOiBhbWkuQ29udHJvbCxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0JGluaXQ6IGZ1bmN0aW9uKHBhcmVudCwgb3duZXIpXG5cdHtcblx0XHR0aGlzLiRzdXBlci4kaW5pdChwYXJlbnQsIG93bmVyKTtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0b25SZWFkeTogZnVuY3Rpb24oKVxuXHR7XG5cdFx0cmV0dXJuIGFtaVdlYkFwcC5sb2FkUmVzb3VyY2VzKFtcblx0XHRcdGFtaVdlYkFwcC5vcmlnaW5VUkwgKyAnL2NvbnRyb2xzL0VsZW1lbnRJbmZvL3R3aWcvRWxlbWVudEluZm9DdHJsLnR3aWcnLFxuXHRcdFx0YW1pV2ViQXBwLm9yaWdpblVSTCArICcvY29udHJvbHMvRWxlbWVudEluZm8vdHdpZy9kZXRhaWxzLnR3aWcnLFxuXHRcdFx0YW1pV2ViQXBwLm9yaWdpblVSTCArICcvY29udHJvbHMvRWxlbWVudEluZm8vdHdpZy9qcy50d2lnJyxcblx0XHRcdC8qKi9cblx0XHRcdCdjdHJsOmZpZWxkRWRpdG9yJyxcblx0XHRcdCdjdHJsOnVuaXRFZGl0b3InLFxuXHRcdFx0J2N0cmw6dGFiJyxcblx0XHRdKS5kb25lKChkYXRhKSA9PiB7XG5cblx0XHRcdHRoaXMuZnJhZ21lbnRFbGVtZW50SW5mb0N0cmwgPSBkYXRhWzBdO1xuXHRcdFx0dGhpcy5mcmFnbWVudERldGFpbHMgPSBkYXRhWzFdO1xuXHRcdFx0dGhpcy5mcmFnbWVudEpTID0gZGF0YVsyXTtcblxuXHRcdFx0dGhpcy5maWVsZEVkaXRvckN0b3IgPSBkYXRhWzNdO1xuXHRcdFx0dGhpcy5maWVsZFVuaXRDdG9yID0gZGF0YVs0XTtcblx0XHRcdHRoaXMudGFiQ3RvciA9IGRhdGFbNV07XG5cdFx0fSk7XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdHJlbmRlcjogZnVuY3Rpb24oc2VsZWN0b3IsIGNhdGFsb2csIGVudGl0eSwgcHJpbWFyeUZpZWxkTmFtZSwgcHJpbWFyeUZpZWxkVmFsdWUsIHNldHRpbmdzKVxuXHR7XG5cdFx0Y29uc3QgcmVzdWx0ID0gJC5EZWZlcnJlZCgpO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHR0aGlzLmN0eCA9IHtcblx0XHRcdGNhdGFsb2c6IGNhdGFsb2csXG5cdFx0XHRlbnRpdHk6IGVudGl0eSxcblx0XHRcdHByaW1hcnlGaWVsZE5hbWU6IHByaW1hcnlGaWVsZE5hbWUsXG5cdFx0XHRwcmltYXJ5RmllbGRWYWx1ZTogcHJpbWFyeUZpZWxkVmFsdWUsXG5cdFx0fTtcblxuXHRcdGNvbnN0IGZuID0gKGNhdGFsb2csIGVudGl0eSwgcHJpbWFyeUZpZWxkTmFtZSwgcHJpbWFyeUZpZWxkVmFsdWUpID0+ICdHZXRFbGVtZW50SW5mbyAtY2F0YWxvZz1cIicgKyBhbWlXZWJBcHAudGV4dFRvU3RyaW5nKGNhdGFsb2cpICsgJ1wiIC1lbnRpdHk9XCInICsgYW1pV2ViQXBwLnRleHRUb1N0cmluZyhlbnRpdHkpICsgJ1wiIC1wcmltYXJ5RmllbGROYW1lPVwiJyArIGFtaVdlYkFwcC50ZXh0VG9TdHJpbmcocHJpbWFyeUZpZWxkTmFtZSkgKyAnXCIgLXByaW1hcnlGaWVsZFZhbHVlPVwiJyArIGFtaVdlYkFwcC50ZXh0VG9TdHJpbmcocHJpbWFyeUZpZWxkVmFsdWUpICsgJ1wiJztcblxuXHRcdGNvbnN0IFtcblx0XHRcdGNvbnRleHQsXG5cdFx0XHRlbGVtZW50SW5mb0NvbW1hbmRGdW5jLFxuXHRcdFx0ZXhwYW5kZWRMaW5rZWRFbGVtZW50cyxcblx0XHRcdGVuYWJsZUNhY2hlLCBlbmFibGVDb3VudCwgc2hvd1ByaW1hcnlGaWVsZCwgc2hvd1Rvb2xCYXIsIHNob3dEZXRhaWxzLCBzaG93VG9vbHMsIGNhbkVkaXQsXG5cdFx0XHRtYXhDZWxsTGVuZ3RoLFxuXHRcdFx0Y2FyZFxuXHRcdF0gPSBhbWlXZWJBcHAuc2V0dXAoXG5cdFx0XHRbXG5cdFx0XHRcdCdjb250ZXh0Jyxcblx0XHRcdFx0J2VsZW1lbnRJbmZvQ29tbWFuZEZ1bmMnLFxuXHRcdFx0XHQnZXhwYW5kZWRMaW5rZWRFbGVtZW50cycsXG5cdFx0XHRcdCdlbmFibGVDYWNoZScsICdlbmFibGVDb3VudCcsICdzaG93UHJpbWFyeUZpZWxkJywgJ3Nob3dUb29sQmFyJywgJ3Nob3dEZXRhaWxzJywgJ3Nob3dUb29scycsICdjYW5FZGl0Jyxcblx0XHRcdFx0J21heENlbGxMZW5ndGgnLFxuXHRcdFx0XHQnY2FyZCcsXG5cdFx0XHRdLFxuXHRcdFx0W1xuXHRcdFx0XHRyZXN1bHQsXG5cdFx0XHRcdGZuLFxuXHRcdFx0XHRbXSxcblx0XHRcdFx0ZmFsc2UsIHRydWUsIHRydWUsIHRydWUsIGZhbHNlLCB0cnVlLCBmYWxzZSxcblx0XHRcdFx0NjQsXG5cdFx0XHRcdGZhbHNlLFxuXHRcdFx0XSxcblx0XHRcdHNldHRpbmdzXG5cdFx0KTtcblxuXHRcdHRoaXMuY3R4LmVsZW1lbnRJbmZvQ29tbWFuZEZ1bmMgPSBlbGVtZW50SW5mb0NvbW1hbmRGdW5jO1xuXG5cdFx0dGhpcy5jdHguZXhwYW5kZWRMaW5rZWRFbGVtZW50cyA9IGV4cGFuZGVkTGlua2VkRWxlbWVudHM7XG5cblx0XHR0aGlzLmN0eC5lbmFibGVDYWNoZSA9IGVuYWJsZUNhY2hlO1xuXHRcdHRoaXMuY3R4LmVuYWJsZUNvdW50ID0gZW5hYmxlQ291bnQ7XG5cblx0XHR0aGlzLmN0eC5zaG93UHJpbWFyeUZpZWxkID0gc2hvd1ByaW1hcnlGaWVsZDtcblx0XHR0aGlzLmN0eC5zaG93VG9vbEJhciA9IHNob3dUb29sQmFyO1xuXHRcdHRoaXMuY3R4LnNob3dEZXRhaWxzID0gc2hvd0RldGFpbHM7XG5cdFx0dGhpcy5jdHguc2hvd1Rvb2xzID0gc2hvd1Rvb2xzO1xuXHRcdHRoaXMuY3R4LmNhbkVkaXQgPSBjYW5FZGl0O1xuXG5cdFx0dGhpcy5jdHgubWF4Q2VsbExlbmd0aCA9IG1heENlbGxMZW5ndGg7XG5cblx0XHR0aGlzLmN0eC5jYXJkID0gY2FyZDtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0dGhpcy5jdHguaWdub3JlZEZpZWxkcyA9IHtcblx0XHRcdCdPUkFDTEVfUk9XTlVNJzogJycsXG5cdFx0XHQnUFJPSkVDVCc6ICcnLFxuXHRcdFx0J1BST0NFU1MnOiAnJyxcblx0XHRcdCdBTUlFTlRJVFlOQU1FJzogJycsXG5cdFx0XHQnQU1JRUxFTUVOVElEJzogJycsXG5cdFx0XHQnQU1JQ1JFQVRFRCc6ICcnLFxuXHRcdFx0J0FNSUxBU1RNT0RJRklFRCc6ICcnLFxuXHRcdFx0J0FNSVNZU0RBVEUnOiAnJ1xuXHRcdH07XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdGNvbnN0IEwgPSBbXTtcblxuXHRcdHRoaXMuY3R4LmV4cGFuZGVkTGlua2VkRWxlbWVudHMuZm9yRWFjaCgoZXhwYW5kZWRMaW5rZWRFbGVtZW50KSA9PiB7XG5cblx0XHRcdGxldCBjYXRhbG9nID0gYW1pV2ViQXBwLnRleHRUb1N0cmluZyhleHBhbmRlZExpbmtlZEVsZW1lbnQuY2F0YWxvZyk7XG5cdFx0XHRsZXQgZW50aXR5ID0gYW1pV2ViQXBwLnRleHRUb1N0cmluZyhleHBhbmRlZExpbmtlZEVsZW1lbnQuZW50aXR5KTtcblxuXHRcdFx0TC5wdXNoKGNhdGFsb2cgKyAnLicgKyBlbnRpdHkpO1xuXHRcdH0pO1xuXG5cdFx0dGhpcy5jdHguY29tbWFuZCArPSAnIC1leHBhbmRlZExpbmtlZEVsZW1lbnRzPVwiJyArIEwuam9pbignLCcpICsgJ1wiJztcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0dGhpcy5maWVsZEVkaXRvciA9IG5ldyB0aGlzLmZpZWxkRWRpdG9yQ3Rvcih0aGlzLCB0aGlzKTtcblx0XHR0aGlzLnVuaXRFZGl0b3IgPSBuZXcgdGhpcy5maWVsZFVuaXRDdG9yKHRoaXMsIHRoaXMpO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHR0aGlzLl9yZW5kZXIocmVzdWx0LCBzZWxlY3Rvcik7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdF9yZW5kZXI6IGZ1bmN0aW9uKHJlc3VsdCwgc2VsZWN0b3IpXG5cdHtcblx0XHRpZih0aGlzLmdldFBhcmVudCgpLiRuYW1lICE9PSAnVGFiQ3RybCcpXG5cdFx0e1xuXHRcdFx0Y29uc3QgdGFiID0gbmV3IHRoaXMudGFiQ3RvcihudWxsLCB0aGlzKTtcblxuXHRcdFx0dGFiLnJlbmRlcihzZWxlY3RvciwgdGhpcy5jdHgpLmRvbmUoKCkgPT4ge1xuXG5cdFx0XHRcdHRhYi5hcHBlbmRJdGVtKCc8aSBjbGFzcz1cImZhIGZhLWFycm93cy1hbHRcIj48L2k+ICcgKyB0aGlzLmN0eC5lbnRpdHksIHtjbG9zYWJsZTogZmFsc2UsIGZpcnN0VmlzaWJsZTogZmFsc2V9KS5kb25lKChzZWxlY3RvcikgPT4ge1xuXG5cdFx0XHRcdFx0dGhpcy5zZXRQYXJlbnQodGFiKTtcblxuXHRcdFx0XHRcdHRoaXMuX19yZW5kZXIocmVzdWx0LCBzZWxlY3Rvcik7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdGVsc2Vcblx0XHR7XG5cdFx0XHR0aGlzLl9fcmVuZGVyKHJlc3VsdCwgc2VsZWN0b3IpO1xuXHRcdH1cblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0X19yZW5kZXI6IGZ1bmN0aW9uKHJlc3VsdCwgc2VsZWN0b3IpXG5cdHtcblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdHRoaXMucmVwbGFjZUhUTUwoc2VsZWN0b3IsIHRoaXMuZnJhZ21lbnRFbGVtZW50SW5mb0N0cmwsIHtkaWN0OiB0aGlzLmN0eH0pLmRvbmUoKCkgPT4ge1xuXG5cdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHQkKHRoaXMucGF0Y2hJZCgnI0FDRkVERjE1Xzc4OTRfNkQ5MV9DQkU3X0Q5OEI1RjdFOUM2QScpKS5jbGljaygoKSA9PiB7XG5cblx0XHRcdFx0YW1pV2ViQXBwLmxvY2soKTtcblxuXHRcdFx0XHR0aGlzLnJlZnJlc2goKS5kb25lKCgpID0+IHtcblxuXHRcdFx0XHRcdGFtaVdlYkFwcC51bmxvY2soKTtcblxuXHRcdFx0XHR9KS5mYWlsKChtZXNzYWdlKSA9PiB7XG5cblx0XHRcdFx0XHRhbWlXZWJBcHAuZXJyb3IobWVzc2FnZSwgdHJ1ZSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cblx0XHRcdCQodGhpcy5wYXRjaElkKCcjRDk4QjZCOUFfMUQ1QV8wMjFFXzVGOTBfMkI1NUE2QzNCRTczJykpLmNoYW5nZSgoKSA9PiB7XG5cblx0XHRcdFx0YW1pV2ViQXBwLmxvY2soKTtcblxuXHRcdFx0XHR0aGlzLnJlZnJlc2goKS5kb25lKCgpID0+IHtcblxuXHRcdFx0XHRcdGFtaVdlYkFwcC51bmxvY2soKTtcblxuXHRcdFx0XHR9KS5mYWlsKChtZXNzYWdlKSA9PiB7XG5cblx0XHRcdFx0XHRhbWlXZWJBcHAuZXJyb3IobWVzc2FnZSwgdHJ1ZSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRcdCQodGhpcy5wYXRjaElkKCcjQUI4NEE4Q0NfNUU3MF9FQkU3Xzg3NjZfMzE3RkVFNzFFRkU4JykpLmNoYW5nZSgoKSA9PiB7XG5cblx0XHRcdFx0dGhpcy5zZXRNb2RlKClcblx0XHRcdH0pO1xuXG5cdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHQkKHRoaXMucGF0Y2hJZCgnI0JGN0U3ODg1X0RCMzRfNzk5M185RjE3XzM3OTkwRERENEJGMycpKS5jbGljaygoKSA9PiB7XG5cblx0XHRcdFx0YW1pV2ViQXBwLmNyZWF0ZUNvbnRyb2wodGhpcy5nZXRQYXJlbnQoKSwgdGhpcywgJ21lc3NhZ2VCb3gnLCBbdGhpcy5jdHguY29tbWFuZF0sIHt9KTtcblx0XHRcdH0pO1xuXG5cdFx0XHQkKHRoaXMucGF0Y2hJZCgnI0YxMjMyNzEwXzQ1RTJfOTJCRl83Mzc4XzFCQ0QwNUZCRjEzMScpKS5jbGljaygoKSA9PiB7XG5cblx0XHRcdFx0YW1pV2ViQXBwLmNyZWF0ZUNvbnRyb2wodGhpcy5nZXRQYXJlbnQoKSwgdGhpcywgJ3RleHRCb3gnLCBbdGhpcy5jdHguanNdLCB7fSk7XG5cdFx0XHR9KTtcblxuXHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0JCh0aGlzLnBhdGNoSWQoJyNDMjhDMzNCMV85QkNFXzgwOENfMEU1N180Qzg3MDQzNTk5MzInKSkuY2xpY2soKCkgPT4ge1xuXG5cdFx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0XHRjb25zdCBwYXJhbXMgPSBbXG5cdFx0XHRcdFx0dGhpcy5jdHguY2F0YWxvZyxcblx0XHRcdFx0XHR0aGlzLmN0eC5lbnRpdHksXG5cdFx0XHRcdFx0dGhpcy5jdHgucHJpbWFyeUZpZWxkTmFtZSxcblx0XHRcdFx0XHR0aGlzLmN0eC5wcmltYXJ5RmllbGRWYWx1ZSxcblx0XHRcdFx0XTtcblxuXHRcdFx0XHRjb25zdCBzZXR0aW5ncyA9IHtcblx0XHRcdFx0XHRlbmFibGVDYWNoZTogdGhpcy5jdHguZW5hYmxlQ2FjaGUsXG5cdFx0XHRcdFx0ZW5hYmxlQ291bnQ6IHRoaXMuY3R4LmVuYWJsZUNvdW50LFxuXHRcdFx0XHRcdC8qKi9cblx0XHRcdFx0XHRzaG93UHJpbWFyeUZpZWxkOiB0aGlzLmN0eC5zaG93UHJpbWFyeUZpZWxkLFxuXHRcdFx0XHRcdHNob3dUb29sQmFyOiB0aGlzLmN0eC5zaG93VG9vbEJhcixcblx0XHRcdFx0XHRzaG93RGV0YWlsczogdGhpcy5jdHguc2hvd0RldGFpbHMsXG5cdFx0XHRcdFx0c2hvd1Rvb2xzOiB0aGlzLmN0eC5zaG93VG9vbHMsXG5cdFx0XHRcdFx0Y2FuRWRpdDogdGhpcy5jdHguY2FuRWRpdCxcblx0XHRcdFx0XHQvKiovXG5cdFx0XHRcdFx0Y2F0YWxvZzogdGhpcy5jdHguY2F0YWxvZyxcblx0XHRcdFx0XHRlbnRpdHk6IHRoaXMuY3R4LmVudGl0eSxcblx0XHRcdFx0XHRwcmltYXJ5RmllbGQ6IHRoaXMuY3R4LnByaW1hcnlGaWVsZCxcblx0XHRcdFx0XHRyb3dzZXQ6IHRoaXMuY3R4LnJvd3NldCxcblx0XHRcdFx0XHQvKiovXG5cdFx0XHRcdFx0bWF4Q2VsbExlbmd0aDogdGhpcy5jdHgubWF4Q2VsbExlbmd0aCxcblx0XHRcdFx0XHQvKiovXG5cdFx0XHRcdFx0Y2FyZDogdGhpcy5jdHguY2FyZCxcblx0XHRcdFx0fTtcblxuXHRcdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRcdFx0Y29uc3QgYXV0b1JlZnJlc2ggPSBjb25maXJtKCdBdXRvLXJlZnJlc2ggbmV3IHdpZGdldD8nKTtcblxuXHRcdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRcdFx0YW1pV2ViQXBwLmxvY2soKTtcblxuXHRcdFx0XHRhbWlDb21tYW5kLmV4ZWN1dGUoJ0FkZFdpZGdldCAtY29udHJvbD1cIkVsZW1lbnRJbmZvXCIgLXBhcmFtcz1cIicgKyBhbWlXZWJBcHAudGV4dFRvU3RyaW5nKEpTT04uc3RyaW5naWZ5KHBhcmFtcykpICsgJ1wiIC1zZXR0aW5ncz1cIicgKyBhbWlXZWJBcHAudGV4dFRvU3RyaW5nKEpTT04uc3RyaW5naWZ5KHNldHRpbmdzKSkgKyAnXCIgLXRyYW5zcGFyZW50JyArIChhdXRvUmVmcmVzaCA/ICcgLWF1dG9SZWZyZXNoJyA6ICcnKSkuZG9uZSgoZGF0YSwgbWVzc2FnZSkgPT4ge1xuXG5cdFx0XHRcdFx0YW1pV2ViQXBwLnN1Y2Nlc3MobWVzc2FnZSk7XG5cblx0XHRcdFx0fSkuZmFpbCgoZGF0YSwgbWVzc2FnZSkgPT4ge1xuXG5cdFx0XHRcdFx0YW1pV2ViQXBwLmVycm9yKG1lc3NhZ2UpO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdFx0XHR9KTtcblxuXHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0dGhpcy5jdHguanMgPSBhbWlXZWJBcHAuZm9ybWF0VFdJRyh0aGlzLmZyYWdtZW50SlMsIHRoaXMuY3R4KTtcblxuXHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0dGhpcy5yZWZyZXNoKCkuZG9uZSgoZWxlbWVudFJvd3NldCwgbGlua2VkRWxlbWVudFJvd3NldCwgZXhwYW5kZWRMaW5rZWRFbGVtZW50cykgPT4ge1xuXG5cdFx0XHRcdHJlc3VsdC5yZXNvbHZlV2l0aCh0aGlzLmN0eC5jb250ZXh0LCBbZWxlbWVudFJvd3NldCwgbGlua2VkRWxlbWVudFJvd3NldCwgZXhwYW5kZWRMaW5rZWRFbGVtZW50c10pO1xuXG5cdFx0XHR9KS5mYWlsKChtZXNzYWdlKSA9PiB7XG5cblx0XHRcdFx0cmVzdWx0LnJlamVjdFdpdGgodGhpcy5jdHguY29udGV4dCwgW21lc3NhZ2VdKTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHRcdH0pO1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRyZWZyZXNoOiBmdW5jdGlvbihzZXR0aW5ncylcblx0e1xuXHRcdGNvbnN0IHJlc3VsdCA9ICQuRGVmZXJyZWQoKTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0Y29uc3QgW2NvbnRleHRdID0gYW1pV2ViQXBwLnNldHVwKFsnY29udGV4dCddLCBbcmVzdWx0XSwgc2V0dGluZ3MpO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHR0aGlzLmN0eC5jb21tYW5kID0gdGhpcy5jdHguZWxlbWVudEluZm9Db21tYW5kRnVuYyh0aGlzLmN0eC5jYXRhbG9nLCB0aGlzLmN0eC5lbnRpdHksIHRoaXMuY3R4LnByaW1hcnlGaWVsZE5hbWUsIHRoaXMuY3R4LnByaW1hcnlGaWVsZFZhbHVlKTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0YW1pQ29tbWFuZC5leGVjdXRlKHRoaXMuY3R4LmNvbW1hbmQpLmRvbmUoKGRhdGEpID0+IHtcblxuXHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0Y29uc3QgZmllbGREZXNjcmlwdGlvbnMgPSBhbWlXZWJBcHAuanNwYXRoKCcuLmZpZWxkRGVzY3JpcHRpb24nLCBkYXRhKTtcblxuXHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0Y29uc3QgZWxlbWVudFJvd3NldCA9IGFtaVdlYkFwcC5qc3BhdGgoJy4ucm93c2V0ey5AdHlwZT09PVwiZWxlbWVudFwiIHx8IC5AdHlwZT09PVwiRWxlbWVudF9JbmZvXCJ9LnJvdycsIGRhdGEpOyAvKiBCRVJLICovXG5cblx0XHRcdGNvbnN0IGxpbmtlZEVsZW1lbnRSb3dzZXQgPSBhbWlXZWJBcHAuanNwYXRoKCcuLnJvd3NldHsuQHR5cGU9PT1cImxpbmtlZF9lbGVtZW50c1wiIHx8IC5AdHlwZT09PVwiRWxlbWVudF9DaGlsZFwifS5yb3cnLCBkYXRhKTsgLyogQkVSSyAqL1xuXG5cdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRjb25zdCBleHBhbmRlZExpbmtlZEVsZW1lbnRzID0gW107XG5cblx0XHRcdHRoaXMuY3R4LmV4cGFuZGVkTGlua2VkRWxlbWVudHMuZm9yRWFjaCgoZXhwYW5kZWRMaW5rZWRFbGVtZW50KSA9PiB7XG5cblx0XHRcdFx0ZXhwYW5kZWRMaW5rZWRFbGVtZW50cy5wdXNoKHtcblx0XHRcdFx0XHRjYXRhbG9nOiBleHBhbmRlZExpbmtlZEVsZW1lbnQuY2F0YWxvZyxcblx0XHRcdFx0XHRlbnRpdHk6IGV4cGFuZGVkTGlua2VkRWxlbWVudC5lbnRpdHksXG5cdFx0XHRcdFx0ZmllbGRzOiBleHBhbmRlZExpbmtlZEVsZW1lbnQuZmllbGRzLFxuXHRcdFx0XHRcdGtleVZhbE1vZGU6IGV4cGFuZGVkTGlua2VkRWxlbWVudC5rZXlWYWxNb2RlLFxuXHRcdFx0XHRcdHJvd3M6IGFtaVdlYkFwcC5qc3BhdGgoJy4ucm93c2V0ey5AdHlwZT09PVwiJyArIGV4cGFuZGVkTGlua2VkRWxlbWVudC5lbnRpdHkgKyAnXCJ9LnJvdycsIGRhdGEpLFxuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRjb25zdCBkaWN0ID0ge1xuXHRcdFx0XHRjYXRhbG9nOiB0aGlzLmN0eC5jYXRhbG9nLFxuXHRcdFx0XHRlbnRpdHk6IHRoaXMuY3R4LmVudGl0eSxcblx0XHRcdFx0cHJpbWFyeUZpZWxkTmFtZTogdGhpcy5jdHgucHJpbWFyeUZpZWxkTmFtZSxcblx0XHRcdFx0cHJpbWFyeUZpZWxkVmFsdWU6IHRoaXMuY3R4LnByaW1hcnlGaWVsZFZhbHVlLFxuXHRcdFx0XHQvKiovXG5cdFx0XHRcdGZpZWxkRGVzY3JpcHRpb25zOiBmaWVsZERlc2NyaXB0aW9ucyxcblx0XHRcdFx0LyoqL1xuXHRcdFx0XHRlbGVtZW50Um93c2V0OiBlbGVtZW50Um93c2V0LFxuXHRcdFx0XHRsaW5rZWRFbGVtZW50Um93c2V0OiBsaW5rZWRFbGVtZW50Um93c2V0LFxuXHRcdFx0XHRleHBhbmRlZExpbmtlZEVsZW1lbnRzOiBleHBhbmRlZExpbmtlZEVsZW1lbnRzLFxuXHRcdFx0XHQvKiovXG5cdFx0XHRcdHNob3dUb29sQmFyOiB0aGlzLmN0eC5zaG93VG9vbEJhcixcblx0XHRcdFx0aWdub3JlZEZpZWxkczogdGhpcy5jdHguaWdub3JlZEZpZWxkcyxcblx0XHRcdFx0c2hvd0VtcHR5RmllbGRzOiAkKHRoaXMucGF0Y2hJZCgnI0Q5OEI2QjlBXzFENUFfMDIxRV81RjkwXzJCNTVBNkMzQkU3MycpKS5wcm9wKCdjaGVja2VkJyksXG5cdFx0XHRcdC8qKi9cblx0XHRcdFx0bWF4Q2VsbExlbmd0aDogdGhpcy5jdHgubWF4Q2VsbExlbmd0aCxcblx0XHRcdH07XG5cblx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRcdHRoaXMucmVwbGFjZUhUTUwodGhpcy5wYXRjaElkKCcjQkJEMzkxQzdfNzU5RF8wMUREX0UyMzRfNDg4RDQ2NTA0NjM4JyksIHRoaXMuZnJhZ21lbnREZXRhaWxzLCB7ZGljdDogZGljdH0pLmRvbmUoKCkgPT4ge1xuXG5cdFx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0XHR0aGlzLmZpZWxkRWRpdG9yLnNldHVwKHRoaXMucGF0Y2hJZCgnI0JCRDM5MUM3Xzc1OURfMDFERF9FMjM0XzQ4OEQ0NjUwNDYzOCcpLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLmN0eCk7XG5cdFx0XHRcdHRoaXMudW5pdEVkaXRvci5zZXR1cCh0aGlzLnBhdGNoSWQoJyNCQkQzOTFDN183NTlEXzAxRERfRTIzNF80ODhENDY1MDQ2MzgnKSk7XG5cblx0XHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRcdCQodGhpcy5wYXRjaElkKCcjQkJEMzkxQzdfNzU5RF8wMUREX0UyMzRfNDg4RDQ2NTA0NjM4JykpLmZpbmQoJ1tkYXRhLWN0cmxdJykuY2xpY2soKGUpID0+IHtcblxuXHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0XHRcdHRoaXMuY3JlYXRlQ29udHJvbEZyb21XZWJMaW5rKHRoaXMuZ2V0UGFyZW50KCksIGUuY3VycmVudFRhcmdldCwgdGhpcy5jdHgpO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRcdFx0cmVzdWx0LnJlc29sdmVXaXRoKGNvbnRleHQsIFtmaWVsZERlc2NyaXB0aW9ucywgZWxlbWVudFJvd3NldCwgbGlua2VkRWxlbWVudFJvd3NldCwgZXhwYW5kZWRMaW5rZWRFbGVtZW50c10pO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHR9KS5mYWlsKChkYXRhLCBtZXNzYWdlKSA9PiB7XG5cblx0XHRcdHJlc3VsdC5yZWplY3RXaXRoKGNvbnRleHQsIFttZXNzYWdlXSk7XG5cdFx0fSk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdGlzSW5FZGl0TW9kZTogZnVuY3Rpb24oKVxuXHR7XG5cdFx0cmV0dXJuIHRoaXMuZmllbGRFZGl0b3IuaXNJbkVkaXRNb2RlKCk7XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdHNldE1vZGU6IGZ1bmN0aW9uKClcblx0e1xuXHRcdGNvbnN0IHRhZ3MxID0gJCh0aGlzLnBhdGNoSWQoJyNCQkQzOTFDN183NTlEXzAxRERfRTIzNF80ODhENDY1MDQ2MzgnKSk7XG5cblx0XHRjb25zdCB0YWdzMiA9IHRhZ3MxLmZpbmQoJy52aWV3LW1vcmUnKTtcblx0XHRjb25zdCB0YWdzMyA9IHRhZ3MxLmZpbmQoJy52aWV3LW1lZGlhJyk7XG5cblx0XHRpZigkKHRoaXMucGF0Y2hJZCgnI0FCODRBOENDXzVFNzBfRUJFN184NzY2XzMxN0ZFRTcxRUZFOCcpKS5wcm9wKCdjaGVja2VkJykpXG5cdFx0e1xuXHRcdFx0dGFnczIuaGlkZSgpO1xuXHRcdFx0dGFnczMuaGlkZSgpO1xuXG5cdFx0XHR0aGlzLmZpZWxkRWRpdG9yLnNldEluRWRpdE1vZGUodHJ1ZSk7XG5cdFx0XHR0aGlzLnVuaXRFZGl0b3Iuc2V0SW5FZGl0TW9kZSh0cnVlKTtcblx0XHR9XG5cdFx0ZWxzZVxuXHRcdHtcblx0XHRcdHRhZ3MyLnNob3coKTtcblx0XHRcdHRhZ3MzLnNob3coKTtcblxuXHRcdFx0dGhpcy5maWVsZEVkaXRvci5zZXRJbkVkaXRNb2RlKGZhbHNlKTtcblx0XHRcdHRoaXMudW5pdEVkaXRvci5zZXRJbkVkaXRNb2RlKGZhbHNlKTtcblx0XHR9XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xufSk7XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4iXX0=
