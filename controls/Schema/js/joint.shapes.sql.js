/*!
 * AMI Web Framework
 *
 * Copyright (c) 2014-XXXX The AMI Team / LPSC / IN2P3
 *
 * This file must be used under the terms of the CeCILL-C:
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-fr.html
 *
 * @global _, V, joint
 *
 */function _svgRoundedRect(x,y,w,h,r,tl,tr,bl,br){var result="M"+(x+r)+","+y;result+="h"+(w-2*r);if(tr){result+="a"+r+","+r+" 0 0 1 "+ +r+","+ +r}else{result+="h"+ +r;result+="v"+ +r}result+="v"+(h-2*r);if(br){result+="a"+r+","+r+" 0 0 1 "+-r+","+ +r}else{result+="v"+ +r;result+="h"+-r}result+="h"+(2*r-w);if(bl){result+="a"+r+","+r+" 0 0 1 "+-r+","+-r}else{result+="h"+-r;result+="v"+-r}result+="v"+(2*r-h);if(tl){result+="a"+r+","+r+" 0 0 1 "+ +r+","+-r}else{result+="v"+-r;result+="h"+ +r}return result+"z"}function _intToStr(v){v=Math.abs(v);if(v<256){var _V=v.toString(16);return v<16?"0"+_V:_V}return 0}function _getL(color){var r=parseInt(color.substring(1,3),16);var g=parseInt(color.substring(3,5),16);var b=parseInt(color.substring(5,7),16);return(Math.min(r,g,b)+Math.max(r,g,b))/(2*255)}function _getStroke(color){var r=parseInt(color.substring(1,3),16);var g=parseInt(color.substring(3,5),16);var b=parseInt(color.substring(5,7),16);return"#"+_intToStr(Math.round(0.75*r))+_intToStr(Math.round(0.75*g))+_intToStr(Math.round(0.75*b))}joint.shapes.sql={};joint.dia.Element.define("sql.Entity",{entity:"N/A",showShowTool:false,showEditTool:false,color:"#0066CC",grideSize:10,fields:[],attrs:{".sql-entity-top":{"ref-x":0,"ref-y":0,"stroke-width":1},".sql-entity-body":{"ref-x":0,"ref-y":20,"stroke-width":1},".sql-entity-show-text":{"ref-x":"2%","ref-y":5,"text-anchor":"start","fill":"white","font-family":"FontAwesome","font-weight":"normal","font-size":12},".sql-entity-name-text":{"ref-x":"50%","ref-y":2.5,"text-anchor":"middle","fill":"white","font-family":"Courier New","font-weight":"bold","font-size":14},".sql-entity-edit-text":{"ref-x":"98%","ref-y":5,"text-anchor":"end","fill":"white","font-family":"FontAwesome","font-weight":"normal","font-size":12},".sql-fields":{"ref-x":0,"ref-y":25},".sql-field-text":{"ref-x":0.03,"fill":"black","font-family":"Courier New","font-weight":"normal","font-size":14}}},{markup:["<g>","<path class=\"sql-entity-top\" />","<path class=\"sql-entity-body\" />","<a class=\"sql-entity-show-link\" xlink:href=\"#\" data-entity=\"\">","<text class=\"sql-entity-show-text\" />","</a>","<text class=\"sql-entity-name-text\" />","<a class=\"sql-entity-edit-link\" xlink:href=\"#\" data-entity=\"\">","<text class=\"sql-entity-edit-text\" />","</a>","<g class=\"sql-fields\"></g>","</g>"].join(""),fieldMarkup:["<g class=\"sql-field\">","<a class=\"sql-field-link\" xlink:href=\"#\" data-entity=\"\" data-field=\"\">","<text class=\"sql-field-text\">N/A</text>","</a>","</g>"].join(""),initialize:function initialize(){joint.dia.Element.prototype.initialize.apply(this,arguments);this.on("change:entity",this.onEntityChange,this);this.on("change:showShowTool",this.onEntityChange,this);this.on("change:showEditTool",this.onEntityChange,this);this.on("change:color",this.onColorChange,this);this.on("change:grideSize",this.onFieldsChange,this);this.on("change:fields",this.onFieldsChange,this);this.onEntityChange();this.onColorChange();this.onFieldsChange()},setPosition:function setPosition(position){this.set("position",position)},getPosition:function getPosition(){return this.get("position")},setTable:function setTable(entity){this.set("entity",entity)},getTable:function getTable(){return this.get("entity")},setColor:function setColor(color){this.set("color",color)},getColor:function getColor(){return this.get("color")},setGrideSize:function setGrideSize(grideSize){this.set("grideSize",grideSize)},getGrideSize:function getGrideSize(){return this.get("grideSize")},appendField:function appendField(field){var fields=_.clone(this.get("fields"));fields.push(field);this.set("fields",fields)},onEntityChange:function onEntityChange(){var entity=this.get("entity");this.attr(".sql-entity-show-link/data-entity",entity);this.attr(".sql-entity-edit-link/data-entity",entity);this.attr(".sql-entity-show-text/text",this.get("showShowTool")?"\uF002":"");this.attr(".sql-entity-name-text/text",entity.length>23?entity.substring(0,21)+"\u2026":entity);this.attr(".sql-entity-edit-text/text",this.get("showEditTool")?"\uF040":"")},onColorChange:function onColorChange(){var color=this.get("color");var toolColor=_getL(color)>0.75?"#000000":"#FFFFFF";this.attr(".sql-entity-show/fill",toolColor);this.attr(".sql-entity-name/fill",toolColor);this.attr(".sql-entity-edit/fill",toolColor);var strokeColor=_getStroke(color);this.attr(".sql-entity-top/fill",color);this.attr(".sql-entity-top/stroke",strokeColor);this.attr(".sql-entity-body/fill","#FFFFFF");this.attr(".sql-entity-body/stroke",strokeColor)},onFieldsChange:function onFieldsChange(){var entity=this.get("entity");var width=230;var height=0;this.get("fields").forEach(function(field){var text=field.field+": "+field.type;if(field.hidden){text="\u274C"+text}if(field.adminOnly){text="\uD83D\uDEAB"+text}if(field.crypted){text="\uD83D\uDD10"+text}if(field.primary){text="\uD83D\uDD11"+text}if(field.automatic||field.created||field.createdBy||field.modified||field.modifiedBy){text="\u2699\uFE0F"+text}field.entity=entity;field.text=text.length>26?text.substring(0,24)+"\u2026":text;field.offset=height;height+=15});height+=15;var grideSize=this.get("grideSize");width=Math.ceil(width/grideSize)*grideSize;height=Math.ceil(height/grideSize)*grideSize;this.resize(width,height);this.attr(".sql-entity-top/d",_svgRoundedRect(0.75,0.5,width,20,8,true,true,false,false));this.attr(".sql-entity-body/d",_svgRoundedRect(0.75,0.5,width,height,3,false,false,true,true))}});joint.shapes.sql.EntityView=joint.dia.ElementView.extend({initialize:function initialize(){joint.dia.ElementView.prototype.initialize.apply(this,arguments);this.listenTo(this.model,"change:fields",this.renderFields,this)},renderMarkup:function renderMarkup(){joint.dia.ElementView.prototype.renderMarkup.apply(this,arguments);this.src=V(this.model.fieldMarkup);this.dst=this.$(".sql-fields");this.renderFields()},renderFields:function renderFields(){var _this=this;this.dst.empty();this.model.get("fields").forEach(function(field){var clone=_this.src.clone().addClass(field.selector);clone.attr("transform","translate(0, "+field.offset+")");clone.find(".sql-field-link")[0].attr("data-entity",field.entity).attr("data-field",field.field);clone.find(".sql-field-text")[0].text(field.text);_this.dst.append(clone.node)});this.update()}});joint.dia.Graph.prototype.newEntity=function(entity){var result=new joint.shapes.sql.Entity(entity);this.addCell(result);return result};joint.dia.Graph.prototype.newForeignKey=function(fkEntityId,pkEntityId){var result=new joint.dia.Link({source:{id:fkEntityId},target:{id:pkEntityId},attrs:{".connection":{"stroke":"#707070","stroke-width":3},".marker-source":{"stroke":"#707070","fill":"#707070","d":"m 14.456044,15.990164 1.23e-4,7.500564 0,-7.179668 -9.0002053,5.179668 0,-11.000206 9.0000823,5.178745 1.23e-4,-7.178745 z"}}});this.addCell(result);return result};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpvaW50LnNoYXBlcy5zcWwuZXM2LmpzIl0sIm5hbWVzIjpbIl9zdmdSb3VuZGVkUmVjdCIsIngiLCJ5IiwidyIsImgiLCJyIiwidGwiLCJ0ciIsImJsIiwiYnIiLCJyZXN1bHQiLCJfaW50VG9TdHIiLCJ2IiwiTWF0aCIsImFicyIsIlYiLCJ0b1N0cmluZyIsIl9nZXRMIiwiY29sb3IiLCJwYXJzZUludCIsInN1YnN0cmluZyIsImciLCJiIiwibWluIiwibWF4IiwiX2dldFN0cm9rZSIsInJvdW5kIiwiam9pbnQiLCJzaGFwZXMiLCJzcWwiLCJkaWEiLCJFbGVtZW50IiwiZGVmaW5lIiwiZW50aXR5Iiwic2hvd1Nob3dUb29sIiwic2hvd0VkaXRUb29sIiwiZ3JpZGVTaXplIiwiZmllbGRzIiwiYXR0cnMiLCJtYXJrdXAiLCJqb2luIiwiZmllbGRNYXJrdXAiLCJpbml0aWFsaXplIiwicHJvdG90eXBlIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJvbiIsIm9uRW50aXR5Q2hhbmdlIiwib25Db2xvckNoYW5nZSIsIm9uRmllbGRzQ2hhbmdlIiwic2V0UG9zaXRpb24iLCJwb3NpdGlvbiIsInNldCIsImdldFBvc2l0aW9uIiwiZ2V0Iiwic2V0VGFibGUiLCJnZXRUYWJsZSIsInNldENvbG9yIiwiZ2V0Q29sb3IiLCJzZXRHcmlkZVNpemUiLCJnZXRHcmlkZVNpemUiLCJhcHBlbmRGaWVsZCIsImZpZWxkIiwiXyIsImNsb25lIiwicHVzaCIsImF0dHIiLCJsZW5ndGgiLCJ0b29sQ29sb3IiLCJzdHJva2VDb2xvciIsIndpZHRoIiwiaGVpZ2h0IiwiZm9yRWFjaCIsInRleHQiLCJ0eXBlIiwiaGlkZGVuIiwiYWRtaW5Pbmx5IiwiY3J5cHRlZCIsInByaW1hcnkiLCJhdXRvbWF0aWMiLCJjcmVhdGVkIiwiY3JlYXRlZEJ5IiwibW9kaWZpZWQiLCJtb2RpZmllZEJ5Iiwib2Zmc2V0IiwiY2VpbCIsInJlc2l6ZSIsIkVudGl0eVZpZXciLCJFbGVtZW50VmlldyIsImV4dGVuZCIsImxpc3RlblRvIiwibW9kZWwiLCJyZW5kZXJGaWVsZHMiLCJyZW5kZXJNYXJrdXAiLCJzcmMiLCJkc3QiLCIkIiwiZW1wdHkiLCJhZGRDbGFzcyIsInNlbGVjdG9yIiwiZmluZCIsImFwcGVuZCIsIm5vZGUiLCJ1cGRhdGUiLCJHcmFwaCIsIm5ld0VudGl0eSIsIkVudGl0eSIsImFkZENlbGwiLCJuZXdGb3JlaWduS2V5IiwiZmtFbnRpdHlJZCIsInBrRW50aXR5SWQiLCJMaW5rIiwic291cmNlIiwiaWQiLCJ0YXJnZXQiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7OztHQWVBLFFBQVNBLENBQUFBLGVBQVQsQ0FBeUJDLENBQXpCLENBQTRCQyxDQUE1QixDQUErQkMsQ0FBL0IsQ0FBa0NDLENBQWxDLENBQXFDQyxDQUFyQyxDQUF3Q0MsRUFBeEMsQ0FBNENDLEVBQTVDLENBQWdEQyxFQUFoRCxDQUFvREMsRUFBcEQsQ0FDQSxDQUNDLEdBQUlDLENBQUFBLE1BQU0sQ0FBRyxLQUFPVCxDQUFDLENBQUdJLENBQVgsRUFBZ0IsR0FBaEIsQ0FBc0JILENBQW5DLENBRUFRLE1BQU0sRUFBSSxLQUFPUCxDQUFDLENBQUcsRUFBSUUsQ0FBZixDQUFWLENBQ0EsR0FBR0UsRUFBSCxDQUFPLENBQ05HLE1BQU0sRUFBSSxJQUFNTCxDQUFOLENBQVUsR0FBVixDQUFnQkEsQ0FBaEIsQ0FBb0IsU0FBcEIsQ0FBaUMsRUFBQ0EsQ0FBbEMsQ0FBdUMsR0FBdkMsQ0FBOEMsRUFBQ0EsQ0FDekQsQ0FGRCxJQUVPLENBQ05LLE1BQU0sRUFBSSxJQUFPLEVBQUNMLENBQWxCLENBQ0FLLE1BQU0sRUFBSSxJQUFPLEVBQUNMLENBQ2xCLENBRURLLE1BQU0sRUFBSSxLQUFPTixDQUFDLENBQUcsRUFBSUMsQ0FBZixDQUFWLENBQ0EsR0FBR0ksRUFBSCxDQUFPLENBQ05DLE1BQU0sRUFBSSxJQUFNTCxDQUFOLENBQVUsR0FBVixDQUFnQkEsQ0FBaEIsQ0FBb0IsU0FBcEIsQ0FBaUMsQ0FBQ0EsQ0FBbEMsQ0FBdUMs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Q0FBU00sTUFBVCxDQUFnQnJDLEtBQUssQ0FBQ3NDLElBQXRCLENBQ0EsQ0FiRCxFQWlCQSxLQUFLQyxNQUFMLEVBR0EsQ0FuRXlELENBQTdCLENBQTlCLENBMEVBNUUsS0FBSyxDQUFDRyxHQUFOLENBQVUwRSxLQUFWLENBQWdCN0QsU0FBaEIsQ0FBMEI4RCxTQUExQixDQUFzQyxTQUFTeEUsTUFBVCxDQUN0QyxDQUNDLEdBQUl2QixDQUFBQSxNQUFNLENBQUcsR0FBSWlCLENBQUFBLEtBQUssQ0FBQ0MsTUFBTixDQUFhQyxHQUFiLENBQWlCNkUsTUFBckIsQ0FBNEJ6RSxNQUE1QixDQUFiLENBRUEsS0FBSzBFLE9BQUwsQ0FBYWpHLE1BQWIsRUFFQSxNQUFPQSxDQUFBQSxNQUNQLENBUEQsQ0FXQWlCLEtBQUssQ0FBQ0csR0FBTixDQUFVMEUsS0FBVixDQUFnQjdELFNBQWhCLENBQTBCaUUsYUFBMUIsQ0FBMEMsU0FBU0MsVUFBVCxDQUFxQkMsVUFBckIsQ0FDMUMsQ0FDQyxHQUFJcEcsQ0FBQUEsTUFBTSxDQUFHLEdBQUlpQixDQUFBQSxLQUFLLENBQUNHLEdBQU4sQ0FBVWlGLElBQWQsQ0FBbUIsQ0FDL0JDLE1BQU0sQ0FBRSxDQUFDQyxFQUFFLENBQUVKLFVBQUwsQ0FEdUIsQ0FFL0JLLE1BQU0sQ0FBRSxDQUFDRCxFQUFFLENBQUVILFVBQUwsQ0FGdUIsQ0FHL0J4RSxLQUFLLENBQUUsQ0FDTixjQUFlLENBQUMsU0FBVSxTQUFYLENBQXNCLGVBQWdCLENBQXRDLENBRFQsQ0FFTixpQkFBa0IsQ0FBQyxTQUFVLFNBQVgsQ0FBc0IsT0FBUSxTQUE5QixDQUF5QyxJQUFLLDRIQUE5QyxDQUZaLENBSHdCLENBQW5CLENBQWIsQ0FTQSxLQUFLcUUsT0FBTCxDQUFhakcsTUFBYixFQUVBLE1BQU9BLENBQUFBLE1BQ1AsQ0FkRCIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQU1JIFdlYiBGcmFtZXdvcmtcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtWFhYWCBUaGUgQU1JIFRlYW0gLyBMUFNDIC8gSU4yUDNcbiAqXG4gKiBUaGlzIGZpbGUgbXVzdCBiZSB1c2VkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgQ2VDSUxMLUM6XG4gKiBodHRwOi8vd3d3LmNlY2lsbC5pbmZvL2xpY2VuY2VzL0xpY2VuY2VfQ2VDSUxMLUNfVjEtZW4uaHRtbFxuICogaHR0cDovL3d3dy5jZWNpbGwuaW5mby9saWNlbmNlcy9MaWNlbmNlX0NlQ0lMTC1DX1YxLWZyLmh0bWxcbiAqXG4gKiBAZ2xvYmFsIF8sIFYsIGpvaW50XG4gKlxuICovXG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5mdW5jdGlvbiBfc3ZnUm91bmRlZFJlY3QoeCwgeSwgdywgaCwgciwgdGwsIHRyLCBibCwgYnIpXG57XG5cdGxldCByZXN1bHQgPSAnTScgKyAoeCArIHIpICsgJywnICsgeTtcblxuXHRyZXN1bHQgKz0gJ2gnICsgKHcgLSAyICogcik7XG5cdGlmKHRyKSB7XG5cdFx0cmVzdWx0ICs9ICdhJyArIHIgKyAnLCcgKyByICsgJyAwIDAgMSAnICsgKCtyKSArICcsJyArICgrcik7XG5cdH0gZWxzZSB7XG5cdFx0cmVzdWx0ICs9ICdoJyArICgrcik7XG5cdFx0cmVzdWx0ICs9ICd2JyArICgrcik7XG5cdH1cblxuXHRyZXN1bHQgKz0gJ3YnICsgKGggLSAyICogcik7XG5cdGlmKGJyKSB7XG5cdFx0cmVzdWx0ICs9ICdhJyArIHIgKyAnLCcgKyByICsgJyAwIDAgMSAnICsgKC1yKSArICcsJyArICgrcik7XG5cdH1cblx0ZWxzZSB7XG5cdFx0cmVzdWx0ICs9ICd2JyArICgrcik7XG5cdFx0cmVzdWx0ICs9ICdoJyArICgtcik7XG5cdH1cblxuXHRyZXN1bHQgKz0gJ2gnICsgKDIgKiByIC0gdyk7XG5cdGlmKGJsKSB7XG5cdFx0cmVzdWx0ICs9ICdhJyArIHIgKyAnLCcgKyByICsgJyAwIDAgMSAnICsgKC1yKSArICcsJyArICgtcik7XG5cdH1cblx0ZWxzZSB7XG5cdFx0cmVzdWx0ICs9ICdoJyArICgtcik7XG5cdFx0cmVzdWx0ICs9ICd2JyArICgtcik7XG5cdH1cblxuXHRyZXN1bHQgKz0gJ3YnICsgKDIgKiByIC0gaCk7XG5cdGlmKHRsKSB7XG5cdFx0cmVzdWx0ICs9ICdhJyArIHIgKyAnLCcgKyByICsgJyAwIDAgMSAnICsgKCtyKSArICcsJyArICgtcik7XG5cdH0gZWxzZSB7XG5cdFx0cmVzdWx0ICs9ICd2JyArICgtcik7XG5cdFx0cmVzdWx0ICs9ICdoJyArICgrcik7XG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0ICsgJ3onO1xufVxuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuZnVuY3Rpb24gX2ludFRvU3RyKHYpXG57XG5cdHYgPSBNYXRoLmFicyh2KTtcblxuXHRpZih2IDwgMjU2KVxuXHR7XG5cdFx0Y29uc3QgViA9IHYudG9TdHJpbmcoMTYpO1xuXG5cdFx0cmV0dXJuICh2IDwgMTYpID8gJzAnICsgVlxuXHRcdCAgICAgICAgICAgICAgICA6IC8qLSovIFZcblx0XHQ7XG5cdH1cblxuXHRyZXR1cm4gMDtcbn1cblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmZ1bmN0aW9uIF9nZXRMKGNvbG9yKVxue1xuXHRjb25zdCByID0gcGFyc2VJbnQoY29sb3Iuc3Vic3RyaW5nKDEsIDMpLCAxNik7XG5cdGNvbnN0IGcgPSBwYXJzZUludChjb2xvci5zdWJzdHJpbmcoMywgNSksIDE2KTtcblx0Y29uc3QgYiA9IHBhcnNlSW50KGNvbG9yLnN1YnN0cmluZyg1LCA3KSwgMTYpO1xuXG5cdHJldHVybiAoTWF0aC5taW4ociwgZywgYikgKyBNYXRoLm1heChyLCBnLCBiKSkgLyAoMi4wICogMjU1LjApO1xufVxuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuZnVuY3Rpb24gX2dldFN0cm9rZShjb2xvcilcbntcblx0Y29uc3QgciA9IHBhcnNlSW50KGNvbG9yLnN1YnN0cmluZygxLCAzKSwgMTYpO1xuXHRjb25zdCBnID0gcGFyc2VJbnQoY29sb3Iuc3Vic3RyaW5nKDMsIDUpLCAxNik7XG5cdGNvbnN0IGIgPSBwYXJzZUludChjb2xvci5zdWJzdHJpbmcoNSwgNyksIDE2KTtcblxuXHRyZXR1cm4gJyMnICsgX2ludFRvU3RyKE1hdGgucm91bmQoMC43NSAqIHIpKSArIF9pbnRUb1N0cihNYXRoLnJvdW5kKDAuNzUgKiBnKSkgKyBfaW50VG9TdHIoTWF0aC5yb3VuZCgwLjc1ICogYikpO1xufVxuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuam9pbnQuc2hhcGVzLnNxbCA9IHt9XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5qb2ludC5kaWEuRWxlbWVudC5kZWZpbmUoJ3NxbC5FbnRpdHknLCB7XG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0ZW50aXR5OiAnTi9BJyxcblx0c2hvd1Nob3dUb29sOiBmYWxzZSxcblx0c2hvd0VkaXRUb29sOiBmYWxzZSxcblx0Y29sb3I6ICcjMDA2NkNDJyxcblx0Z3JpZGVTaXplOiAxMCxcblx0ZmllbGRzOiBbXSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdGF0dHJzOiB7XG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHRcdCcuc3FsLWVudGl0eS10b3AnOiB7XG5cdFx0XHQncmVmLXgnOiAwLjAsXG5cdFx0XHQncmVmLXknOiAwLjAsXG5cdFx0XHQnc3Ryb2tlLXdpZHRoJzogMSxcblx0XHR9LFxuXHRcdCcuc3FsLWVudGl0eS1ib2R5Jzoge1xuXHRcdFx0J3JlZi14JzogMC4wLFxuXHRcdFx0J3JlZi15JzogMjAuMCxcblx0XHRcdCdzdHJva2Utd2lkdGgnOiAxLFxuXHRcdH0sXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHRcdCcuc3FsLWVudGl0eS1zaG93LXRleHQnOiB7XG5cdFx0XHQncmVmLXgnOiAnMiUnLFxuXHRcdFx0J3JlZi15JzogNS4wLFxuXHRcdFx0J3RleHQtYW5jaG9yJzogJ3N0YXJ0Jyxcblx0XHRcdCdmaWxsJzogJ3doaXRlJyxcblx0XHRcdCdmb250LWZhbWlseSc6ICdGb250QXdlc29tZScsXG5cdFx0XHQnZm9udC13ZWlnaHQnOiAnbm9ybWFsJyxcblx0XHRcdCdmb250LXNpemUnOiAxMixcblx0XHR9LFxuXHRcdCcuc3FsLWVudGl0eS1uYW1lLXRleHQnOiB7XG5cdFx0XHQncmVmLXgnOiAnNTAlJyxcblx0XHRcdCdyZWYteSc6IDIuNSxcblx0XHRcdCd0ZXh0LWFuY2hvcic6ICdtaWRkbGUnLFxuXHRcdFx0J2ZpbGwnOiAnd2hpdGUnLFxuXHRcdFx0J2ZvbnQtZmFtaWx5JzogJ0NvdXJpZXIgTmV3Jyxcblx0XHRcdCdmb250LXdlaWdodCc6ICdib2xkJyxcblx0XHRcdCdmb250LXNpemUnOiAxNCxcblx0XHR9LFxuXHRcdCcuc3FsLWVudGl0eS1lZGl0LXRleHQnOiB7XG5cdFx0XHQncmVmLXgnOiAnOTglJyxcblx0XHRcdCdyZWYteSc6IDUuMCxcblx0XHRcdCd0ZXh0LWFuY2hvcic6ICdlbmQnLFxuXHRcdFx0J2ZpbGwnOiAnd2hpdGUnLFxuXHRcdFx0J2ZvbnQtZmFtaWx5JzogJ0ZvbnRBd2Vzb21lJyxcblx0XHRcdCdmb250LXdlaWdodCc6ICdub3JtYWwnLFxuXHRcdFx0J2ZvbnQtc2l6ZSc6IDEyLFxuXHRcdH0sXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHRcdCcuc3FsLWZpZWxkcyc6IHtcblx0XHRcdCdyZWYteCc6IDAuMCxcblx0XHRcdCdyZWYteSc6IDI1LjAsXG5cdFx0fSxcblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdFx0Jy5zcWwtZmllbGQtdGV4dCc6IHtcblx0XHRcdCdyZWYteCc6IDAuMDMsXG5cdFx0XHQnZmlsbCc6ICdibGFjaycsXG5cdFx0XHQnZm9udC1mYW1pbHknOiAnQ291cmllciBOZXcnLFxuXHRcdFx0J2ZvbnQtd2VpZ2h0JzogJ25vcm1hbCcsXG5cdFx0XHQnZm9udC1zaXplJzogMTQsXG5cdFx0fVxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xufSwge1xuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdG1hcmt1cDogW1xuXHRcdCc8Zz4nLFxuXHRcdFx0JzxwYXRoIGNsYXNzPVwic3FsLWVudGl0eS10b3BcIiAvPicsXG5cdFx0XHQnPHBhdGggY2xhc3M9XCJzcWwtZW50aXR5LWJvZHlcIiAvPicsXG5cdFx0XHQnPGEgY2xhc3M9XCJzcWwtZW50aXR5LXNob3ctbGlua1wiIHhsaW5rOmhyZWY9XCIjXCIgZGF0YS1lbnRpdHk9XCJcIj4nLFxuXHRcdFx0XHQnPHRleHQgY2xhc3M9XCJzcWwtZW50aXR5LXNob3ctdGV4dFwiIC8+Jyxcblx0XHRcdCc8L2E+Jyxcblx0XHRcdCc8dGV4dCBjbGFzcz1cInNxbC1lbnRpdHktbmFtZS10ZXh0XCIgLz4nLFxuXHRcdFx0JzxhIGNsYXNzPVwic3FsLWVudGl0eS1lZGl0LWxpbmtcIiB4bGluazpocmVmPVwiI1wiIGRhdGEtZW50aXR5PVwiXCI+Jyxcblx0XHRcdFx0Jzx0ZXh0IGNsYXNzPVwic3FsLWVudGl0eS1lZGl0LXRleHRcIiAvPicsXG5cdFx0XHQnPC9hPicsXG5cdFx0XHQnPGcgY2xhc3M9XCJzcWwtZmllbGRzXCI+PC9nPicsXG5cdFx0JzwvZz4nLFxuXHRdLmpvaW4oJycpLFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0ZmllbGRNYXJrdXA6IFtcblx0XHQnPGcgY2xhc3M9XCJzcWwtZmllbGRcIj4nLFxuXHRcdFx0JzxhIGNsYXNzPVwic3FsLWZpZWxkLWxpbmtcIiB4bGluazpocmVmPVwiI1wiIGRhdGEtZW50aXR5PVwiXCIgZGF0YS1maWVsZD1cIlwiPicsXG5cdFx0XHRcdCc8dGV4dCBjbGFzcz1cInNxbC1maWVsZC10ZXh0XCI+Ti9BPC90ZXh0PicsXG5cdFx0XHQnPC9hPicsXG5cdFx0JzwvZz4nXG5cdF0uam9pbignJyksXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRpbml0aWFsaXplOiBmdW5jdGlvbigpXG5cdHtcblx0XHRqb2ludC5kaWEuRWxlbWVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG5cdFx0dGhpcy5vbignY2hhbmdlOmVudGl0eScsIHRoaXMub25FbnRpdHlDaGFuZ2UsIHRoaXMpO1xuXHRcdHRoaXMub24oJ2NoYW5nZTpzaG93U2hvd1Rvb2wnLCB0aGlzLm9uRW50aXR5Q2hhbmdlLCB0aGlzKTtcblx0XHR0aGlzLm9uKCdjaGFuZ2U6c2hvd0VkaXRUb29sJywgdGhpcy5vbkVudGl0eUNoYW5nZSwgdGhpcyk7XG5cdFx0dGhpcy5vbignY2hhbmdlOmNvbG9yJywgdGhpcy5vbkNvbG9yQ2hhbmdlLCB0aGlzKTtcblx0XHR0aGlzLm9uKCdjaGFuZ2U6Z3JpZGVTaXplJywgdGhpcy5vbkZpZWxkc0NoYW5nZSwgdGhpcyk7XG5cdFx0dGhpcy5vbignY2hhbmdlOmZpZWxkcycsIHRoaXMub25GaWVsZHNDaGFuZ2UsIHRoaXMpO1xuXG5cdFx0dGhpcy5vbkVudGl0eUNoYW5nZSgpO1xuXHRcdHRoaXMub25Db2xvckNoYW5nZSgpO1xuXHRcdHRoaXMub25GaWVsZHNDaGFuZ2UoKTtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdHNldFBvc2l0aW9uOiBmdW5jdGlvbihwb3NpdGlvbilcblx0e1xuXHRcdHRoaXMuc2V0KCdwb3NpdGlvbicsIHBvc2l0aW9uKTtcblx0fSxcblxuXHRnZXRQb3NpdGlvbjogZnVuY3Rpb24oKVxuXHR7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0KCdwb3NpdGlvbicpO1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0c2V0VGFibGU6IGZ1bmN0aW9uKGVudGl0eSlcblx0e1xuXHRcdHRoaXMuc2V0KCdlbnRpdHknLCBlbnRpdHkpO1xuXHR9LFxuXG5cdGdldFRhYmxlOiBmdW5jdGlvbigpXG5cdHtcblx0XHRyZXR1cm4gdGhpcy5nZXQoJ2VudGl0eScpO1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0c2V0Q29sb3I6IGZ1bmN0aW9uKGNvbG9yKVxuXHR7XG5cdFx0dGhpcy5zZXQoJ2NvbG9yJywgY29sb3IpO1xuXHR9LFxuXG5cdGdldENvbG9yOiBmdW5jdGlvbigpXG5cdHtcblx0XHRyZXR1cm4gdGhpcy5nZXQoJ2NvbG9yJyk7XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRzZXRHcmlkZVNpemU6IGZ1bmN0aW9uKGdyaWRlU2l6ZSlcblx0e1xuXHRcdHRoaXMuc2V0KCdncmlkZVNpemUnLCBncmlkZVNpemUpO1xuXHR9LFxuXG5cdGdldEdyaWRlU2l6ZTogZnVuY3Rpb24oKVxuXHR7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0KCdncmlkZVNpemUnKTtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdGFwcGVuZEZpZWxkOiBmdW5jdGlvbihmaWVsZClcblx0e1xuXHRcdGxldCBmaWVsZHMgPSBfLmNsb25lKHRoaXMuZ2V0KCdmaWVsZHMnKSk7XG5cdFx0ZmllbGRzLnB1c2goZmllbGQpO1xuXHRcdHRoaXMuc2V0KCdmaWVsZHMnLCBmaWVsZHMpO1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0b25FbnRpdHlDaGFuZ2U6IGZ1bmN0aW9uKClcblx0e1xuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdGNvbnN0IGVudGl0eSA9IHRoaXMuZ2V0KCdlbnRpdHknKTtcblxuXHRcdHRoaXMuYXR0cignLnNxbC1lbnRpdHktc2hvdy1saW5rL2RhdGEtZW50aXR5JywgZW50aXR5KTtcblx0XHR0aGlzLmF0dHIoJy5zcWwtZW50aXR5LWVkaXQtbGluay9kYXRhLWVudGl0eScsIGVudGl0eSk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHR0aGlzLmF0dHIoJy5zcWwtZW50aXR5LXNob3ctdGV4dC90ZXh0JywgdGhpcy5nZXQoJ3Nob3dTaG93VG9vbCcpID8gJ++Agidcblx0XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnJ1xuXHRcdCk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHR0aGlzLmF0dHIoJy5zcWwtZW50aXR5LW5hbWUtdGV4dC90ZXh0JywgZW50aXR5Lmxlbmd0aCA+IDIzID8gZW50aXR5LnN1YnN0cmluZygwLCAyMSkgKyAn4oCmJ1xuXHRcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZW50aXR5XG5cdFx0KTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdHRoaXMuYXR0cignLnNxbC1lbnRpdHktZWRpdC10ZXh0L3RleHQnLCB0aGlzLmdldCgnc2hvd0VkaXRUb29sJykgPyAn74GAJ1xuXHRcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICcnXG5cdFx0KTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdG9uQ29sb3JDaGFuZ2U6IGZ1bmN0aW9uKClcblx0e1xuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdGNvbnN0IGNvbG9yID0gdGhpcy5nZXQoJ2NvbG9yJyk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRjb25zdCB0b29sQ29sb3IgPSBfZ2V0TChjb2xvcikgPiAwLjc1ID8gJyMwMDAwMDAnIDogJyNGRkZGRkYnO1xuXG5cdFx0dGhpcy5hdHRyKCcuc3FsLWVudGl0eS1zaG93L2ZpbGwnLCB0b29sQ29sb3IpO1xuXHRcdHRoaXMuYXR0cignLnNxbC1lbnRpdHktbmFtZS9maWxsJywgdG9vbENvbG9yKTtcblx0XHR0aGlzLmF0dHIoJy5zcWwtZW50aXR5LWVkaXQvZmlsbCcsIHRvb2xDb2xvcik7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRjb25zdCBzdHJva2VDb2xvciA9IF9nZXRTdHJva2UoY29sb3IpO1xuXG5cdFx0dGhpcy5hdHRyKCcuc3FsLWVudGl0eS10b3AvZmlsbCcsIGNvbG9yKTtcblx0XHR0aGlzLmF0dHIoJy5zcWwtZW50aXR5LXRvcC9zdHJva2UnLCBzdHJva2VDb2xvcik7XG5cblx0XHR0aGlzLmF0dHIoJy5zcWwtZW50aXR5LWJvZHkvZmlsbCcsICcjRkZGRkZGJyk7XG5cdFx0dGhpcy5hdHRyKCcuc3FsLWVudGl0eS1ib2R5L3N0cm9rZScsIHN0cm9rZUNvbG9yKTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdG9uRmllbGRzQ2hhbmdlOiBmdW5jdGlvbigpXG5cdHtcblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRjb25zdCBlbnRpdHkgPSB0aGlzLmdldCgnZW50aXR5Jyk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRsZXQgd2lkdGggPSAyMzA7XG5cdFx0bGV0IGhlaWdodCA9IDB4MDtcblxuXHRcdHRoaXMuZ2V0KCdmaWVsZHMnKS5mb3JFYWNoKChmaWVsZCkgPT4ge1xuXG5cdFx0XHRsZXQgdGV4dCA9IGZpZWxkLmZpZWxkICsgJzogJyArIGZpZWxkLnR5cGU7XG5cblx0XHRcdGlmKGZpZWxkLmhpZGRlbikge1xuXHRcdFx0XHR0ZXh0ID0gJ+KdjCcgKyB0ZXh0O1xuXHRcdFx0fVxuXHRcdFx0aWYoZmllbGQuYWRtaW5Pbmx5KSB7XG5cdFx0XHRcdHRleHQgPSAn8J+aqycgKyB0ZXh0O1xuXHRcdFx0fVxuXHRcdFx0aWYoZmllbGQuY3J5cHRlZCkge1xuXHRcdFx0XHR0ZXh0ID0gJ/CflJAnICsgdGV4dDtcblx0XHRcdH1cblx0XHRcdGlmKGZpZWxkLnByaW1hcnkpIHtcblx0XHRcdFx0dGV4dCA9ICfwn5SRJyArIHRleHQ7XG5cdFx0XHR9XG5cdFx0XHRpZihmaWVsZC5hdXRvbWF0aWNcblx0XHRcdCAgIHx8XG5cdFx0XHQgICBmaWVsZC5jcmVhdGVkIHx8IGZpZWxkLmNyZWF0ZWRCeVxuXHRcdFx0ICAgfHxcblx0XHRcdCAgIGZpZWxkLm1vZGlmaWVkIHx8IGZpZWxkLm1vZGlmaWVkQnlcblx0XHRcdCApIHtcblx0XHRcdFx0dGV4dCA9ICfimpnvuI8nICsgdGV4dDtcblx0XHRcdH1cblxuXHRcdFx0ZmllbGQuZW50aXR5ID0gZW50aXR5O1xuXHRcdFx0ZmllbGQudGV4dCA9ICh0ZXh0Lmxlbmd0aCA+IDI2KSA/IHRleHQuc3Vic3RyaW5nKDAsIDI0KSArICfigKYnIDogdGV4dDtcblx0XHRcdGZpZWxkLm9mZnNldCA9IGhlaWdodDtcblxuXHRcdFx0aGVpZ2h0ICs9IDE1O1xuXHRcdH0pO1xuXG5cdFx0aGVpZ2h0ICs9IDE1O1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0Y29uc3QgZ3JpZGVTaXplID0gdGhpcy5nZXQoJ2dyaWRlU2l6ZScpO1xuXG5cdFx0d2lkdGggPSBNYXRoLmNlaWwod2lkdGggLyBncmlkZVNpemUpICogZ3JpZGVTaXplO1xuXHRcdGhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQgLyBncmlkZVNpemUpICogZ3JpZGVTaXplO1xuXG5cdFx0dGhpcy5yZXNpemUod2lkdGgsIGhlaWdodCk7XG5cblx0XHR0aGlzLmF0dHIoJy5zcWwtZW50aXR5LXRvcC9kJywgX3N2Z1JvdW5kZWRSZWN0KDAuNzUsIDAuNSwgd2lkdGgsIDIwLCA4LCB0cnVlLCB0cnVlLCBmYWxzZSwgZmFsc2UpKTtcblx0XHR0aGlzLmF0dHIoJy5zcWwtZW50aXR5LWJvZHkvZCcsIF9zdmdSb3VuZGVkUmVjdCgwLjc1LCAwLjUsIHdpZHRoLCBoZWlnaHQsIDMsIGZhbHNlLCBmYWxzZSwgdHJ1ZSwgdHJ1ZSkpO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHR9XG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbn0pO1xuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuam9pbnQuc2hhcGVzLnNxbC5FbnRpdHlWaWV3ID0gam9pbnQuZGlhLkVsZW1lbnRWaWV3LmV4dGVuZCh7XG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24oKVxuXHR7XG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0am9pbnQuZGlhLkVsZW1lbnRWaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHR0aGlzLmxpc3RlblRvKHRoaXMubW9kZWwsICdjaGFuZ2U6ZmllbGRzJywgdGhpcy5yZW5kZXJGaWVsZHMsIHRoaXMpO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0cmVuZGVyTWFya3VwOiBmdW5jdGlvbigpXG5cdHtcblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRqb2ludC5kaWEuRWxlbWVudFZpZXcucHJvdG90eXBlLnJlbmRlck1hcmt1cC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0dGhpcy5zcmMgPSBWKHRoaXMubW9kZWwuZmllbGRNYXJrdXApO1xuXG5cdFx0dGhpcy5kc3QgPSB0aGlzLiQoJy5zcWwtZmllbGRzJyk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHR0aGlzLnJlbmRlckZpZWxkcygpO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0cmVuZGVyRmllbGRzOiBmdW5jdGlvbigpXG5cdHtcblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHR0aGlzLmRzdC5lbXB0eSgpO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0dGhpcy5tb2RlbC5nZXQoJ2ZpZWxkcycpLmZvckVhY2goKGZpZWxkKSA9PiB7XG5cblx0XHRcdGxldCBjbG9uZSA9IHRoaXMuc3JjLmNsb25lKCkuYWRkQ2xhc3MoZmllbGQuc2VsZWN0b3IpO1xuXG5cdFx0XHRjbG9uZS5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDAsICcgKyBmaWVsZC5vZmZzZXQgKyAnKScpO1xuXG5cdFx0XHRjbG9uZS5maW5kKCcuc3FsLWZpZWxkLWxpbmsnKVswXS5hdHRyKCdkYXRhLWVudGl0eScsIGZpZWxkLmVudGl0eSlcblx0XHRcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2RhdGEtZmllbGQnLCBmaWVsZC5maWVsZClcblx0XHRcdDtcblxuXHRcdFx0Y2xvbmUuZmluZCgnLnNxbC1maWVsZC10ZXh0JylbMF0udGV4dChmaWVsZC50ZXh0KTtcblxuXHRcdFx0dGhpcy5kc3QuYXBwZW5kKGNsb25lLm5vZGUpO1xuXHRcdH0pO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0dGhpcy51cGRhdGUoKTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xufSk7XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5qb2ludC5kaWEuR3JhcGgucHJvdG90eXBlLm5ld0VudGl0eSA9IGZ1bmN0aW9uKGVudGl0eSlcbntcblx0bGV0IHJlc3VsdCA9IG5ldyBqb2ludC5zaGFwZXMuc3FsLkVudGl0eShlbnRpdHkpO1xuXG5cdHRoaXMuYWRkQ2VsbChyZXN1bHQpO1xuXG5cdHJldHVybiByZXN1bHQ7XG59O1xuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuam9pbnQuZGlhLkdyYXBoLnByb3RvdHlwZS5uZXdGb3JlaWduS2V5ID0gZnVuY3Rpb24oZmtFbnRpdHlJZCwgcGtFbnRpdHlJZClcbntcblx0bGV0IHJlc3VsdCA9IG5ldyBqb2ludC5kaWEuTGluayh7XG5cdFx0c291cmNlOiB7aWQ6IGZrRW50aXR5SWR9LFxuXHRcdHRhcmdldDoge2lkOiBwa0VudGl0eUlkfSxcblx0XHRhdHRyczoge1xuXHRcdFx0Jy5jb25uZWN0aW9uJzogeydzdHJva2UnOiAnIzcwNzA3MCcsICdzdHJva2Utd2lkdGgnOiAzfSxcblx0XHRcdCcubWFya2VyLXNvdXJjZSc6IHsnc3Ryb2tlJzogJyM3MDcwNzAnLCAnZmlsbCc6ICcjNzA3MDcwJywgJ2QnOiAnbSAxNC40NTYwNDQsMTUuOTkwMTY0IDEuMjNlLTQsNy41MDA1NjQgMCwtNy4xNzk2NjggLTkuMDAwMjA1Myw1LjE3OTY2OCAwLC0xMS4wMDAyMDYgOS4wMDAwODIzLDUuMTc4NzQ1IDEuMjNlLTQsLTcuMTc4NzQ1IHonfVxuXHRcdH1cblx0fSk7XG5cblx0dGhpcy5hZGRDZWxsKHJlc3VsdCk7XG5cblx0cmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuIl19
