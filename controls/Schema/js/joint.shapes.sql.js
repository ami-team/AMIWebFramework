/*!
 * AMI Web Framework
 *
 * Copyright (c) 2014-XXXX The AMI Team / LPSC / IN2P3
 *
 * This file must be used under the terms of the CeCILL-C:
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-fr.html
 *
 * @global _, joint
 *
 */function _svgRoundedRect(x,y,w,h,r,tl,tr,bl,br){var result="M"+(x+r)+","+y;result+="h"+(w-2*r);if(tr){result+="a"+r+","+r+" 0 0 1 "+ +r+","+ +r}else{result+="h"+ +r;result+="v"+ +r}result+="v"+(h-2*r);if(br){result+="a"+r+","+r+" 0 0 1 "+-r+","+ +r}else{result+="v"+ +r;result+="h"+-r}result+="h"+(2*r-w);if(bl){result+="a"+r+","+r+" 0 0 1 "+-r+","+-r}else{result+="h"+-r;result+="v"+-r}result+="v"+(2*r-h);if(tl){result+="a"+r+","+r+" 0 0 1 "+ +r+","+-r}else{result+="v"+-r;result+="h"+ +r}return result+"z"}function _intToStr(v){v=Math.abs(v);if(v<256){var _V=v.toString(16);return v<16?"0"+_V:_V}return 0}function _getL(color){var r=parseInt(color.substring(1,3),16);var g=parseInt(color.substring(3,5),16);var b=parseInt(color.substring(5,7),16);return(Math.min(r,g,b)+Math.max(r,g,b))/(2*255)}function _getStroke(color){var r=parseInt(color.substring(1,3),16);var g=parseInt(color.substring(3,5),16);var b=parseInt(color.substring(5,7),16);return"#"+_intToStr(Math.round(0.75*r))+_intToStr(Math.round(0.75*g))+_intToStr(Math.round(0.75*b))}joint.shapes.sql={};joint.dia.Element.define("sql.Entity",{entity:"N/A",showShowTool:false,showEditTool:false,color:"#0066CC",grideSize:10,fields:[],attrs:{".sql-entity-top":{"ref-x":0,"ref-y":0,"stroke-width":1},".sql-entity-body":{"ref-x":0,"ref-y":20,"stroke-width":1},".sql-entity-show-text":{"ref-x":"2%","ref-y":5,"text-anchor":"start","fill":"white","font-family":"FontAwesome","font-weight":"normal","font-size":12},".sql-entity-name-text":{"ref-x":"50%","ref-y":2.5,"text-anchor":"middle","fill":"white","font-family":"Courier New","font-weight":"bold","font-size":14},".sql-entity-edit-text":{"ref-x":"98%","ref-y":5,"text-anchor":"end","fill":"white","font-family":"FontAwesome","font-weight":"normal","font-size":12},".sql-fields":{"ref-x":0,"ref-y":25},".sql-field-text":{"ref-x":0.03,"fill":"black","font-family":"Courier New","font-weight":"normal","font-size":14}}},{markup:["<g>","<path class=\"sql-entity-top\" />","<path class=\"sql-entity-body\" />","<a class=\"sql-entity-show-link\" xlink:href=\"#\" data-entity=\"\">","<text class=\"sql-entity-show-text\" />","</a>","<text class=\"sql-entity-name-text\" />","<a class=\"sql-entity-edit-link\" xlink:href=\"#\" data-entity=\"\">","<text class=\"sql-entity-edit-text\" />","</a>","<g class=\"sql-fields\"></g>","</g>"].join(""),fieldMarkup:["<g class=\"sql-field\">","<a class=\"sql-field-link\" xlink:href=\"#\" data-entity=\"\" data-field=\"\">","<text class=\"sql-field-text\">N/A</text>","</a>","</g>"].join(""),initialize:function initialize(){joint.dia.Element.prototype.initialize.apply(this,arguments);this.on("change:entity",this.onEntityChange,this);this.on("change:showShowTool",this.onEntityChange,this);this.on("change:showEditTool",this.onEntityChange,this);this.on("change:color",this.onColorChange,this);this.on("change:grideSize",this.onFieldsChange,this);this.on("change:fields",this.onFieldsChange,this);this.onEntityChange();this.onColorChange();this.onFieldsChange()},setPosition:function setPosition(position){this.set("position",position)},getPosition:function getPosition(){return this.get("position")},setTable:function setTable(entity){this.set("entity",entity)},getTable:function getTable(){return this.get("entity")},setColor:function setColor(color){this.set("color",color)},getColor:function getColor(){return this.get("color")},setGrideSize:function setGrideSize(grideSize){this.set("grideSize",grideSize)},getGrideSize:function getGrideSize(){return this.get("grideSize")},appendField:function appendField(field){var fields=_.clone(this.get("fields"));fields.push(field);this.set("fields",fields)},onEntityChange:function onEntityChange(){var entity=this.get("entity");this.attr(".sql-entity-show-link/data-entity",entity);this.attr(".sql-entity-edit-link/data-entity",entity);this.attr(".sql-entity-show-text/text",this.get("showShowTool")?"\uF002":"");this.attr(".sql-entity-name-text/text",entity.length>23?entity.substring(0,21)+"\u2026":entity);this.attr(".sql-entity-edit-text/text",this.get("showEditTool")?"\uF040":"")},onColorChange:function onColorChange(){var color=this.get("color");var toolColor=_getL(color)>0.75?"#000000":"#FFFFFF";this.attr(".sql-entity-show/fill",toolColor);this.attr(".sql-entity-name/fill",toolColor);this.attr(".sql-entity-edit/fill",toolColor);var strokeColor=_getStroke(color);this.attr(".sql-entity-top/fill",color);this.attr(".sql-entity-top/stroke",strokeColor);this.attr(".sql-entity-body/fill","#FFFFFF");this.attr(".sql-entity-body/stroke",strokeColor)},onFieldsChange:function onFieldsChange(){var entity=this.get("entity");var width=230;var height=0;this.get("fields").forEach(function(field){var text=field.field+": "+field.type;if(field.hidden){text="\u274C"+text}if(field.adminOnly){text="\uD83D\uDEAB"+text}if(field.crypted){text="\uD83D\uDD10"+text}if(field.primary){text="\uD83D\uDD11"+text}if(field.created||field.createdBy||field.modified||field.modifiedBy){text="\u2699\uFE0F"+text}field.entity=entity;field.text=text.length>26?text.substring(0,24)+"\u2026":text;field.offset=height;height+=15});height+=15;var grideSize=this.get("grideSize");width=Math.ceil(width/grideSize)*grideSize;height=Math.ceil(height/grideSize)*grideSize;this.resize(width,height);this.attr(".sql-entity-top/d",_svgRoundedRect(0.75,0.5,width,20,8,true,true,false,false));this.attr(".sql-entity-body/d",_svgRoundedRect(0.75,0.5,width,height,3,false,false,true,true))}});joint.shapes.sql.EntityView=joint.dia.ElementView.extend({initialize:function initialize(){joint.dia.ElementView.prototype.initialize.apply(this,arguments);this.listenTo(this.model,"change:fields",this.renderFields,this)},renderMarkup:function renderMarkup(){joint.dia.ElementView.prototype.renderMarkup.apply(this,arguments);this.src=V(this.model.fieldMarkup);this.dst=this.$(".sql-fields");this.renderFields()},renderFields:function renderFields(){var _this=this;this.dst.empty();this.model.get("fields").forEach(function(field){var clone=_this.src.clone().addClass(field.selector);clone.attr("transform","translate(0, "+field.offset+")");clone.find(".sql-field-link")[0].attr("data-entity",field.entity).attr("data-field",field.field);clone.find(".sql-field-text")[0].text(field.text);_this.dst.append(clone.node)});this.update()}});joint.dia.Graph.prototype.newEntity=function(entity){var result=new joint.shapes.sql.Entity(entity);this.addCell(result);return result};joint.dia.Graph.prototype.newForeignKey=function(fkEntityId,pkEntityId){var result=new joint.dia.Link({source:{id:fkEntityId},target:{id:pkEntityId},attrs:{".connection":{"stroke":"#707070","stroke-width":3},".marker-source":{"stroke":"#707070","fill":"#707070","d":"m 14.456044,15.990164 1.23e-4,7.500564 0,-7.179668 -9.0002053,5.179668 0,-11.000206 9.0000823,5.178745 1.23e-4,-7.178745 z"}}});this.addCell(result);return result};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpvaW50LnNoYXBlcy5zcWwuZXM2LmpzIl0sIm5hbWVzIjpbIl9zdmdSb3VuZGVkUmVjdCIsIngiLCJ5IiwidyIsImgiLCJyIiwidGwiLCJ0ciIsImJsIiwiYnIiLCJyZXN1bHQiLCJfaW50VG9TdHIiLCJ2IiwiTWF0aCIsImFicyIsIlYiLCJ0b1N0cmluZyIsIl9nZXRMIiwiY29sb3IiLCJwYXJzZUludCIsInN1YnN0cmluZyIsImciLCJiIiwibWluIiwibWF4IiwiX2dldFN0cm9rZSIsInJvdW5kIiwiam9pbnQiLCJzaGFwZXMiLCJzcWwiLCJkaWEiLCJFbGVtZW50IiwiZGVmaW5lIiwiZW50aXR5Iiwic2hvd1Nob3dUb29sIiwic2hvd0VkaXRUb29sIiwiZ3JpZGVTaXplIiwiZmllbGRzIiwiYXR0cnMiLCJtYXJrdXAiLCJqb2luIiwiZmllbGRNYXJrdXAiLCJpbml0aWFsaXplIiwicHJvdG90eXBlIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJvbiIsIm9uRW50aXR5Q2hhbmdlIiwib25Db2xvckNoYW5nZSIsIm9uRmllbGRzQ2hhbmdlIiwic2V0UG9zaXRpb24iLCJwb3NpdGlvbiIsInNldCIsImdldFBvc2l0aW9uIiwiZ2V0Iiwic2V0VGFibGUiLCJnZXRUYWJsZSIsInNldENvbG9yIiwiZ2V0Q29sb3IiLCJzZXRHcmlkZVNpemUiLCJnZXRHcmlkZVNpemUiLCJhcHBlbmRGaWVsZCIsImZpZWxkIiwiXyIsImNsb25lIiwicHVzaCIsImF0dHIiLCJsZW5ndGgiLCJ0b29sQ29sb3IiLCJzdHJva2VDb2xvciIsIndpZHRoIiwiaGVpZ2h0IiwiZm9yRWFjaCIsInRleHQiLCJ0eXBlIiwiaGlkZGVuIiwiYWRtaW5Pbmx5IiwiY3J5cHRlZCIsInByaW1hcnkiLCJjcmVhdGVkIiwiY3JlYXRlZEJ5IiwibW9kaWZpZWQiLCJtb2RpZmllZEJ5Iiwib2Zmc2V0IiwiY2VpbCIsInJlc2l6ZSIsIkVudGl0eVZpZXciLCJFbGVtZW50VmlldyIsImV4dGVuZCIsImxpc3RlblRvIiwibW9kZWwiLCJyZW5kZXJGaWVsZHMiLCJyZW5kZXJNYXJrdXAiLCJzcmMiLCJkc3QiLCIkIiwiZW1wdHkiLCJhZGRDbGFzcyIsInNlbGVjdG9yIiwiZmluZCIsImFwcGVuZCIsIm5vZGUiLCJ1cGRhdGUiLCJHcmFwaCIsIm5ld0VudGl0eSIsIkVudGl0eSIsImFkZENlbGwiLCJuZXdGb3JlaWduS2V5IiwiZmtFbnRpdHlJZCIsInBrRW50aXR5SWQiLCJMaW5rIiwic291cmNlIiwiaWQiLCJ0YXJnZXQiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7OztHQWVBLFFBQVNBLENBQUFBLGVBQVQsQ0FBeUJDLENBQXpCLENBQTRCQyxDQUE1QixDQUErQkMsQ0FBL0IsQ0FBa0NDLENBQWxDLENBQXFDQyxDQUFyQyxDQUF3Q0MsRUFBeEMsQ0FBNENDLEVBQTVDLENBQWdEQyxFQUFoRCxDQUFvREMsRUFBcEQsQ0FDQSxDQUNDLEdBQUlDLENBQUFBLE1BQU0sQ0FBRyxLQUFPVCxDQUFDLENBQUdJLENBQVgsRUFBZ0IsR0FBaEIsQ0FBc0JILENBQW5DLENBRUFRLE1BQU0sRUFBSSxLQUFPUCxDQUFDLENBQUcsRUFBSUUsQ0FBZixDQUFWLENBQ0EsR0FBR0UsRUFBSCxDQUFPLENBQ05HLE1BQU0sRUFBSSxJQUFNTCxDQUFOLENBQVUsR0FBVixDQUFnQkEsQ0FBaEIsQ0FBb0IsU0FBcEIsQ0FBaUMsRUFBQ0EsQ0FBbEMsQ0FBdUMsR0FBdkMsQ0FBOEMsRUFBQ0EsQ0FDekQsQ0FGRCxJQUVPLENBQ05LLE1BQU0sRUFBSSxJQUFPLEVBQUNMLENBQWxCLENBQ0FLLE1BQU0sRUFBSSxJQUFPLEVBQUNMLENBQ2xCLENBRURLLE1BQU0sRUFBSSxLQUFPTixDQUFDLENBQUcsRUFBSUMsQ0FBZixDQUFWLENBQ0EsR0FBR0ksRUFBSCxDQUFPLENBQ05DLE1BQU0sRUFBSSxJQUFNTCxDQUFOLENBQVUsR0FBVixDQUFnQkEsQ0FBaEIsQ0FBb0IsU0FBcEIsQ0FBaUMsQ0FBQ0EsQ0FBbEMsQ0FBdUMsR0FBdkMsQ0FBOEMs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Q0FDQSxDQWJELEVBaUJBLEtBQUtDLE1BQUwsRUFHQSxDQW5FeUQsQ0FBN0IsQ0FBOUIsQ0EwRUEzRSxLQUFLLENBQUNHLEdBQU4sQ0FBVXlFLEtBQVYsQ0FBZ0I1RCxTQUFoQixDQUEwQjZELFNBQTFCLENBQXNDLFNBQVN2RSxNQUFULENBQ3RDLENBQ0MsR0FBSXZCLENBQUFBLE1BQU0sQ0FBRyxHQUFJaUIsQ0FBQUEsS0FBSyxDQUFDQyxNQUFOLENBQWFDLEdBQWIsQ0FBaUI0RSxNQUFyQixDQUE0QnhFLE1BQTVCLENBQWIsQ0FFQSxLQUFLeUUsT0FBTCxDQUFhaEcsTUFBYixFQUVBLE1BQU9BLENBQUFBLE1BQ1AsQ0FQRCxDQVdBaUIsS0FBSyxDQUFDRyxHQUFOLENBQVV5RSxLQUFWLENBQWdCNUQsU0FBaEIsQ0FBMEJnRSxhQUExQixDQUEwQyxTQUFTQyxVQUFULENBQXFCQyxVQUFyQixDQUMxQyxDQUNDLEdBQUluRyxDQUFBQSxNQUFNLENBQUcsR0FBSWlCLENBQUFBLEtBQUssQ0FBQ0csR0FBTixDQUFVZ0YsSUFBZCxDQUFtQixDQUMvQkMsTUFBTSxDQUFFLENBQUNDLEVBQUUsQ0FBRUosVUFBTCxDQUR1QixDQUUvQkssTUFBTSxDQUFFLENBQUNELEVBQUUsQ0FBRUgsVUFBTCxDQUZ1QixDQUcvQnZFLEtBQUssQ0FBRSxDQUNOLGNBQWUsQ0FBQyxTQUFVLFNBQVgsQ0FBc0IsZUFBZ0IsQ0FBdEMsQ0FEVCxDQUVOLGlCQUFrQixDQUFDLFNBQVUsU0FBWCxDQUFzQixPQUFRLFNBQTlCLENBQXlDLElBQUssNEhBQTlDLENBRlosQ0FId0IsQ0FBbkIsQ0FBYixDQVNBLEtBQUtvRSxPQUFMLENBQWFoRyxNQUFiLEVBRUEsTUFBT0EsQ0FBQUEsTUFDUCxDQWREIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBBTUkgV2ViIEZyYW1ld29ya1xuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNC1YWFhYIFRoZSBBTUkgVGVhbSAvIExQU0MgLyBJTjJQM1xuICpcbiAqIFRoaXMgZmlsZSBtdXN0IGJlIHVzZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBDZUNJTEwtQzpcbiAqIGh0dHA6Ly93d3cuY2VjaWxsLmluZm8vbGljZW5jZXMvTGljZW5jZV9DZUNJTEwtQ19WMS1lbi5odG1sXG4gKiBodHRwOi8vd3d3LmNlY2lsbC5pbmZvL2xpY2VuY2VzL0xpY2VuY2VfQ2VDSUxMLUNfVjEtZnIuaHRtbFxuICpcbiAqIEBnbG9iYWwgXywgam9pbnRcbiAqXG4gKi9cblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuZnVuY3Rpb24gX3N2Z1JvdW5kZWRSZWN0KHgsIHksIHcsIGgsIHIsIHRsLCB0ciwgYmwsIGJyKVxue1xuXHRsZXQgcmVzdWx0ID0gJ00nICsgKHggKyByKSArICcsJyArIHk7XG5cblx0cmVzdWx0ICs9ICdoJyArICh3IC0gMiAqIHIpO1xuXHRpZih0cikge1xuXHRcdHJlc3VsdCArPSAnYScgKyByICsgJywnICsgciArICcgMCAwIDEgJyArICgrcikgKyAnLCcgKyAoK3IpO1xuXHR9IGVsc2Uge1xuXHRcdHJlc3VsdCArPSAnaCcgKyAoK3IpO1xuXHRcdHJlc3VsdCArPSAndicgKyAoK3IpO1xuXHR9XG5cblx0cmVzdWx0ICs9ICd2JyArIChoIC0gMiAqIHIpO1xuXHRpZihicikge1xuXHRcdHJlc3VsdCArPSAnYScgKyByICsgJywnICsgciArICcgMCAwIDEgJyArICgtcikgKyAnLCcgKyAoK3IpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdHJlc3VsdCArPSAndicgKyAoK3IpO1xuXHRcdHJlc3VsdCArPSAnaCcgKyAoLXIpO1xuXHR9XG5cblx0cmVzdWx0ICs9ICdoJyArICgyICogciAtIHcpO1xuXHRpZihibCkge1xuXHRcdHJlc3VsdCArPSAnYScgKyByICsgJywnICsgciArICcgMCAwIDEgJyArICgtcikgKyAnLCcgKyAoLXIpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdHJlc3VsdCArPSAnaCcgKyAoLXIpO1xuXHRcdHJlc3VsdCArPSAndicgKyAoLXIpO1xuXHR9XG5cblx0cmVzdWx0ICs9ICd2JyArICgyICogciAtIGgpO1xuXHRpZih0bCkge1xuXHRcdHJlc3VsdCArPSAnYScgKyByICsgJywnICsgciArICcgMCAwIDEgJyArICgrcikgKyAnLCcgKyAoLXIpO1xuXHR9IGVsc2Uge1xuXHRcdHJlc3VsdCArPSAndicgKyAoLXIpO1xuXHRcdHJlc3VsdCArPSAnaCcgKyAoK3IpO1xuXHR9XG5cblx0cmV0dXJuIHJlc3VsdCArICd6Jztcbn1cblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuZnVuY3Rpb24gX2ludFRvU3RyKHYpXG57XG5cdHYgPSBNYXRoLmFicyh2KTtcblxuXHRpZih2IDwgMjU2KVxuXHR7XG5cdFx0Y29uc3QgViA9IHYudG9TdHJpbmcoMTYpO1xuXG5cdFx0cmV0dXJuICh2IDwgMTYpID8gJzAnICsgVlxuXHRcdCAgICAgICAgICAgICAgICA6IC8qLSovIFZcblx0XHQ7XG5cdH1cblxuXHRyZXR1cm4gMDtcbn1cblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuZnVuY3Rpb24gX2dldEwoY29sb3IpXG57XG5cdGNvbnN0IHIgPSBwYXJzZUludChjb2xvci5zdWJzdHJpbmcoMSwgMyksIDE2KTtcblx0Y29uc3QgZyA9IHBhcnNlSW50KGNvbG9yLnN1YnN0cmluZygzLCA1KSwgMTYpO1xuXHRjb25zdCBiID0gcGFyc2VJbnQoY29sb3Iuc3Vic3RyaW5nKDUsIDcpLCAxNik7XG5cblx0cmV0dXJuIChNYXRoLm1pbihyLCBnLCBiKSArIE1hdGgubWF4KHIsIGcsIGIpKSAvICgyLjAgKiAyNTUuMCk7XG59XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmZ1bmN0aW9uIF9nZXRTdHJva2UoY29sb3IpXG57XG5cdGNvbnN0IHIgPSBwYXJzZUludChjb2xvci5zdWJzdHJpbmcoMSwgMyksIDE2KTtcblx0Y29uc3QgZyA9IHBhcnNlSW50KGNvbG9yLnN1YnN0cmluZygzLCA1KSwgMTYpO1xuXHRjb25zdCBiID0gcGFyc2VJbnQoY29sb3Iuc3Vic3RyaW5nKDUsIDcpLCAxNik7XG5cblx0cmV0dXJuICcjJyArIF9pbnRUb1N0cihNYXRoLnJvdW5kKDAuNzUgKiByKSkgKyBfaW50VG9TdHIoTWF0aC5yb3VuZCgwLjc1ICogZykpICsgX2ludFRvU3RyKE1hdGgucm91bmQoMC43NSAqIGIpKTtcbn1cblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuam9pbnQuc2hhcGVzLnNxbCA9IHt9XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmpvaW50LmRpYS5FbGVtZW50LmRlZmluZSgnc3FsLkVudGl0eScsIHtcblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdGVudGl0eTogJ04vQScsXG5cdHNob3dTaG93VG9vbDogZmFsc2UsXG5cdHNob3dFZGl0VG9vbDogZmFsc2UsXG5cdGNvbG9yOiAnIzAwNjZDQycsXG5cdGdyaWRlU2l6ZTogMTAsXG5cdGZpZWxkczogW10sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdGF0dHJzOiB7XG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdFx0Jy5zcWwtZW50aXR5LXRvcCc6IHtcblx0XHRcdCdyZWYteCc6IDAuMCxcblx0XHRcdCdyZWYteSc6IDAuMCxcblx0XHRcdCdzdHJva2Utd2lkdGgnOiAxLFxuXHRcdH0sXG5cdFx0Jy5zcWwtZW50aXR5LWJvZHknOiB7XG5cdFx0XHQncmVmLXgnOiAwLjAsXG5cdFx0XHQncmVmLXknOiAyMC4wLFxuXHRcdFx0J3N0cm9rZS13aWR0aCc6IDEsXG5cdFx0fSxcblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0XHQnLnNxbC1lbnRpdHktc2hvdy10ZXh0Jzoge1xuXHRcdFx0J3JlZi14JzogJzIlJyxcblx0XHRcdCdyZWYteSc6IDUuMCxcblx0XHRcdCd0ZXh0LWFuY2hvcic6ICdzdGFydCcsXG5cdFx0XHQnZmlsbCc6ICd3aGl0ZScsXG5cdFx0XHQnZm9udC1mYW1pbHknOiAnRm9udEF3ZXNvbWUnLFxuXHRcdFx0J2ZvbnQtd2VpZ2h0JzogJ25vcm1hbCcsXG5cdFx0XHQnZm9udC1zaXplJzogMTIsXG5cdFx0fSxcblx0XHQnLnNxbC1lbnRpdHktbmFtZS10ZXh0Jzoge1xuXHRcdFx0J3JlZi14JzogJzUwJScsXG5cdFx0XHQncmVmLXknOiAyLjUsXG5cdFx0XHQndGV4dC1hbmNob3InOiAnbWlkZGxlJyxcblx0XHRcdCdmaWxsJzogJ3doaXRlJyxcblx0XHRcdCdmb250LWZhbWlseSc6ICdDb3VyaWVyIE5ldycsXG5cdFx0XHQnZm9udC13ZWlnaHQnOiAnYm9sZCcsXG5cdFx0XHQnZm9udC1zaXplJzogMTQsXG5cdFx0fSxcblx0XHQnLnNxbC1lbnRpdHktZWRpdC10ZXh0Jzoge1xuXHRcdFx0J3JlZi14JzogJzk4JScsXG5cdFx0XHQncmVmLXknOiA1LjAsXG5cdFx0XHQndGV4dC1hbmNob3InOiAnZW5kJyxcblx0XHRcdCdmaWxsJzogJ3doaXRlJyxcblx0XHRcdCdmb250LWZhbWlseSc6ICdGb250QXdlc29tZScsXG5cdFx0XHQnZm9udC13ZWlnaHQnOiAnbm9ybWFsJyxcblx0XHRcdCdmb250LXNpemUnOiAxMixcblx0XHR9LFxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHRcdCcuc3FsLWZpZWxkcyc6IHtcblx0XHRcdCdyZWYteCc6IDAuMCxcblx0XHRcdCdyZWYteSc6IDI1LjAsXG5cdFx0fSxcblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0XHQnLnNxbC1maWVsZC10ZXh0Jzoge1xuXHRcdFx0J3JlZi14JzogMC4wMyxcblx0XHRcdCdmaWxsJzogJ2JsYWNrJyxcblx0XHRcdCdmb250LWZhbWlseSc6ICdDb3VyaWVyIE5ldycsXG5cdFx0XHQnZm9udC13ZWlnaHQnOiAnbm9ybWFsJyxcblx0XHRcdCdmb250LXNpemUnOiAxNCxcblx0XHR9XG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xufSwge1xuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0bWFya3VwOiBbXG5cdFx0JzxnPicsXG5cdFx0XHQnPHBhdGggY2xhc3M9XCJzcWwtZW50aXR5LXRvcFwiIC8+Jyxcblx0XHRcdCc8cGF0aCBjbGFzcz1cInNxbC1lbnRpdHktYm9keVwiIC8+Jyxcblx0XHRcdCc8YSBjbGFzcz1cInNxbC1lbnRpdHktc2hvdy1saW5rXCIgeGxpbms6aHJlZj1cIiNcIiBkYXRhLWVudGl0eT1cIlwiPicsXG5cdFx0XHRcdCc8dGV4dCBjbGFzcz1cInNxbC1lbnRpdHktc2hvdy10ZXh0XCIgLz4nLFxuXHRcdFx0JzwvYT4nLFxuXHRcdFx0Jzx0ZXh0IGNsYXNzPVwic3FsLWVudGl0eS1uYW1lLXRleHRcIiAvPicsXG5cdFx0XHQnPGEgY2xhc3M9XCJzcWwtZW50aXR5LWVkaXQtbGlua1wiIHhsaW5rOmhyZWY9XCIjXCIgZGF0YS1lbnRpdHk9XCJcIj4nLFxuXHRcdFx0XHQnPHRleHQgY2xhc3M9XCJzcWwtZW50aXR5LWVkaXQtdGV4dFwiIC8+Jyxcblx0XHRcdCc8L2E+Jyxcblx0XHRcdCc8ZyBjbGFzcz1cInNxbC1maWVsZHNcIj48L2c+Jyxcblx0XHQnPC9nPicsXG5cdF0uam9pbignJyksXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdGZpZWxkTWFya3VwOiBbXG5cdFx0JzxnIGNsYXNzPVwic3FsLWZpZWxkXCI+Jyxcblx0XHRcdCc8YSBjbGFzcz1cInNxbC1maWVsZC1saW5rXCIgeGxpbms6aHJlZj1cIiNcIiBkYXRhLWVudGl0eT1cIlwiIGRhdGEtZmllbGQ9XCJcIj4nLFxuXHRcdFx0XHQnPHRleHQgY2xhc3M9XCJzcWwtZmllbGQtdGV4dFwiPk4vQTwvdGV4dD4nLFxuXHRcdFx0JzwvYT4nLFxuXHRcdCc8L2c+J1xuXHRdLmpvaW4oJycpLFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRpbml0aWFsaXplOiBmdW5jdGlvbigpXG5cdHtcblx0XHRqb2ludC5kaWEuRWxlbWVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG5cdFx0dGhpcy5vbignY2hhbmdlOmVudGl0eScsIHRoaXMub25FbnRpdHlDaGFuZ2UsIHRoaXMpO1xuXHRcdHRoaXMub24oJ2NoYW5nZTpzaG93U2hvd1Rvb2wnLCB0aGlzLm9uRW50aXR5Q2hhbmdlLCB0aGlzKTtcblx0XHR0aGlzLm9uKCdjaGFuZ2U6c2hvd0VkaXRUb29sJywgdGhpcy5vbkVudGl0eUNoYW5nZSwgdGhpcyk7XG5cdFx0dGhpcy5vbignY2hhbmdlOmNvbG9yJywgdGhpcy5vbkNvbG9yQ2hhbmdlLCB0aGlzKTtcblx0XHR0aGlzLm9uKCdjaGFuZ2U6Z3JpZGVTaXplJywgdGhpcy5vbkZpZWxkc0NoYW5nZSwgdGhpcyk7XG5cdFx0dGhpcy5vbignY2hhbmdlOmZpZWxkcycsIHRoaXMub25GaWVsZHNDaGFuZ2UsIHRoaXMpO1xuXG5cdFx0dGhpcy5vbkVudGl0eUNoYW5nZSgpO1xuXHRcdHRoaXMub25Db2xvckNoYW5nZSgpO1xuXHRcdHRoaXMub25GaWVsZHNDaGFuZ2UoKTtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0c2V0UG9zaXRpb246IGZ1bmN0aW9uKHBvc2l0aW9uKVxuXHR7XG5cdFx0dGhpcy5zZXQoJ3Bvc2l0aW9uJywgcG9zaXRpb24pO1xuXHR9LFxuXG5cdGdldFBvc2l0aW9uOiBmdW5jdGlvbigpXG5cdHtcblx0XHRyZXR1cm4gdGhpcy5nZXQoJ3Bvc2l0aW9uJyk7XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdHNldFRhYmxlOiBmdW5jdGlvbihlbnRpdHkpXG5cdHtcblx0XHR0aGlzLnNldCgnZW50aXR5JywgZW50aXR5KTtcblx0fSxcblxuXHRnZXRUYWJsZTogZnVuY3Rpb24oKVxuXHR7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0KCdlbnRpdHknKTtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0c2V0Q29sb3I6IGZ1bmN0aW9uKGNvbG9yKVxuXHR7XG5cdFx0dGhpcy5zZXQoJ2NvbG9yJywgY29sb3IpO1xuXHR9LFxuXG5cdGdldENvbG9yOiBmdW5jdGlvbigpXG5cdHtcblx0XHRyZXR1cm4gdGhpcy5nZXQoJ2NvbG9yJyk7XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdHNldEdyaWRlU2l6ZTogZnVuY3Rpb24oZ3JpZGVTaXplKVxuXHR7XG5cdFx0dGhpcy5zZXQoJ2dyaWRlU2l6ZScsIGdyaWRlU2l6ZSk7XG5cdH0sXG5cblx0Z2V0R3JpZGVTaXplOiBmdW5jdGlvbigpXG5cdHtcblx0XHRyZXR1cm4gdGhpcy5nZXQoJ2dyaWRlU2l6ZScpO1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRhcHBlbmRGaWVsZDogZnVuY3Rpb24oZmllbGQpXG5cdHtcblx0XHRsZXQgZmllbGRzID0gXy5jbG9uZSh0aGlzLmdldCgnZmllbGRzJykpO1xuXHRcdGZpZWxkcy5wdXNoKGZpZWxkKTtcblx0XHR0aGlzLnNldCgnZmllbGRzJywgZmllbGRzKTtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0b25FbnRpdHlDaGFuZ2U6IGZ1bmN0aW9uKClcblx0e1xuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0Y29uc3QgZW50aXR5ID0gdGhpcy5nZXQoJ2VudGl0eScpO1xuXG5cdFx0dGhpcy5hdHRyKCcuc3FsLWVudGl0eS1zaG93LWxpbmsvZGF0YS1lbnRpdHknLCBlbnRpdHkpO1xuXHRcdHRoaXMuYXR0cignLnNxbC1lbnRpdHktZWRpdC1saW5rL2RhdGEtZW50aXR5JywgZW50aXR5KTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0dGhpcy5hdHRyKCcuc3FsLWVudGl0eS1zaG93LXRleHQvdGV4dCcsIHRoaXMuZ2V0KCdzaG93U2hvd1Rvb2wnKSA/ICfvgIInXG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJydcblx0XHQpO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHR0aGlzLmF0dHIoJy5zcWwtZW50aXR5LW5hbWUtdGV4dC90ZXh0JywgZW50aXR5Lmxlbmd0aCA+IDIzID8gZW50aXR5LnN1YnN0cmluZygwLCAyMSkgKyAn4oCmJ1xuXHRcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZW50aXR5XG5cdFx0KTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0dGhpcy5hdHRyKCcuc3FsLWVudGl0eS1lZGl0LXRleHQvdGV4dCcsIHRoaXMuZ2V0KCdzaG93RWRpdFRvb2wnKSA/ICfvgYAnXG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJydcblx0XHQpO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdG9uQ29sb3JDaGFuZ2U6IGZ1bmN0aW9uKClcblx0e1xuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0Y29uc3QgY29sb3IgPSB0aGlzLmdldCgnY29sb3InKTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0Y29uc3QgdG9vbENvbG9yID0gX2dldEwoY29sb3IpID4gMC43NSA/ICcjMDAwMDAwJyA6ICcjRkZGRkZGJztcblxuXHRcdHRoaXMuYXR0cignLnNxbC1lbnRpdHktc2hvdy9maWxsJywgdG9vbENvbG9yKTtcblx0XHR0aGlzLmF0dHIoJy5zcWwtZW50aXR5LW5hbWUvZmlsbCcsIHRvb2xDb2xvcik7XG5cdFx0dGhpcy5hdHRyKCcuc3FsLWVudGl0eS1lZGl0L2ZpbGwnLCB0b29sQ29sb3IpO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRjb25zdCBzdHJva2VDb2xvciA9IF9nZXRTdHJva2UoY29sb3IpO1xuXG5cdFx0dGhpcy5hdHRyKCcuc3FsLWVudGl0eS10b3AvZmlsbCcsIGNvbG9yKTtcblx0XHR0aGlzLmF0dHIoJy5zcWwtZW50aXR5LXRvcC9zdHJva2UnLCBzdHJva2VDb2xvcik7XG5cblx0XHR0aGlzLmF0dHIoJy5zcWwtZW50aXR5LWJvZHkvZmlsbCcsICcjRkZGRkZGJyk7XG5cdFx0dGhpcy5hdHRyKCcuc3FsLWVudGl0eS1ib2R5L3N0cm9rZScsIHN0cm9rZUNvbG9yKTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRvbkZpZWxkc0NoYW5nZTogZnVuY3Rpb24oKVxuXHR7XG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRjb25zdCBlbnRpdHkgPSB0aGlzLmdldCgnZW50aXR5Jyk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdGxldCB3aWR0aCA9IDIzMDtcblx0XHRsZXQgaGVpZ2h0ID0gMHgwO1xuXG5cdFx0dGhpcy5nZXQoJ2ZpZWxkcycpLmZvckVhY2goKGZpZWxkKSA9PiB7XG5cblx0XHRcdGxldCB0ZXh0ID0gZmllbGQuZmllbGQgKyAnOiAnICsgZmllbGQudHlwZTtcblxuXHRcdFx0aWYoZmllbGQuaGlkZGVuKSB7XG5cdFx0XHRcdHRleHQgPSAn4p2MJyArIHRleHQ7XG5cdFx0XHR9XG5cdFx0XHRpZihmaWVsZC5hZG1pbk9ubHkpIHtcblx0XHRcdFx0dGV4dCA9ICfwn5qrJyArIHRleHQ7XG5cdFx0XHR9XG5cdFx0XHRpZihmaWVsZC5jcnlwdGVkKSB7XG5cdFx0XHRcdHRleHQgPSAn8J+UkCcgKyB0ZXh0O1xuXHRcdFx0fVxuXHRcdFx0aWYoZmllbGQucHJpbWFyeSkge1xuXHRcdFx0XHR0ZXh0ID0gJ/CflJEnICsgdGV4dDtcblx0XHRcdH1cblx0XHRcdGlmKGZpZWxkLmNyZWF0ZWQgfHwgZmllbGQuY3JlYXRlZEJ5XG5cdFx0XHQgICB8fFxuXHRcdFx0ICAgZmllbGQubW9kaWZpZWQgfHwgZmllbGQubW9kaWZpZWRCeVxuXHRcdFx0ICkge1xuXHRcdFx0XHR0ZXh0ID0gJ+Kame+4jycgKyB0ZXh0O1xuXHRcdFx0fVxuXG5cdFx0XHRmaWVsZC5lbnRpdHkgPSBlbnRpdHk7XG5cdFx0XHRmaWVsZC50ZXh0ID0gKHRleHQubGVuZ3RoID4gMjYpID8gdGV4dC5zdWJzdHJpbmcoMCwgMjQpICsgJ+KApicgOiB0ZXh0O1xuXHRcdFx0ZmllbGQub2Zmc2V0ID0gaGVpZ2h0O1xuXG5cdFx0XHRoZWlnaHQgKz0gMTU7XG5cdFx0fSk7XG5cblx0XHRoZWlnaHQgKz0gMTU7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdGNvbnN0IGdyaWRlU2l6ZSA9IHRoaXMuZ2V0KCdncmlkZVNpemUnKTtcblxuXHRcdHdpZHRoID0gTWF0aC5jZWlsKHdpZHRoIC8gZ3JpZGVTaXplKSAqIGdyaWRlU2l6ZTtcblx0XHRoZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0IC8gZ3JpZGVTaXplKSAqIGdyaWRlU2l6ZTtcblxuXHRcdHRoaXMucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuXG5cdFx0dGhpcy5hdHRyKCcuc3FsLWVudGl0eS10b3AvZCcsIF9zdmdSb3VuZGVkUmVjdCgwLjc1LCAwLjUsIHdpZHRoLCAyMCwgOCwgdHJ1ZSwgdHJ1ZSwgZmFsc2UsIGZhbHNlKSk7XG5cdFx0dGhpcy5hdHRyKCcuc3FsLWVudGl0eS1ib2R5L2QnLCBfc3ZnUm91bmRlZFJlY3QoMC43NSwgMC41LCB3aWR0aCwgaGVpZ2h0LCAzLCBmYWxzZSwgZmFsc2UsIHRydWUsIHRydWUpKTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHR9XG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xufSk7XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmpvaW50LnNoYXBlcy5zcWwuRW50aXR5VmlldyA9IGpvaW50LmRpYS5FbGVtZW50Vmlldy5leHRlbmQoe1xuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24oKVxuXHR7XG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRqb2ludC5kaWEuRWxlbWVudFZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0dGhpcy5saXN0ZW5Ubyh0aGlzLm1vZGVsLCAnY2hhbmdlOmZpZWxkcycsIHRoaXMucmVuZGVyRmllbGRzLCB0aGlzKTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRyZW5kZXJNYXJrdXA6IGZ1bmN0aW9uKClcblx0e1xuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0am9pbnQuZGlhLkVsZW1lbnRWaWV3LnByb3RvdHlwZS5yZW5kZXJNYXJrdXAuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0dGhpcy5zcmMgPSBWKHRoaXMubW9kZWwuZmllbGRNYXJrdXApO1xuXG5cdFx0dGhpcy5kc3QgPSB0aGlzLiQoJy5zcWwtZmllbGRzJyk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdHRoaXMucmVuZGVyRmllbGRzKCk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0cmVuZGVyRmllbGRzOiBmdW5jdGlvbigpXG5cdHtcblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdHRoaXMuZHN0LmVtcHR5KCk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdHRoaXMubW9kZWwuZ2V0KCdmaWVsZHMnKS5mb3JFYWNoKChmaWVsZCkgPT4ge1xuXG5cdFx0XHRsZXQgY2xvbmUgPSB0aGlzLnNyYy5jbG9uZSgpLmFkZENsYXNzKGZpZWxkLnNlbGVjdG9yKTtcblxuXHRcdFx0Y2xvbmUuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgwLCAnICsgZmllbGQub2Zmc2V0ICsgJyknKTtcblxuXHRcdFx0Y2xvbmUuZmluZCgnLnNxbC1maWVsZC1saW5rJylbMF0uYXR0cignZGF0YS1lbnRpdHknLCBmaWVsZC5lbnRpdHkpXG5cdFx0XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdkYXRhLWZpZWxkJywgZmllbGQuZmllbGQpXG5cdFx0XHQ7XG5cblx0XHRcdGNsb25lLmZpbmQoJy5zcWwtZmllbGQtdGV4dCcpWzBdLnRleHQoZmllbGQudGV4dCk7XG5cblx0XHRcdHRoaXMuZHN0LmFwcGVuZChjbG9uZS5ub2RlKTtcblx0XHR9KTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0dGhpcy51cGRhdGUoKTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbn0pO1xuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5qb2ludC5kaWEuR3JhcGgucHJvdG90eXBlLm5ld0VudGl0eSA9IGZ1bmN0aW9uKGVudGl0eSlcbntcblx0bGV0IHJlc3VsdCA9IG5ldyBqb2ludC5zaGFwZXMuc3FsLkVudGl0eShlbnRpdHkpO1xuXG5cdHRoaXMuYWRkQ2VsbChyZXN1bHQpO1xuXG5cdHJldHVybiByZXN1bHQ7XG59O1xuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5qb2ludC5kaWEuR3JhcGgucHJvdG90eXBlLm5ld0ZvcmVpZ25LZXkgPSBmdW5jdGlvbihma0VudGl0eUlkLCBwa0VudGl0eUlkKVxue1xuXHRsZXQgcmVzdWx0ID0gbmV3IGpvaW50LmRpYS5MaW5rKHtcblx0XHRzb3VyY2U6IHtpZDogZmtFbnRpdHlJZH0sXG5cdFx0dGFyZ2V0OiB7aWQ6IHBrRW50aXR5SWR9LFxuXHRcdGF0dHJzOiB7XG5cdFx0XHQnLmNvbm5lY3Rpb24nOiB7J3N0cm9rZSc6ICcjNzA3MDcwJywgJ3N0cm9rZS13aWR0aCc6IDN9LFxuXHRcdFx0Jy5tYXJrZXItc291cmNlJzogeydzdHJva2UnOiAnIzcwNzA3MCcsICdmaWxsJzogJyM3MDcwNzAnLCAnZCc6ICdtIDE0LjQ1NjA0NCwxNS45OTAxNjQgMS4yM2UtNCw3LjUwMDU2NCAwLC03LjE3OTY2OCAtOS4wMDAyMDUzLDUuMTc5NjY4IDAsLTExLjAwMDIwNiA5LjAwMDA4MjMsNS4xNzg3NDUgMS4yM2UtNCwtNy4xNzg3NDUgeid9XG5cdFx0fVxuXHR9KTtcblxuXHR0aGlzLmFkZENlbGwocmVzdWx0KTtcblxuXHRyZXR1cm4gcmVzdWx0O1xufTtcblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbiJdfQ==
