/*!
 * AMI Web Framework
 *
 * Copyright (c) 2014-XXXX The AMI Team / LPSC / IN2P3
 *
 * This file must be used under the terms of the CeCILL-C:
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-fr.html
 *
 */$AMIClass("AccordionCtrl",{$extends:ami.Control,$init:function $init(parent,owner){this.$super.$init(parent,owner);this._collapsed=false;this._cnt=0},onReady:function onReady(){var _this=this;return amiWebApp.loadResources([amiWebApp.originURL+"/controls/Accordion/twig/AccordionCtrl.twig",amiWebApp.originURL+"/controls/Accordion/twig/accordion_item.twig"],{context:this}).done(function(data){_this.fragmentAccordionCtrl=data[0];_this.fragmentAccordionItem=data[1]})},render:function render(selector,settings){var _this2=this;var result=$.Deferred();var _amiWebApp$setup=amiWebApp.setup(["context","toolbar","clazz","closable"],[result,false,null,true],settings);this._context=_amiWebApp$setup[0];this._toolbar=_amiWebApp$setup[1];this._clazz=_amiWebApp$setup[2];this._closable=_amiWebApp$setup[3];var dict={toolbar:this._toolbar};this.replaceHTML(this._selector=selector,this.fragmentAccordionCtrl,{dict:dict}).done(function(){$(_this2.patchId("#FE73B120_F051_EC64_29BC_911239F6F120")).click(function(){_this2.collapseAll()});$(_this2.patchId("#B1E0F1F1_C9A0_7D80_3580_2E314B8735D1")).click(function(){_this2.removeAll()});result.resolveWith(_this2._context)});return result.promise()},prependItem:function prependItem(title,settings){var result=$.Deferred();var _amiWebApp$setup2=amiWebApp.setup(["context","show","clazz","extraTitle","closable"],[result,false,this._clazz,"<span class=\"extraTitle\"></span>",this._closable],settings),context=_amiWebApp$setup2[0],show=_amiWebApp$setup2[1],clazz=_amiWebApp$setup2[2],extraTitle=_amiWebApp$setup2[3],closable=_amiWebApp$setup2[4];var id=this.patchId("C9FA6E82_464D_DB5C_554E_6318EC8DC711")+"_"+this._cnt++;var dict={id:id,clazz:clazz,title:title,extraTitle:extraTitle,closable:closable};this.prependHTML(this._selector,this.fragmentAccordionItem,{dict:dict}).done(function(){$("#"+id+" > .card-header > .close").click(function(){$("#"+id).remove()});if(show){$("#"+id+"_collapse").collapse("show")}result.resolveWith(context,["#"+id+"_collapse"])});return result.promise()},appendItem:function appendItem(title,settings){var result=$.Deferred();var _amiWebApp$setup3=amiWebApp.setup(["context","show","clazz","extraTitle","closable"],[result,false,this._clazz,"<span class=\"extraTitle\"></span>",this._closable],settings),context=_amiWebApp$setup3[0],show=_amiWebApp$setup3[1],clazz=_amiWebApp$setup3[2],extraTitle=_amiWebApp$setup3[3],closable=_amiWebApp$setup3[4];var id=this.patchId("C9FA6E82_464D_DB5C_554E_6318EC8DC711")+"_"+this._cnt++;var dict={id:id,title:title,extraTitle:extraTitle,clazz:clazz,closable:closable};this.appendHTML(this._selector,this.fragmentAccordionItem,{dict:dict}).done(function(){$("#"+id+" > .card-header > .close").click(function(){$("#"+id).remove()});if(show){$("#"+id+"_collapse").collapse("show")}result.resolveWith(context,["#"+id+"_collapse"])});return result.promise()},removeAll:function removeAll(){$(this._selector+" > .card").remove()},collapseAll:function collapseAll(){this._collapsed=!this._collapsed;$(this._selector+" > .card > .collapse").collapse(this._collapsed?"hide":"show")}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFjY29yZGlvbkN0cmwuZXM2LmpzIl0sIm5hbWVzIjpbIiRBTUlDbGFzcyIsIiRleHRlbmRzIiwiYW1pIiwiQ29udHJvbCIsIiRpbml0IiwicGFyZW50Iiwib3duZXIiLCIkc3VwZXIiLCJfY29sbGFwc2VkIiwiX2NudCIsIm9uUmVhZHkiLCJhbWlXZWJBcHAiLCJsb2FkUmVzb3VyY2VzIiwib3JpZ2luVVJMIiwiY29udGV4dCIsImRvbmUiLCJkYXRhIiwiZnJhZ21lbnRBY2NvcmRpb25DdHJsIiwiZnJhZ21lbnRBY2NvcmRpb25JdGVtIiwicmVuZGVyIiwic2VsZWN0b3IiLCJzZXR0aW5ncyIsInJlc3VsdCIsIiQiLCJEZWZlcnJlZCIsInNldHVwIiwiX2NvbnRleHQiLCJfdG9vbGJhciIsIl9jbGF6eiIsIl9jbG9zYWJsZSIsImRpY3QiLCJ0b29sYmFyIiwicmVwbGFjZUhUTUwiLCJfc2VsZWN0b3IiLCJwYXRjaElkIiwiY2xpY2siLCJjb2xsYXBzZUFsbCIsInJlbW92ZUFsbCIsInJlc29sdmVXaXRoIiwicHJvbWlzZSIsInByZXBlbmRJdGVtIiwidGl0bGUiLCJzaG93IiwiY2xhenoiLCJleHRyYVRpdGxlIiwiY2xvc2FibGUiLCJpZCIsInByZXBlbmRIVE1MIiwicmVtb3ZlIiwiY29sbGFwc2UiLCJhcHBlbmRJdGVtIiwiYXBwZW5kSFRNTCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7OztHQWFBQSxTQUFTLENBQUMsZUFBRCxDQUFrQixDQUcxQkMsUUFBUSxDQUFFQyxHQUFHLENBQUNDLE9BSFksQ0FPMUJDLEtBQUssQ0FBRSxlQUFTQyxNQUFULENBQWlCQyxLQUFqQixDQUNQLENBQ0MsS0FBS0MsTUFBTCxDQUFZSCxLQUFaLENBQWtCQyxNQUFsQixDQUEwQkMsS0FBMUIsRUFFQSxLQUFLRSxVQUFMLENBQWtCLEtBQWxCLENBRUEsS0FBS0MsSUFBTCxDQUFZLENBQ1osQ0FkeUIsQ0FrQjFCQyxPQUFPLENBQUUsa0JBQ1QsZ0JBQ0MsTUFBT0MsQ0FB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Q0FVQSxLQUFLTSxVQUFMLENBQWdCLEtBQUtsQixTQUFyQixDQUFnQyxLQUFLZixxQkFBckMsQ0FBNEQsQ0FBQ1ksSUFBSSxDQUFFQSxJQUFQLENBQTVELEVBQTBFZixJQUExRSxDQUErRSxVQUFNLENBSXBGUSxDQUFDLENBQUMsSUFBTXVCLEVBQU4sQ0FBVywwQkFBWixDQUFELENBQXlDWCxLQUF6QyxDQUErQyxVQUFNLENBRXBEWixDQUFDLENBQUMsSUFBTXVCLEVBQVAsQ0FBRCxDQUFZRSxNQUFaLEVBQ0EsQ0FIRCxFQU9BLEdBQUdOLElBQUgsQ0FDQSxDQUNDbkIsQ0FBQyxDQUFDLElBQU11QixFQUFOLENBQVcsV0FBWixDQUFELENBQTBCRyxRQUExQixDQUFtQyxNQUFuQyxDQUNBLENBSUQzQixNQUFNLENBQUNnQixXQUFQLENBQW1CeEIsT0FBbkIsQ0FBNEIsQ0FBQyxJQUFNZ0MsRUFBTixDQUFXLFdBQVosQ0FBNUIsQ0FHQSxDQXJCRCxFQXlCQSxNQUFPeEIsQ0FBQUEsTUFBTSxDQUFDaUIsT0FBUCxFQUNQLENBM095QixDQStPMUJGLFNBQVMsQ0FBRSxvQkFDWCxDQUNDZCxDQUFDLENBQUMsS0FBS1UsU0FBTCxDQUFpQixVQUFsQixDQUFELENBQStCZSxNQUEvQixFQUNBLENBbFB5QixDQXNQMUJaLFdBQVcsQ0FBRSxzQkFDYixDQUNDLEtBQUs1QixVQUFMLENBQWtCLENBQUMsS0FBS0EsVUFBeEIsQ0FFQWUsQ0FBQyxDQUFDLEtBQUtVLFNBQUwsQ0FBaUIsc0JBQWxCLENBQUQsQ0FBMkNnQixRQUEzQyxDQUFxRCxLQUFLekMsVUFBTCxDQUFrQixNQUFsQixDQUEyQixNQUFoRixDQUNBLENBM1B5QixDQUFsQixDQUFUIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBBTUkgV2ViIEZyYW1ld29ya1xuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNC1YWFhYIFRoZSBBTUkgVGVhbSAvIExQU0MgLyBJTjJQM1xuICpcbiAqIFRoaXMgZmlsZSBtdXN0IGJlIHVzZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBDZUNJTEwtQzpcbiAqIGh0dHA6Ly93d3cuY2VjaWxsLmluZm8vbGljZW5jZXMvTGljZW5jZV9DZUNJTEwtQ19WMS1lbi5odG1sXG4gKiBodHRwOi8vd3d3LmNlY2lsbC5pbmZvL2xpY2VuY2VzL0xpY2VuY2VfQ2VDSUxMLUNfVjEtZnIuaHRtbFxuICpcbiAqL1xuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuJEFNSUNsYXNzKCdBY2NvcmRpb25DdHJsJywge1xuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdCRleHRlbmRzOiBhbWkuQ29udHJvbCxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdCRpbml0OiBmdW5jdGlvbihwYXJlbnQsIG93bmVyKVxuXHR7XG5cdFx0dGhpcy4kc3VwZXIuJGluaXQocGFyZW50LCBvd25lcik7XG5cblx0XHR0aGlzLl9jb2xsYXBzZWQgPSBmYWxzZTtcblxuXHRcdHRoaXMuX2NudCA9IDA7XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRvblJlYWR5OiBmdW5jdGlvbigpXG5cdHtcblx0XHRyZXR1cm4gYW1pV2ViQXBwLmxvYWRSZXNvdXJjZXMoW1xuXHRcdFx0YW1pV2ViQXBwLm9yaWdpblVSTCArICcvY29udHJvbHMvQWNjb3JkaW9uL3R3aWcvQWNjb3JkaW9uQ3RybC50d2lnJyxcblx0XHRcdGFtaVdlYkFwcC5vcmlnaW5VUkwgKyAnL2NvbnRyb2xzL0FjY29yZGlvbi90d2lnL2FjY29yZGlvbl9pdGVtLnR3aWcnLFxuXHRcdF0sIHtjb250ZXh0OiB0aGlzfSkuZG9uZSgoZGF0YSkgPT4ge1xuXG5cdFx0XHR0aGlzLmZyYWdtZW50QWNjb3JkaW9uQ3RybCA9IGRhdGFbMF07XG5cdFx0XHR0aGlzLmZyYWdtZW50QWNjb3JkaW9uSXRlbSA9IGRhdGFbMV07XG5cdFx0fSk7XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRyZW5kZXI6IGZ1bmN0aW9uKHNlbGVjdG9yLCBzZXR0aW5ncylcblx0e1xuXHRcdGNvbnN0IHJlc3VsdCA9ICQuRGVmZXJyZWQoKTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFtcblx0XHRcdHRoaXMuX2NvbnRleHQsXG5cdFx0XHR0aGlzLl90b29sYmFyLFxuXHRcdFx0dGhpcy5fY2xhenosXG5cdFx0XHR0aGlzLl9jbG9zYWJsZSxcblx0XHRdID0gYW1pV2ViQXBwLnNldHVwKFxuXHRcdFx0W1xuXHRcdFx0XHQnY29udGV4dCcsXG5cdFx0XHRcdCd0b29sYmFyJyxcblx0XHRcdFx0J2NsYXp6Jyxcblx0XHRcdFx0J2Nsb3NhYmxlJyxcblx0XHRcdF0sXG5cdFx0XHRbXG5cdFx0XHRcdHJlc3VsdCxcblx0XHRcdFx0ZmFsc2UsXG5cdFx0XHRcdG51bGwsXG5cdFx0XHRcdHRydWUsXG5cdFx0XHRdLFxuXHRcdFx0c2V0dGluZ3Ncblx0XHQpO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0Y29uc3QgZGljdCA9IHtcblx0XHRcdHRvb2xiYXI6IHRoaXMuX3Rvb2xiYXIsXG5cdFx0fTtcblxuXHRcdHRoaXMucmVwbGFjZUhUTUwodGhpcy5fc2VsZWN0b3IgPSBzZWxlY3RvciwgdGhpcy5mcmFnbWVudEFjY29yZGlvbkN0cmwsIHtkaWN0OiBkaWN0fSkuZG9uZSgoKSA9PiB7XG5cblx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHQkKHRoaXMucGF0Y2hJZCgnI0ZFNzNCMTIwX0YwNTFfRUM2NF8yOUJDXzkxMTIzOUY2RjEyMCcpKS5jbGljaygoKSA9PiB7XG5cblx0XHRcdFx0dGhpcy5jb2xsYXBzZUFsbCgpO1xuXHRcdFx0fSk7XG5cblx0XHRcdCQodGhpcy5wYXRjaElkKCcjQjFFMEYxRjFfQzlBMF83RDgwXzM1ODBfMkUzMTRCODczNUQxJykpLmNsaWNrKCgpID0+IHtcblxuXHRcdFx0XHR0aGlzLnJlbW92ZUFsbCgpO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRyZXN1bHQucmVzb2x2ZVdpdGgodGhpcy5fY29udGV4dCk7XG5cblx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHJlc3VsdC5wcm9taXNlKCk7XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRwcmVwZW5kSXRlbTogZnVuY3Rpb24odGl0bGUsIHNldHRpbmdzKVxuXHR7XG5cdFx0Y29uc3QgcmVzdWx0ID0gJC5EZWZlcnJlZCgpO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0Y29uc3QgW1xuXHRcdFx0Y29udGV4dCxcblx0XHRcdHNob3csXG5cdFx0XHRjbGF6eixcblx0XHRcdGV4dHJhVGl0bGUsXG5cdFx0XHRjbG9zYWJsZSxcblx0XHRdID0gYW1pV2ViQXBwLnNldHVwKFxuXHRcdFx0W1xuXHRcdFx0XHQnY29udGV4dCcsXG5cdFx0XHRcdCdzaG93Jyxcblx0XHRcdFx0J2NsYXp6Jyxcblx0XHRcdFx0J2V4dHJhVGl0bGUnLFxuXHRcdFx0XHQnY2xvc2FibGUnLFxuXHRcdFx0XSxcblx0XHRcdFtcblx0XHRcdFx0cmVzdWx0LFxuXHRcdFx0XHRmYWxzZSxcblx0XHRcdFx0dGhpcy5fY2xhenosXG5cdFx0XHRcdCc8c3BhbiBjbGFzcz1cImV4dHJhVGl0bGVcIj48L3NwYW4+Jyxcblx0XHRcdFx0dGhpcy5fY2xvc2FibGUsXG5cdFx0XHRdLFxuXHRcdFx0c2V0dGluZ3Ncblx0XHQpO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0Y29uc3QgaWQgPSB0aGlzLnBhdGNoSWQoJ0M5RkE2RTgyXzQ2NERfREI1Q181NTRFXzYzMThFQzhEQzcxMScpICsgJ18nICsgdGhpcy5fY250Kys7XG5cblx0XHRjb25zdCBkaWN0ID0ge1xuXHRcdFx0aWQ6IGlkLFxuXHRcdFx0Y2xheno6IGNsYXp6LFxuXHRcdFx0dGl0bGU6IHRpdGxlLFxuXHRcdFx0ZXh0cmFUaXRsZTogZXh0cmFUaXRsZSxcblx0XHRcdGNsb3NhYmxlOiBjbG9zYWJsZSxcblx0XHR9O1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0dGhpcy5wcmVwZW5kSFRNTCh0aGlzLl9zZWxlY3RvciwgdGhpcy5mcmFnbWVudEFjY29yZGlvbkl0ZW0sIHtkaWN0OiBkaWN0fSkuZG9uZSgoKSA9PiB7XG5cblx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHQkKCcjJyArIGlkICsgJyA+IC5jYXJkLWhlYWRlciA+IC5jbG9zZScpLmNsaWNrKCgpID0+IHtcblxuXHRcdFx0XHQkKCcjJyArIGlkKS5yZW1vdmUoKTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0aWYoc2hvdylcblx0XHRcdHtcblx0XHRcdFx0JCgnIycgKyBpZCArICdfY29sbGFwc2UnKS5jb2xsYXBzZSgnc2hvdycpO1xuXHRcdFx0fVxuXG5cdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0cmVzdWx0LnJlc29sdmVXaXRoKGNvbnRleHQsIFsnIycgKyBpZCArICdfY29sbGFwc2UnXSk7XG5cblx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHRcdH0pO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0cmV0dXJuIHJlc3VsdC5wcm9taXNlKCk7XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRhcHBlbmRJdGVtOiBmdW5jdGlvbih0aXRsZSwgc2V0dGluZ3MpXG5cdHtcblx0XHRjb25zdCByZXN1bHQgPSAkLkRlZmVycmVkKCk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRjb25zdCBbXG5cdFx0XHRjb250ZXh0LFxuXHRcdFx0c2hvdyxcblx0XHRcdGNsYXp6LFxuXHRcdFx0ZXh0cmFUaXRsZSxcblx0XHRcdGNsb3NhYmxlLFxuXHRcdF0gPSBhbWlXZWJBcHAuc2V0dXAoXG5cdFx0XHRbXG5cdFx0XHRcdCdjb250ZXh0Jyxcblx0XHRcdFx0J3Nob3cnLFxuXHRcdFx0XHQnY2xhenonLFxuXHRcdFx0XHQnZXh0cmFUaXRsZScsXG5cdFx0XHRcdCdjbG9zYWJsZScsXG5cdFx0XHRdLFxuXHRcdFx0W1xuXHRcdFx0XHRyZXN1bHQsXG5cdFx0XHRcdGZhbHNlLFxuXHRcdFx0XHR0aGlzLl9jbGF6eixcblx0XHRcdFx0JzxzcGFuIGNsYXNzPVwiZXh0cmFUaXRsZVwiPjwvc3Bhbj4nLFxuXHRcdFx0XHR0aGlzLl9jbG9zYWJsZSxcblx0XHRcdF0sXG5cdFx0XHRzZXR0aW5nc1xuXHRcdCk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRjb25zdCBpZCA9IHRoaXMucGF0Y2hJZCgnQzlGQTZFODJfNDY0RF9EQjVDXzU1NEVfNjMxOEVDOERDNzExJykgKyAnXycgKyB0aGlzLl9jbnQrKztcblxuXHRcdGNvbnN0IGRpY3QgPSB7XG5cdFx0XHRpZDogaWQsXG5cdFx0XHR0aXRsZTogdGl0bGUsXG5cdFx0XHRleHRyYVRpdGxlOiBleHRyYVRpdGxlLFxuXHRcdFx0Y2xheno6IGNsYXp6LFxuXHRcdFx0Y2xvc2FibGU6IGNsb3NhYmxlLFxuXHRcdH07XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHR0aGlzLmFwcGVuZEhUTUwodGhpcy5fc2VsZWN0b3IsIHRoaXMuZnJhZ21lbnRBY2NvcmRpb25JdGVtLCB7ZGljdDogZGljdH0pLmRvbmUoKCkgPT4ge1xuXG5cdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0JCgnIycgKyBpZCArICcgPiAuY2FyZC1oZWFkZXIgPiAuY2xvc2UnKS5jbGljaygoKSA9PiB7XG5cblx0XHRcdFx0JCgnIycgKyBpZCkucmVtb3ZlKCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRcdGlmKHNob3cpXG5cdFx0XHR7XG5cdFx0XHRcdCQoJyMnICsgaWQgKyAnX2NvbGxhcHNlJykuY29sbGFwc2UoJ3Nob3cnKTtcblx0XHRcdH1cblxuXHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRcdHJlc3VsdC5yZXNvbHZlV2l0aChjb250ZXh0LCBbJyMnICsgaWQgKyAnX2NvbGxhcHNlJ10pO1xuXG5cdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0XHR9KTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdHJldHVybiByZXN1bHQucHJvbWlzZSgpO1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0cmVtb3ZlQWxsOiBmdW5jdGlvbigpXG5cdHtcblx0XHQkKHRoaXMuX3NlbGVjdG9yICsgJyA+IC5jYXJkJykucmVtb3ZlKCk7XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRjb2xsYXBzZUFsbDogZnVuY3Rpb24oKVxuXHR7XG5cdFx0dGhpcy5fY29sbGFwc2VkID0gIXRoaXMuX2NvbGxhcHNlZDtcblxuXHRcdCQodGhpcy5fc2VsZWN0b3IgKyAnID4gLmNhcmQgPiAuY29sbGFwc2UnKS5jb2xsYXBzZSggdGhpcy5fY29sbGFwc2VkID8gJ2hpZGUnIDogJ3Nob3cnKTtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xufSk7XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuIl19
