/*!
 * AMI Web Framework
 *
 * Copyright (c) 2014-XXXX The AMI Team / LPSC / IN2P3
 *
 * This file must be used under the terms of the CeCILL-C:
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html
 * http://www.cecill.info/licences/Licence_CeCILL-C_V1-fr.html
 *
 */$AMIClass("AccordionCtrl",{$extends:ami.Control,$init:function $init(parent,owner){this.$super.$init(parent,owner);this._collapsed=false;this._cnt=0},onReady:function onReady(){var _this=this;return amiWebApp.loadResources([amiWebApp.originURL+"/controls/Accordion/twig/AccordionCtrl.twig",amiWebApp.originURL+"/controls/Accordion/twig/accordion_item.twig"],{context:this}).done(function(data){_this.fragmentAccordionCtrl=data[0];_this.fragmentAccordionItem=data[1]})},render:function render(selector,settings){var _this2=this;var result=$.Deferred();var _amiWebApp$setup=amiWebApp.setup(["context","toolbar","clazz","closable"],[result,false,null,true],settings);this._context=_amiWebApp$setup[0];this._toolbar=_amiWebApp$setup[1];this._clazz=_amiWebApp$setup[2];this._closable=_amiWebApp$setup[3];var dict={toolbar:this._toolbar};this.replaceHTML(this.setSelector(selector),this.fragmentAccordionCtrl,{dict:dict}).done(function(){$(_this2.patchId("#FE73B120_F051_EC64_29BC_911239F6F120")).click(function(){_this2.collapseAll()});$(_this2.patchId("#B1E0F1F1_C9A0_7D80_3580_2E314B8735D1")).click(function(){_this2.removeAll()});result.resolveWith(_this2._context)});return result.promise()},prependItem:function prependItem(title,settings){var result=$.Deferred();var _amiWebApp$setup2=amiWebApp.setup(["context","show","clazz","extraTitle","closable"],[result,false,this._clazz,"<span class=\"extraTitle\"></span>",this._closable],settings),context=_amiWebApp$setup2[0],show=_amiWebApp$setup2[1],clazz=_amiWebApp$setup2[2],extraTitle=_amiWebApp$setup2[3],closable=_amiWebApp$setup2[4];var id=this.patchId("C9FA6E82_464D_DB5C_554E_6318EC8DC711")+"_"+this._cnt++;var dict={id:id,clazz:clazz,title:title,extraTitle:extraTitle,closable:closable};this.prependHTML(this.getSelector(),this.fragmentAccordionItem,{dict:dict}).done(function(){$("#"+id+" > .card-header > .close").click(function(){$("#"+id).remove()});if(show){$("#"+id+"_collapse").collapse("show")}result.resolveWith(context,["#"+id+"_collapse"])});return result.promise()},appendItem:function appendItem(title,settings){var result=$.Deferred();var _amiWebApp$setup3=amiWebApp.setup(["context","show","clazz","extraTitle","closable"],[result,false,this._clazz,"<span class=\"extraTitle\"></span>",this._closable],settings),context=_amiWebApp$setup3[0],show=_amiWebApp$setup3[1],clazz=_amiWebApp$setup3[2],extraTitle=_amiWebApp$setup3[3],closable=_amiWebApp$setup3[4];var id=this.patchId("C9FA6E82_464D_DB5C_554E_6318EC8DC711")+"_"+this._cnt++;var dict={id:id,title:title,extraTitle:extraTitle,clazz:clazz,closable:closable};this.appendHTML(this.getSelector(),this.fragmentAccordionItem,{dict:dict}).done(function(){$("#"+id+" > .card-header > .close").click(function(){$("#"+id).remove()});if(show){$("#"+id+"_collapse").collapse("show")}result.resolveWith(context,["#"+id+"_collapse"])});return result.promise()},removeAll:function removeAll(){$(this.getSelector()+" > .card").remove()},collapseAll:function collapseAll(){this._collapsed=!this._collapsed;$(this.getSelector()+" > .card > .collapse").collapse(this._collapsed?"hide":"show")}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFjY29yZGlvbkN0cmwuZXM2LmpzIl0sIm5hbWVzIjpbIiRBTUlDbGFzcyIsIiRleHRlbmRzIiwiYW1pIiwiQ29udHJvbCIsIiRpbml0IiwicGFyZW50Iiwib3duZXIiLCIkc3VwZXIiLCJfY29sbGFwc2VkIiwiX2NudCIsIm9uUmVhZHkiLCJhbWlXZWJBcHAiLCJsb2FkUmVzb3VyY2VzIiwib3JpZ2luVVJMIiwiY29udGV4dCIsImRvbmUiLCJkYXRhIiwiZnJhZ21lbnRBY2NvcmRpb25DdHJsIiwiZnJhZ21lbnRBY2NvcmRpb25JdGVtIiwicmVuZGVyIiwic2VsZWN0b3IiLCJzZXR0aW5ncyIsInJlc3VsdCIsIiQiLCJEZWZlcnJlZCIsInNldHVwIiwiX2NvbnRleHQiLCJfdG9vbGJhciIsIl9jbGF6eiIsIl9jbG9zYWJsZSIsImRpY3QiLCJ0b29sYmFyIiwicmVwbGFjZUhUTUwiLCJzZXRTZWxlY3RvciIsInBhdGNoSWQiLCJjbGljayIsImNvbGxhcHNlQWxsIiwicmVtb3ZlQWxsIiwicmVzb2x2ZVdpdGgiLCJwcm9taXNlIiwicHJlcGVuZEl0ZW0iLCJ0aXRsZSIsInNob3ciLCJjbGF6eiIsImV4dHJhVGl0bGUiLCJjbG9zYWJsZSIsImlkIiwicHJlcGVuZEhUTUwiLCJnZXRTZWxlY3RvciIsInJlbW92ZSIsImNvbGxhcHNlIiwiYXBwZW5kSXRlbSIsImFwcGVuZEhUTUwiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7R0FhQUEsU0FBUyxDQUFDLGVBQUQsQ0FBa0IsQ0FHMUJDLFFBQVEsQ0FBRUMsR0FBRyxDQUFDQyxPQUhZLENBTzFCQyxLQUFLLENBQUUsZUFBU0MsTUFBVCxDQUFpQkMsS0FBakIsQ0FDUCxDQUNDLEtBQUtDLE1BQUwsQ0FBWUgsS0FBWixDQUFrQkMsTUFBbEIsQ0FBMEJDLEtBQTFCLEVBRUEsS0FBS0UsVUFBTCxDQUFrQixLQUFsQixDQUVBLEtBQUtDLElBQUwsQ0FBWSxDQUNaLENBZHlCLENBa0IxQkMsT0FBTyxDQUFFLGtCQUNU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LENBS1pFLFFBQVEsQ0FBRUEsUUFMRSxDQUFiLENBVUEsS0FBS08sVUFBTCxDQUFnQixLQUFLSixXQUFMLEVBQWhCLENBQW9DLEtBQUs5QixxQkFBekMsQ0FBZ0UsQ0FBQ1ksSUFBSSxDQUFFQSxJQUFQLENBQWhFLEVBQThFZixJQUE5RSxDQUFtRixVQUFNLENBSXhGUSxDQUFDLENBQUMsSUFBTXVCLEVBQU4sQ0FBVywwQkFBWixDQUFELENBQXlDWCxLQUF6QyxDQUErQyxVQUFNLENBRXBEWixDQUFDLENBQUMsSUFBTXVCLEVBQVAsQ0FBRCxDQUFZRyxNQUFaLEVBQ0EsQ0FIRCxFQU9BLEdBQUdQLElBQUgsQ0FDQSxDQUNDbkIsQ0FBQyxDQUFDLElBQU11QixFQUFOLENBQVcsV0FBWixDQUFELENBQTBCSSxRQUExQixDQUFtQyxNQUFuQyxDQUNBLENBSUQ1QixNQUFNLENBQUNnQixXQUFQLENBQW1CeEIsT0FBbkIsQ0FBNEIsQ0FBQyxJQUFNZ0MsRUFBTixDQUFXLFdBQVosQ0FBNUIsQ0FHQSxDQXJCRCxFQXlCQSxNQUFPeEIsQ0FBQUEsTUFBTSxDQUFDaUIsT0FBUCxFQUNQLENBM095QixDQStPMUJGLFNBQVMsQ0FBRSxvQkFDWCxDQUNDZCxDQUFDLENBQUMsS0FBS3lCLFdBQUwsR0FBcUIsVUFBdEIsQ0FBRCxDQUFtQ0MsTUFBbkMsRUFDQSxDQWxQeUIsQ0FzUDFCYixXQUFXLENBQUUsc0JBQ2IsQ0FDQyxLQUFLNUIsVUFBTCxDQUFrQixDQUFDLEtBQUtBLFVBQXhCLENBRUFlLENBQUMsQ0FBQyxLQUFLeUIsV0FBTCxHQUFxQixzQkFBdEIsQ0FBRCxDQUErQ0UsUUFBL0MsQ0FBeUQsS0FBSzFDLFVBQUwsQ0FBa0IsTUFBbEIsQ0FBMkIsTUFBcEYsQ0FDQSxDQTNQeUIsQ0FBbEIsQ0FBVCIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQU1JIFdlYiBGcmFtZXdvcmtcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtWFhYWCBUaGUgQU1JIFRlYW0gLyBMUFNDIC8gSU4yUDNcbiAqXG4gKiBUaGlzIGZpbGUgbXVzdCBiZSB1c2VkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgQ2VDSUxMLUM6XG4gKiBodHRwOi8vd3d3LmNlY2lsbC5pbmZvL2xpY2VuY2VzL0xpY2VuY2VfQ2VDSUxMLUNfVjEtZW4uaHRtbFxuICogaHR0cDovL3d3dy5jZWNpbGwuaW5mby9saWNlbmNlcy9MaWNlbmNlX0NlQ0lMTC1DX1YxLWZyLmh0bWxcbiAqXG4gKi9cblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiRBTUlDbGFzcygnQWNjb3JkaW9uQ3RybCcsIHtcblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQkZXh0ZW5kczogYW1pLkNvbnRyb2wsXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQkaW5pdDogZnVuY3Rpb24ocGFyZW50LCBvd25lcilcblx0e1xuXHRcdHRoaXMuJHN1cGVyLiRpbml0KHBhcmVudCwgb3duZXIpO1xuXG5cdFx0dGhpcy5fY29sbGFwc2VkID0gZmFsc2U7XG5cblx0XHR0aGlzLl9jbnQgPSAwO1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0b25SZWFkeTogZnVuY3Rpb24oKVxuXHR7XG5cdFx0cmV0dXJuIGFtaVdlYkFwcC5sb2FkUmVzb3VyY2VzKFtcblx0XHRcdGFtaVdlYkFwcC5vcmlnaW5VUkwgKyAnL2NvbnRyb2xzL0FjY29yZGlvbi90d2lnL0FjY29yZGlvbkN0cmwudHdpZycsXG5cdFx0XHRhbWlXZWJBcHAub3JpZ2luVVJMICsgJy9jb250cm9scy9BY2NvcmRpb24vdHdpZy9hY2NvcmRpb25faXRlbS50d2lnJyxcblx0XHRdLCB7Y29udGV4dDogdGhpc30pLmRvbmUoKGRhdGEpID0+IHtcblxuXHRcdFx0dGhpcy5mcmFnbWVudEFjY29yZGlvbkN0cmwgPSBkYXRhWzBdO1xuXHRcdFx0dGhpcy5mcmFnbWVudEFjY29yZGlvbkl0ZW0gPSBkYXRhWzFdO1xuXHRcdH0pO1xuXHR9LFxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0cmVuZGVyOiBmdW5jdGlvbihzZWxlY3Rvciwgc2V0dGluZ3MpXG5cdHtcblx0XHRjb25zdCByZXN1bHQgPSAkLkRlZmVycmVkKCk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRbXG5cdFx0XHR0aGlzLl9jb250ZXh0LFxuXHRcdFx0dGhpcy5fdG9vbGJhcixcblx0XHRcdHRoaXMuX2NsYXp6LFxuXHRcdFx0dGhpcy5fY2xvc2FibGUsXG5cdFx0XSA9IGFtaVdlYkFwcC5zZXR1cChcblx0XHRcdFtcblx0XHRcdFx0J2NvbnRleHQnLFxuXHRcdFx0XHQndG9vbGJhcicsXG5cdFx0XHRcdCdjbGF6eicsXG5cdFx0XHRcdCdjbG9zYWJsZScsXG5cdFx0XHRdLFxuXHRcdFx0W1xuXHRcdFx0XHRyZXN1bHQsXG5cdFx0XHRcdGZhbHNlLFxuXHRcdFx0XHRudWxsLFxuXHRcdFx0XHR0cnVlLFxuXHRcdFx0XSxcblx0XHRcdHNldHRpbmdzXG5cdFx0KTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdGNvbnN0IGRpY3QgPSB7XG5cdFx0XHR0b29sYmFyOiB0aGlzLl90b29sYmFyLFxuXHRcdH07XG5cblx0XHR0aGlzLnJlcGxhY2VIVE1MKHRoaXMuc2V0U2VsZWN0b3Ioc2VsZWN0b3IpLCB0aGlzLmZyYWdtZW50QWNjb3JkaW9uQ3RybCwge2RpY3Q6IGRpY3R9KS5kb25lKCgpID0+IHtcblxuXHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRcdCQodGhpcy5wYXRjaElkKCcjRkU3M0IxMjBfRjA1MV9FQzY0XzI5QkNfOTExMjM5RjZGMTIwJykpLmNsaWNrKCgpID0+IHtcblxuXHRcdFx0XHR0aGlzLmNvbGxhcHNlQWxsKCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0JCh0aGlzLnBhdGNoSWQoJyNCMUUwRjFGMV9DOUEwXzdEODBfMzU4MF8yRTMxNEI4NzM1RDEnKSkuY2xpY2soKCkgPT4ge1xuXG5cdFx0XHRcdHRoaXMucmVtb3ZlQWxsKCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRcdHJlc3VsdC5yZXNvbHZlV2l0aCh0aGlzLl9jb250ZXh0KTtcblxuXHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gcmVzdWx0LnByb21pc2UoKTtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdHByZXBlbmRJdGVtOiBmdW5jdGlvbih0aXRsZSwgc2V0dGluZ3MpXG5cdHtcblx0XHRjb25zdCByZXN1bHQgPSAkLkRlZmVycmVkKCk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRjb25zdCBbXG5cdFx0XHRjb250ZXh0LFxuXHRcdFx0c2hvdyxcblx0XHRcdGNsYXp6LFxuXHRcdFx0ZXh0cmFUaXRsZSxcblx0XHRcdGNsb3NhYmxlLFxuXHRcdF0gPSBhbWlXZWJBcHAuc2V0dXAoXG5cdFx0XHRbXG5cdFx0XHRcdCdjb250ZXh0Jyxcblx0XHRcdFx0J3Nob3cnLFxuXHRcdFx0XHQnY2xhenonLFxuXHRcdFx0XHQnZXh0cmFUaXRsZScsXG5cdFx0XHRcdCdjbG9zYWJsZScsXG5cdFx0XHRdLFxuXHRcdFx0W1xuXHRcdFx0XHRyZXN1bHQsXG5cdFx0XHRcdGZhbHNlLFxuXHRcdFx0XHR0aGlzLl9jbGF6eixcblx0XHRcdFx0JzxzcGFuIGNsYXNzPVwiZXh0cmFUaXRsZVwiPjwvc3Bhbj4nLFxuXHRcdFx0XHR0aGlzLl9jbG9zYWJsZSxcblx0XHRcdF0sXG5cdFx0XHRzZXR0aW5nc1xuXHRcdCk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRjb25zdCBpZCA9IHRoaXMucGF0Y2hJZCgnQzlGQTZFODJfNDY0RF9EQjVDXzU1NEVfNjMxOEVDOERDNzExJykgKyAnXycgKyB0aGlzLl9jbnQrKztcblxuXHRcdGNvbnN0IGRpY3QgPSB7XG5cdFx0XHRpZDogaWQsXG5cdFx0XHRjbGF6ejogY2xhenosXG5cdFx0XHR0aXRsZTogdGl0bGUsXG5cdFx0XHRleHRyYVRpdGxlOiBleHRyYVRpdGxlLFxuXHRcdFx0Y2xvc2FibGU6IGNsb3NhYmxlLFxuXHRcdH07XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHR0aGlzLnByZXBlbmRIVE1MKHRoaXMuZ2V0U2VsZWN0b3IoKSwgdGhpcy5mcmFnbWVudEFjY29yZGlvbkl0ZW0sIHtkaWN0OiBkaWN0fSkuZG9uZSgoKSA9PiB7XG5cblx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHQkKCcjJyArIGlkICsgJyA+IC5jYXJkLWhlYWRlciA+IC5jbG9zZScpLmNsaWNrKCgpID0+IHtcblxuXHRcdFx0XHQkKCcjJyArIGlkKS5yZW1vdmUoKTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0aWYoc2hvdylcblx0XHRcdHtcblx0XHRcdFx0JCgnIycgKyBpZCArICdfY29sbGFwc2UnKS5jb2xsYXBzZSgnc2hvdycpO1xuXHRcdFx0fVxuXG5cdFx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdFx0cmVzdWx0LnJlc29sdmVXaXRoKGNvbnRleHQsIFsnIycgKyBpZCArICdfY29sbGFwc2UnXSk7XG5cblx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHRcdH0pO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0cmV0dXJuIHJlc3VsdC5wcm9taXNlKCk7XG5cdH0sXG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRhcHBlbmRJdGVtOiBmdW5jdGlvbih0aXRsZSwgc2V0dGluZ3MpXG5cdHtcblx0XHRjb25zdCByZXN1bHQgPSAkLkRlZmVycmVkKCk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRjb25zdCBbXG5cdFx0XHRjb250ZXh0LFxuXHRcdFx0c2hvdyxcblx0XHRcdGNsYXp6LFxuXHRcdFx0ZXh0cmFUaXRsZSxcblx0XHRcdGNsb3NhYmxlLFxuXHRcdF0gPSBhbWlXZWJBcHAuc2V0dXAoXG5cdFx0XHRbXG5cdFx0XHRcdCdjb250ZXh0Jyxcblx0XHRcdFx0J3Nob3cnLFxuXHRcdFx0XHQnY2xhenonLFxuXHRcdFx0XHQnZXh0cmFUaXRsZScsXG5cdFx0XHRcdCdjbG9zYWJsZScsXG5cdFx0XHRdLFxuXHRcdFx0W1xuXHRcdFx0XHRyZXN1bHQsXG5cdFx0XHRcdGZhbHNlLFxuXHRcdFx0XHR0aGlzLl9jbGF6eixcblx0XHRcdFx0JzxzcGFuIGNsYXNzPVwiZXh0cmFUaXRsZVwiPjwvc3Bhbj4nLFxuXHRcdFx0XHR0aGlzLl9jbG9zYWJsZSxcblx0XHRcdF0sXG5cdFx0XHRzZXR0aW5nc1xuXHRcdCk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRjb25zdCBpZCA9IHRoaXMucGF0Y2hJZCgnQzlGQTZFODJfNDY0RF9EQjVDXzU1NEVfNjMxOEVDOERDNzExJykgKyAnXycgKyB0aGlzLl9jbnQrKztcblxuXHRcdGNvbnN0IGRpY3QgPSB7XG5cdFx0XHRpZDogaWQsXG5cdFx0XHR0aXRsZTogdGl0bGUsXG5cdFx0XHRleHRyYVRpdGxlOiBleHRyYVRpdGxlLFxuXHRcdFx0Y2xheno6IGNsYXp6LFxuXHRcdFx0Y2xvc2FibGU6IGNsb3NhYmxlLFxuXHRcdH07XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHR0aGlzLmFwcGVuZEhUTUwodGhpcy5nZXRTZWxlY3RvcigpLCB0aGlzLmZyYWdtZW50QWNjb3JkaW9uSXRlbSwge2RpY3Q6IGRpY3R9KS5kb25lKCgpID0+IHtcblxuXHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRcdCQoJyMnICsgaWQgKyAnID4gLmNhcmQtaGVhZGVyID4gLmNsb3NlJykuY2xpY2soKCkgPT4ge1xuXG5cdFx0XHRcdCQoJyMnICsgaWQpLnJlbW92ZSgpO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRpZihzaG93KVxuXHRcdFx0e1xuXHRcdFx0XHQkKCcjJyArIGlkICsgJ19jb2xsYXBzZScpLmNvbGxhcHNlKCdzaG93Jyk7XG5cdFx0XHR9XG5cblx0XHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0XHRyZXN1bHQucmVzb2x2ZVdpdGgoY29udGV4dCwgWycjJyArIGlkICsgJ19jb2xsYXBzZSddKTtcblxuXHRcdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdFx0fSk7XG5cblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0XHRyZXR1cm4gcmVzdWx0LnByb21pc2UoKTtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdHJlbW92ZUFsbDogZnVuY3Rpb24oKVxuXHR7XG5cdFx0JCh0aGlzLmdldFNlbGVjdG9yKCkgKyAnID4gLmNhcmQnKS5yZW1vdmUoKTtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdGNvbGxhcHNlQWxsOiBmdW5jdGlvbigpXG5cdHtcblx0XHR0aGlzLl9jb2xsYXBzZWQgPSAhdGhpcy5fY29sbGFwc2VkO1xuXG5cdFx0JCh0aGlzLmdldFNlbGVjdG9yKCkgKyAnID4gLmNhcmQgPiAuY29sbGFwc2UnKS5jb2xsYXBzZSggdGhpcy5fY29sbGFwc2VkID8gJ2hpZGUnIDogJ3Nob3cnKTtcblx0fSxcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xufSk7XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuIl19
